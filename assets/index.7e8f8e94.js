var CV=Object.defineProperty,NV=Object.defineProperties;var kV=Object.getOwnPropertyDescriptors;var Lk=Object.getOwnPropertySymbols;var AV=Object.prototype.hasOwnProperty,RV=Object.prototype.propertyIsEnumerable;var Mk=(t,e,n)=>e in t?CV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fk=(t,e)=>{for(var n in e||(e={}))AV.call(e,n)&&Mk(t,n,e[n]);if(Lk)for(var n of Lk(e))RV.call(e,n)&&Mk(t,n,e[n]);return t},Uk=(t,e)=>NV(t,kV(e));function xV(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const OV=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};OV();function HO(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var U={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),PV=Symbol.for("react.portal"),DV=Symbol.for("react.fragment"),LV=Symbol.for("react.strict_mode"),MV=Symbol.for("react.profiler"),FV=Symbol.for("react.provider"),UV=Symbol.for("react.context"),jV=Symbol.for("react.forward_ref"),$V=Symbol.for("react.suspense"),VV=Symbol.for("react.memo"),BV=Symbol.for("react.lazy"),jk=Symbol.iterator;function zV(t){return t===null||typeof t!="object"?null:(t=jk&&t[jk]||t["@@iterator"],typeof t=="function"?t:null)}var GO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KO=Object.assign,QO={};function Vl(t,e,n){this.props=t,this.context=e,this.refs=QO,this.updater=n||GO}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YO(){}YO.prototype=Vl.prototype;function B1(t,e,n){this.props=t,this.context=e,this.refs=QO,this.updater=n||GO}var z1=B1.prototype=new YO;z1.constructor=B1;KO(z1,Vl.prototype);z1.isPureReactComponent=!0;var $k=Array.isArray,XO=Object.prototype.hasOwnProperty,W1={current:null},JO={key:!0,ref:!0,__self:!0,__source:!0};function ZO(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)XO.call(e,r)&&!JO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ah,type:t,key:s,ref:a,props:i,_owner:W1.current}}function WV(t,e){return{$$typeof:Ah,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah}function qV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vk=/\/+/g;function k_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qV(""+t.key):e.toString(36)}function Kd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ah:case PV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+k_(a,0):r,$k(i)?(n="",t!=null&&(n=t.replace(Vk,"$&/")+"/"),Kd(i,e,n,"",function(h){return h})):i!=null&&(q1(i)&&(i=WV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Vk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",$k(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+k_(s,l);a+=Kd(s,e,n,c,i)}else if(c=zV(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+k_(s,l++),a+=Kd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return Kd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},Qd={transition:null},GV={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:W1};Te.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!q1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Vl;Te.Fragment=DV;Te.Profiler=MV;Te.PureComponent=B1;Te.StrictMode=LV;Te.Suspense=$V;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KO({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=W1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)XO.call(e,c)&&!JO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Ah,type:t.type,key:i,ref:s,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:UV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FV,_context:t},t.Consumer=t};Te.createElement=ZO;Te.createFactory=function(t){var e=ZO.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:jV,render:t}};Te.isValidElement=q1;Te.lazy=function(t){return{$$typeof:BV,_payload:{_status:-1,_result:t},_init:HV}};Te.memo=function(t,e){return{$$typeof:VV,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Qd.transition;Qd.transition={};try{t()}finally{Qd.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return Mn.current.useCallback(t,e)};Te.useContext=function(t){return Mn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Mn.current.useEffect(t,e)};Te.useId=function(){return Mn.current.useId()};Te.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Mn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};Te.useRef=function(t){return Mn.current.useRef(t)};Te.useState=function(t){return Mn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Mn.current.useTransition()};Te.version="18.1.0";U.exports=Te;var sa=U.exports,wa=xV({__proto__:null,default:sa},[U.exports]),Qw={},eP={exports:{}},_r={},tP={exports:{}},nP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,le){var he=q.length;q.push(le);e:for(;0<he;){var He=he-1>>>1,ut=q[He];if(0<i(ut,le))q[He]=le,q[he]=ut,he=He;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var le=q[0],he=q.pop();if(he!==le){q[0]=he;e:for(var He=0,ut=q.length,qi=ut>>>1;He<qi;){var Zt=2*(He+1)-1,br=q[Zt],jn=Zt+1,Le=q[jn];if(0>i(br,he))jn<ut&&0>i(Le,br)?(q[He]=Le,q[jn]=he,He=jn):(q[He]=br,q[Zt]=he,He=Zt);else if(jn<ut&&0>i(Le,he))q[He]=Le,q[jn]=he,He=jn;else break e}}return le}function i(q,le){var he=q.sortIndex-le.sortIndex;return he!==0?he:q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,g=null,v=3,y=!1,_=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=q)r(h),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(h)}}function R(q){if(E=!1,T(q),!_)if(n(c)!==null)_=!0,Fe(A);else{var le=n(h);le!==null&&Re(R,le.startTime-q)}}function A(q,le){_=!1,E&&(E=!1,b(P),P=-1),y=!0;var he=v;try{for(T(le),g=n(c);g!==null&&(!(g.expirationTime>le)||q&&!oe());){var He=g.callback;if(typeof He=="function"){g.callback=null,v=g.priorityLevel;var ut=He(g.expirationTime<=le);le=t.unstable_now(),typeof ut=="function"?g.callback=ut:g===n(c)&&r(c),T(le)}else r(c);g=n(c)}if(g!==null)var qi=!0;else{var Zt=n(h);Zt!==null&&Re(R,Zt.startTime-le),qi=!1}return qi}finally{g=null,v=he,y=!1}}var L=!1,F=null,P=-1,N=5,B=-1;function oe(){return!(t.unstable_now()-B<N)}function _e(){if(F!==null){var q=t.unstable_now();B=q;var le=!0;try{le=F(!0,q)}finally{le?Ne():(L=!1,F=null)}}else L=!1}var Ne;if(typeof I=="function")Ne=function(){I(_e)};else if(typeof MessageChannel!="undefined"){var Oe=new MessageChannel,qe=Oe.port2;Oe.port1.onmessage=_e,Ne=function(){qe.postMessage(null)}}else Ne=function(){C(_e,0)};function Fe(q){F=q,L||(L=!0,Ne())}function Re(q,le){P=C(function(){q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Fe(A))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var he=v;v=le;try{return q()}finally{v=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,le){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=v;v=q;try{return le()}finally{v=he}},t.unstable_scheduleCallback=function(q,le,he){var He=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?He+he:He):he=He,q){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=he+ut,q={id:d++,callback:le,priorityLevel:q,startTime:he,expirationTime:ut,sortIndex:-1},he>He?(q.sortIndex=he,e(h,q),n(c)===null&&q===n(h)&&(E?(b(P),P=-1):E=!0,Re(R,he-He))):(q.sortIndex=ut,e(c,q),_||y||(_=!0,Fe(A))),q},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(q){var le=v;return function(){var he=v;v=le;try{return q.apply(this,arguments)}finally{v=he}}}})(nP);tP.exports=nP;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=U.exports,gr=tP.exports;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iP=new Set,$f={};function $a(t,e){El(t,e),El(t+"Capture",e)}function El(t,e){for($f[t]=e,t=0;t<e.length;t++)iP.add(e[t])}var _o=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Yw=Object.prototype.hasOwnProperty,KV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bk={},zk={};function QV(t){return Yw.call(zk,t)?!0:Yw.call(Bk,t)?!1:KV.test(t)?zk[t]=!0:(Bk[t]=!0,!1)}function YV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XV(t,e,n,r){if(e===null||typeof e=="undefined"||YV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function G1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H1,G1);ln[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H1,G1);ln[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H1,G1);ln[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function K1(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XV(e,n,i,r)&&(n=null),r||i===null?QV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var No=rP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),Bu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),sP=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),Jw=Symbol.for("react.suspense"),Zw=Symbol.for("react.suspense_list"),X1=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),aP=Symbol.for("react.offscreen"),Wk=Symbol.iterator;function Yc(t){return t===null||typeof t!="object"?null:(t=Wk&&t[Wk]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,A_;function gf(t){if(A_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);A_=e&&e[1]||""}return`
`+A_+t}var R_=!1;function x_(t,e){if(!t||R_)return"";R_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{R_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gf(t):""}function JV(t){switch(t.tag){case 5:return gf(t.type);case 16:return gf("Lazy");case 13:return gf("Suspense");case 19:return gf("SuspenseList");case 0:case 2:case 15:return t=x_(t.type,!1),t;case 11:return t=x_(t.type.render,!1),t;case 1:return t=x_(t.type,!0),t;default:return""}}function eE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zu:return"Fragment";case Bu:return"Portal";case Xw:return"Profiler";case Q1:return"StrictMode";case Jw:return"Suspense";case Zw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sP:return(t.displayName||"Context")+".Consumer";case oP:return(t._context.displayName||"Context")+".Provider";case Y1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X1:return e=t.displayName||null,e!==null?e:eE(t.type)||"Memo";case Bo:e=t._payload,t=t._init;try{return eE(t(e))}catch{}}return null}function ZV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eE(e);case 8:return e===Q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e5(t){var e=uP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hd(t){t._valueTracker||(t._valueTracker=e5(t))}function lP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _v(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function tE(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function qk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cP(t,e){e=e.checked,e!=null&&K1(t,"checked",e,!1)}function nE(t,e){cP(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rE(t,e.type,n):e.hasOwnProperty("defaultValue")&&rE(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rE(t,e,n){(e!=="number"||_v(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mf=Array.isArray;function il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(mf(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function fP(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,pP=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t5=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(t){t5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sf[e]=Sf[t]})});function dP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sf.hasOwnProperty(t)&&Sf[t]?(""+e).trim():e+"px"}function vP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n5=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sE(t,e){if(e){if(n5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function aE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uE=null;function J1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lE=null,ol=null,sl=null;function Qk(t){if(t=Oh(t)){if(typeof lE!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Mg(e),lE(t.stateNode,t.type,e))}}function gP(t){ol?sl?sl.push(t):sl=[t]:ol=t}function mP(){if(ol){var t=ol,e=sl;if(sl=ol=null,Qk(t),e)for(t=0;t<e.length;t++)Qk(e[t])}}function yP(t,e){return t(e)}function _P(){}var O_=!1;function wP(t,e,n){if(O_)return t(e,n);O_=!0;try{return yP(t,e,n)}finally{O_=!1,(ol!==null||sl!==null)&&(_P(),mP())}}function Bf(t,e){var n=t.stateNode;if(n===null)return null;var r=Mg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var cE=!1;if(_o)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){cE=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{cE=!1}function r5(t,e,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var If=!1,wv=null,Ev=!1,fE=null,i5={onError:function(t){If=!0,wv=t}};function o5(t,e,n,r,i,s,a,l,c){If=!1,wv=null,r5.apply(i5,arguments)}function s5(t,e,n,r,i,s,a,l,c){if(o5.apply(this,arguments),If){if(If){var h=wv;If=!1,wv=null}else throw Error(V(198));Ev||(Ev=!0,fE=h)}}function Va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yk(t){if(Va(t)!==t)throw Error(V(188))}function a5(t){var e=t.alternate;if(!e){if(e=Va(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yk(i),t;if(s===r)return Yk(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function bP(t){return t=a5(t),t!==null?SP(t):null}function SP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SP(t);if(e!==null)return e;t=t.sibling}return null}var IP=gr.unstable_scheduleCallback,Xk=gr.unstable_cancelCallback,u5=gr.unstable_shouldYield,l5=gr.unstable_requestPaint,bt=gr.unstable_now,c5=gr.unstable_getCurrentPriorityLevel,Z1=gr.unstable_ImmediatePriority,TP=gr.unstable_UserBlockingPriority,bv=gr.unstable_NormalPriority,f5=gr.unstable_LowPriority,CP=gr.unstable_IdlePriority,Og=null,Li=null;function h5(t){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(Og,t,void 0,(t.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:v5,p5=Math.log,d5=Math.LN2;function v5(t){return t>>>=0,t===0?32:31-(p5(t)/d5|0)|0}var dd=64,vd=4194304;function yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=yf(l):(s&=a,s!==0&&(r=yf(s)))}else a=n&~i,a!==0?r=yf(a):s!==0&&(r=yf(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pi(e),i=1<<n,r|=t[n],e&=~i;return r}function g5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-pi(s),l=1<<a,c=i[a];c===-1?((l&n)===0||(l&r)!==0)&&(i[a]=g5(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function hE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NP(){var t=dd;return dd<<=1,(dd&4194240)===0&&(dd=64),t}function P_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pi(e),t[e]=n}function y5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function eb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function kP(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var AP,tb,RP,xP,OP,pE=!1,gd=[],es=null,ts=null,ns=null,zf=new Map,Wf=new Map,Ho=[],_5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jk(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(e.pointerId)}}function Jc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oh(e),e!==null&&tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w5(t,e,n,r,i){switch(e){case"focusin":return es=Jc(es,t,e,n,r,i),!0;case"dragenter":return ts=Jc(ts,t,e,n,r,i),!0;case"mouseover":return ns=Jc(ns,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zf.set(s,Jc(zf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wf.set(s,Jc(Wf.get(s)||null,t,e,n,r,i)),!0}return!1}function PP(t){var e=aa(t.target);if(e!==null){var n=Va(e);if(n!==null){if(e=n.tag,e===13){if(e=EP(n),e!==null){t.blockedOn=e,OP(t.priority,function(){RP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uE=r,n.target.dispatchEvent(r),uE=null}else return e=Oh(n),e!==null&&tb(e),t.blockedOn=n,!1;e.shift()}return!0}function Zk(t,e,n){Yd(t)&&n.delete(e)}function E5(){pE=!1,es!==null&&Yd(es)&&(es=null),ts!==null&&Yd(ts)&&(ts=null),ns!==null&&Yd(ns)&&(ns=null),zf.forEach(Zk),Wf.forEach(Zk)}function Zc(t,e){t.blockedOn===e&&(t.blockedOn=null,pE||(pE=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,E5)))}function qf(t){function e(i){return Zc(i,t)}if(0<gd.length){Zc(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(es!==null&&Zc(es,t),ts!==null&&Zc(ts,t),ns!==null&&Zc(ns,t),zf.forEach(e),Wf.forEach(e),n=0;n<Ho.length;n++)r=Ho[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ho.length&&(n=Ho[0],n.blockedOn===null);)PP(n),n.blockedOn===null&&Ho.shift()}var al=No.ReactCurrentBatchConfig,Iv=!0;function b5(t,e,n,r){var i=$e,s=al.transition;al.transition=null;try{$e=1,nb(t,e,n,r)}finally{$e=i,al.transition=s}}function S5(t,e,n,r){var i=$e,s=al.transition;al.transition=null;try{$e=4,nb(t,e,n,r)}finally{$e=i,al.transition=s}}function nb(t,e,n,r){if(Iv){var i=dE(t,e,n,r);if(i===null)z_(t,e,r,Tv,n),Jk(t,r);else if(w5(i,t,e,n,r))r.stopPropagation();else if(Jk(t,r),e&4&&-1<_5.indexOf(t)){for(;i!==null;){var s=Oh(i);if(s!==null&&AP(s),s=dE(t,e,n,r),s===null&&z_(t,e,r,Tv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else z_(t,e,r,null,n)}}var Tv=null;function dE(t,e,n,r){if(Tv=null,t=J1(r),t=aa(t),t!==null)if(e=Va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tv=t,null}function DP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c5()){case Z1:return 1;case TP:return 4;case bv:case f5:return 16;case CP:return 536870912;default:return 16}default:return 16}}var Xo=null,rb=null,Xd=null;function LP(){if(Xd)return Xd;var t,e=rb,n=e.length,r,i="value"in Xo?Xo.value:Xo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Xd=i.slice(t,1<r?1-r:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function md(){return!0}function eA(){return!1}function wr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?md:eA,this.isPropagationStopped=eA,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ib=wr(Bl),xh=pt({},Bl,{view:0,detail:0}),I5=wr(xh),D_,L_,ef,Pg=pt({},xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ef&&(ef&&t.type==="mousemove"?(D_=t.screenX-ef.screenX,L_=t.screenY-ef.screenY):L_=D_=0,ef=t),D_)},movementY:function(t){return"movementY"in t?t.movementY:L_}}),tA=wr(Pg),T5=pt({},Pg,{dataTransfer:0}),C5=wr(T5),N5=pt({},xh,{relatedTarget:0}),M_=wr(N5),k5=pt({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),A5=wr(k5),R5=pt({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x5=wr(R5),O5=pt({},Bl,{data:0}),nA=wr(O5),P5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L5[t])?!!e[t]:!1}function ob(){return M5}var F5=pt({},xh,{key:function(t){if(t.key){var e=P5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U5=wr(F5),j5=pt({},Pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rA=wr(j5),$5=pt({},xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),V5=wr($5),B5=pt({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z5=wr(B5),W5=pt({},Pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q5=wr(W5),H5=[9,13,27,32],sb=_o&&"CompositionEvent"in window,Tf=null;_o&&"documentMode"in document&&(Tf=document.documentMode);var G5=_o&&"TextEvent"in window&&!Tf,MP=_o&&(!sb||Tf&&8<Tf&&11>=Tf),iA=String.fromCharCode(32),oA=!1;function FP(t,e){switch(t){case"keyup":return H5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wu=!1;function K5(t,e){switch(t){case"compositionend":return UP(e);case"keypress":return e.which!==32?null:(oA=!0,iA);case"textInput":return t=e.data,t===iA&&oA?null:t;default:return null}}function Q5(t,e){if(Wu)return t==="compositionend"||!sb&&FP(t,e)?(t=LP(),Xd=rb=Xo=null,Wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MP&&e.locale!=="ko"?null:e.data;default:return null}}var Y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y5[t.type]:e==="textarea"}function jP(t,e,n,r){gP(r),e=Cv(e,"onChange"),0<e.length&&(n=new ib("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cf=null,Hf=null;function X5(t){YP(t,0)}function Dg(t){var e=Gu(t);if(lP(e))return t}function J5(t,e){if(t==="change")return e}var $P=!1;if(_o){var F_;if(_o){var U_="oninput"in document;if(!U_){var aA=document.createElement("div");aA.setAttribute("oninput","return;"),U_=typeof aA.oninput=="function"}F_=U_}else F_=!1;$P=F_&&(!document.documentMode||9<document.documentMode)}function uA(){Cf&&(Cf.detachEvent("onpropertychange",VP),Hf=Cf=null)}function VP(t){if(t.propertyName==="value"&&Dg(Hf)){var e=[];jP(e,Hf,t,J1(t)),wP(X5,e)}}function Z5(t,e,n){t==="focusin"?(uA(),Cf=e,Hf=n,Cf.attachEvent("onpropertychange",VP)):t==="focusout"&&uA()}function eB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dg(Hf)}function tB(t,e){if(t==="click")return Dg(e)}function nB(t,e){if(t==="input"||t==="change")return Dg(e)}function rB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:rB;function Gf(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yw.call(e,i)||!gi(t[i],e[i]))return!1}return!0}function lA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cA(t,e){var n=lA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lA(n)}}function BP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zP(){for(var t=window,e=_v();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_v(t.document)}return e}function ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iB(t){var e=zP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BP(n.ownerDocument.documentElement,n)){if(r!==null&&ab(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cA(n,s);var a=cA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oB=_o&&"documentMode"in document&&11>=document.documentMode,qu=null,vE=null,Nf=null,gE=!1;function fA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gE||qu==null||qu!==_v(r)||(r=qu,"selectionStart"in r&&ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nf&&Gf(Nf,r)||(Nf=r,r=Cv(vE,"onSelect"),0<r.length&&(e=new ib("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qu)))}function yd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hu={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},j_={},WP={};_o&&(WP=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function Lg(t){if(j_[t])return j_[t];if(!Hu[t])return t;var e=Hu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WP)return j_[t]=e[n];return t}var qP=Lg("animationend"),HP=Lg("animationiteration"),GP=Lg("animationstart"),KP=Lg("transitionend"),QP=new Map,hA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,e){QP.set(t,e),$a(e,[t])}for(var $_=0;$_<hA.length;$_++){var V_=hA[$_],sB=V_.toLowerCase(),aB=V_[0].toUpperCase()+V_.slice(1);bs(sB,"on"+aB)}bs(qP,"onAnimationEnd");bs(HP,"onAnimationIteration");bs(GP,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(KP,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("cancel close invalid load scroll toggle".split(" ").concat(_f));function pA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s5(r,e,void 0,t),t.currentTarget=null}function YP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;pA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;pA(i,l,h),s=c}}}if(Ev)throw t=fE,Ev=!1,fE=null,t}function Ye(t,e){var n=e[EE];n===void 0&&(n=e[EE]=new Set);var r=t+"__bubble";n.has(r)||(XP(e,t,2,!1),n.add(r))}function B_(t,e,n){var r=0;e&&(r|=4),XP(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[_d]){t[_d]=!0,iP.forEach(function(n){n!=="selectionchange"&&(uB.has(n)||B_(n,!1,t),B_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,B_("selectionchange",!1,e))}}function XP(t,e,n,r){switch(DP(e)){case 1:var i=b5;break;case 4:i=S5;break;default:i=nb}n=i.bind(null,e,n,t),i=void 0,!cE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function z_(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=aa(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}wP(function(){var h=s,d=J1(n),g=[];e:{var v=QP.get(t);if(v!==void 0){var y=ib,_=t;switch(t){case"keypress":if(Jd(n)===0)break e;case"keydown":case"keyup":y=U5;break;case"focusin":_="focus",y=M_;break;case"focusout":_="blur",y=M_;break;case"beforeblur":case"afterblur":y=M_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=tA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=C5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=V5;break;case qP:case HP:case GP:y=A5;break;case KP:y=z5;break;case"scroll":y=I5;break;case"wheel":y=q5;break;case"copy":case"cut":case"paste":y=x5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rA}var E=(e&4)!==0,C=!E&&t==="scroll",b=E?v!==null?v+"Capture":null:v;E=[];for(var I=h,T;I!==null;){T=I;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,b!==null&&(R=Bf(I,b),R!=null&&E.push(Qf(I,R,T)))),C)break;I=I.return}0<E.length&&(v=new y(v,_,null,n,d),g.push({event:v,listeners:E}))}}if((e&7)===0){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==uE&&(_=n.relatedTarget||n.fromElement)&&(aa(_)||_[wo]))break e;if((y||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=h,_=_?aa(_):null,_!==null&&(C=Va(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(E=tA,R="onMouseLeave",b="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(E=rA,R="onPointerLeave",b="onPointerEnter",I="pointer"),C=y==null?v:Gu(y),T=_==null?v:Gu(_),v=new E(R,I+"leave",y,n,d),v.target=C,v.relatedTarget=T,R=null,aa(d)===h&&(E=new E(b,I+"enter",_,n,d),E.target=T,E.relatedTarget=C,R=E),C=R,y&&_)t:{for(E=y,b=_,I=0,T=E;T;T=Nu(T))I++;for(T=0,R=b;R;R=Nu(R))T++;for(;0<I-T;)E=Nu(E),I--;for(;0<T-I;)b=Nu(b),T--;for(;I--;){if(E===b||b!==null&&E===b.alternate)break t;E=Nu(E),b=Nu(b)}E=null}else E=null;y!==null&&dA(g,v,y,E,!1),_!==null&&C!==null&&dA(g,C,_,E,!0)}}e:{if(v=h?Gu(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var A=J5;else if(sA(v))if($P)A=nB;else{A=eB;var L=Z5}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=tB);if(A&&(A=A(t,h))){jP(g,A,n,d);break e}L&&L(t,v,h),t==="focusout"&&(L=v._wrapperState)&&L.controlled&&v.type==="number"&&rE(v,"number",v.value)}switch(L=h?Gu(h):window,t){case"focusin":(sA(L)||L.contentEditable==="true")&&(qu=L,vE=h,Nf=null);break;case"focusout":Nf=vE=qu=null;break;case"mousedown":gE=!0;break;case"contextmenu":case"mouseup":case"dragend":gE=!1,fA(g,n,d);break;case"selectionchange":if(oB)break;case"keydown":case"keyup":fA(g,n,d)}var F;if(sb)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Wu?FP(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(MP&&n.locale!=="ko"&&(Wu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Wu&&(F=LP()):(Xo=d,rb="value"in Xo?Xo.value:Xo.textContent,Wu=!0)),L=Cv(h,P),0<L.length&&(P=new nA(P,t,null,n,d),g.push({event:P,listeners:L}),F?P.data=F:(F=UP(n),F!==null&&(P.data=F)))),(F=G5?K5(t,n):Q5(t,n))&&(h=Cv(h,"onBeforeInput"),0<h.length&&(d=new nA("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:h}),d.data=F))}YP(g,e)})}function Qf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bf(t,n),s!=null&&r.unshift(Qf(t,s,i)),s=Bf(t,e),s!=null&&r.push(Qf(t,s,i))),t=t.return}return r}function Nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dA(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Bf(n,s),c!=null&&a.unshift(Qf(n,c,l))):i||(c=Bf(n,s),c!=null&&a.push(Qf(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var lB=/\r\n?/g,cB=/\u0000|\uFFFD/g;function vA(t){return(typeof t=="string"?t:""+t).replace(lB,`
`).replace(cB,"")}function wd(t,e,n){if(e=vA(e),vA(t)!==e&&n)throw Error(V(425))}function Nv(){}var mE=null,yE=null;function _E(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wE=typeof setTimeout=="function"?setTimeout:void 0,fB=typeof clearTimeout=="function"?clearTimeout:void 0,gA=typeof Promise=="function"?Promise:void 0,hB=typeof queueMicrotask=="function"?queueMicrotask:typeof gA!="undefined"?function(t){return gA.resolve(null).then(t).catch(pB)}:wE;function pB(t){setTimeout(function(){throw t})}function W_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qf(e)}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zl=Math.random().toString(36).slice(2),xi="__reactFiber$"+zl,Yf="__reactProps$"+zl,wo="__reactContainer$"+zl,EE="__reactEvents$"+zl,dB="__reactListeners$"+zl,vB="__reactHandles$"+zl;function aa(t){var e=t[xi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wo]||n[xi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mA(t);t!==null;){if(n=t[xi])return n;t=mA(t)}return e}t=n,n=t.parentNode}return null}function Oh(t){return t=t[xi]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Mg(t){return t[Yf]||null}var bE=[],Ku=-1;function Ss(t){return{current:t}}function tt(t){0>Ku||(t.current=bE[Ku],bE[Ku]=null,Ku--)}function Ke(t,e){Ku++,bE[Ku]=t.current,t.current=e}var hs={},bn=Ss(hs),Kn=Ss(!1),Ea=hs;function bl(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function kv(){tt(Kn),tt(bn)}function yA(t,e,n){if(bn.current!==hs)throw Error(V(168));Ke(bn,e),Ke(Kn,n)}function JP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,ZV(t)||"Unknown",i));return pt({},n,r)}function Av(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Ea=bn.current,Ke(bn,t),Ke(Kn,Kn.current),!0}function _A(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=JP(t,e,Ea),r.__reactInternalMemoizedMergedChildContext=t,tt(Kn),tt(bn),Ke(bn,t)):tt(Kn),Ke(Kn,n)}var oo=null,Fg=!1,q_=!1;function ZP(t){oo===null?oo=[t]:oo.push(t)}function gB(t){Fg=!0,ZP(t)}function Is(){if(!q_&&oo!==null){q_=!0;var t=0,e=$e;try{var n=oo;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oo=null,Fg=!1}catch(i){throw oo!==null&&(oo=oo.slice(t+1)),IP(Z1,Is),i}finally{$e=e,q_=!1}}return null}var mB=No.ReactCurrentBatchConfig;function ni(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Rv=Ss(null),xv=null,Qu=null,ub=null;function lb(){ub=Qu=xv=null}function cb(t){var e=Rv.current;tt(Rv),t._currentValue=e}function SE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ul(t,e){xv=t,ub=Qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Hn=!0),t.firstContext=null)}function jr(t){var e=t._currentValue;if(ub!==t)if(t={context:t,memoizedValue:e,next:null},Qu===null){if(xv===null)throw Error(V(308));Qu=t,xv.dependencies={lanes:0,firstContext:t}}else Qu=Qu.next=t;return e}var ui=null,zo=!1;function fb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,z2(t)?(t=n.interleaved,t===null?(e.next=e,ui===null?ui=[n]:ui.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eb(t,n)}}function wA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ov(t,e,n,r){var i=t.updateQueue;zo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,d=h=c=null,l=s;do{var v=l.lane,y=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,E=l;switch(v=e,y=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){g=_.call(y,g,v);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,v=typeof _=="function"?_.call(y,g,v):_,v==null)break e;g=pt({},g,v);break e;case 2:zo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else y={eventTime:y,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=g):d=d.next=y,a|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(d===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ia|=a,t.lanes=a,t.memoizedState=g}}function EA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var t2=new rP.Component().refs;function IE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ug={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=os(t),s=go(r,i);s.payload=e,n!=null&&(s.callback=n),rs(t,s),e=Mr(t,i,r),e!==null&&Zd(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=os(t),s=go(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),rs(t,s),e=Mr(t,i,r),e!==null&&Zd(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=os(t),i=go(n,r);i.tag=2,e!=null&&(i.callback=e),rs(t,i),e=Mr(t,r,n),e!==null&&Zd(e,t,r)}};function bA(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Gf(n,r)||!Gf(i,s):!0}function n2(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=jr(s):(i=Qn(e)?Ea:bn.current,r=e.contextTypes,s=(r=r!=null)?bl(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ug,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function SA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ug.enqueueReplaceState(e,e.state,null)}function TE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=t2,fb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jr(s):(s=Qn(e)?Ea:bn.current,i.context=bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(IE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ug.enqueueReplaceState(i,i.state,null),Ov(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Yu=[],Xu=0,Pv=null,Dv=0,Ar=[],Rr=0,ba=null,uo=1,lo="";function ta(t,e){Yu[Xu++]=Dv,Yu[Xu++]=Pv,Pv=t,Dv=e}function r2(t,e,n){Ar[Rr++]=uo,Ar[Rr++]=lo,Ar[Rr++]=ba,ba=t;var r=uo;t=lo;var i=32-pi(r)-1;r&=~(1<<i),n+=1;var s=32-pi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,uo=1<<32-pi(e)+i|n<<i|r,lo=s+t}else uo=1<<s|n<<i|r,lo=t}function hb(t){t.return!==null&&(ta(t,1),r2(t,1,0))}function pb(t){for(;t===Pv;)Pv=Yu[--Xu],Yu[Xu]=null,Dv=Yu[--Xu],Yu[Xu]=null;for(;t===ba;)ba=Ar[--Rr],Ar[Rr]=null,lo=Ar[--Rr],Ar[Rr]=null,uo=Ar[--Rr],Ar[Rr]=null}var pr=null,qn=null,st=!1,si=null;function i2(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,qn=ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ba!==null?{id:uo,overflow:lo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,qn=null,!0):!1;default:return!1}}function CE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function NE(t){if(st){var e=qn;if(e){var n=e;if(!IA(t,e)){if(CE(t))throw Error(V(418));e=ao(n.nextSibling);var r=pr;e&&IA(t,e)?i2(r,n):(t.flags=t.flags&-4097|2,st=!1,pr=t)}}else{if(CE(t))throw Error(V(418));t.flags=t.flags&-4097|2,st=!1,pr=t}}}function TA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function tf(t){if(t!==pr)return!1;if(!st)return TA(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_E(t.type,t.memoizedProps)),e&&(e=qn)){if(CE(t)){for(t=qn;t;)t=ao(t.nextSibling);throw Error(V(418))}for(;e;)i2(t,e),e=ao(e.nextSibling)}if(TA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=pr?ao(t.stateNode.nextSibling):null;return!0}function Sl(){qn=pr=null,st=!1}function db(t){si===null?si=[t]:si.push(t)}function nf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;l===t2&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CA(t){var e=t._init;return e(t._payload)}function o2(t){function e(b,I){if(t){var T=b.deletions;T===null?(b.deletions=[I],b.flags|=16):T.push(I)}}function n(b,I){if(!t)return null;for(;I!==null;)e(b,I),I=I.sibling;return null}function r(b,I){for(b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function i(b,I){return b=ps(b,I),b.index=0,b.sibling=null,b}function s(b,I,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<I?(b.flags|=2,I):T):(b.flags|=2,I)):(b.flags|=1048576,I)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,I,T,R){return I===null||I.tag!==6?(I=X_(T,b.mode,R),I.return=b,I):(I=i(I,T),I.return=b,I)}function c(b,I,T,R){var A=T.type;return A===zu?d(b,I,T.props.children,R,T.key):I!==null&&(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bo&&CA(A)===I.type)?(R=i(I,T.props),R.ref=nf(b,I,T),R.return=b,R):(R=iv(T.type,T.key,T.props,null,b.mode,R),R.ref=nf(b,I,T),R.return=b,R)}function h(b,I,T,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=J_(T,b.mode,R),I.return=b,I):(I=i(I,T.children||[]),I.return=b,I)}function d(b,I,T,R,A){return I===null||I.tag!==7?(I=va(T,b.mode,R,A),I.return=b,I):(I=i(I,T),I.return=b,I)}function g(b,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=X_(""+I,b.mode,T),I.return=b,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case fd:return T=iv(I.type,I.key,I.props,null,b.mode,T),T.ref=nf(b,null,I),T.return=b,T;case Bu:return I=J_(I,b.mode,T),I.return=b,I;case Bo:var R=I._init;return g(b,R(I._payload),T)}if(mf(I)||Yc(I))return I=va(I,b.mode,T,null),I.return=b,I;Ed(b,I)}return null}function v(b,I,T,R){var A=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:l(b,I,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fd:return T.key===A?c(b,I,T,R):null;case Bu:return T.key===A?h(b,I,T,R):null;case Bo:return A=T._init,v(b,I,A(T._payload),R)}if(mf(T)||Yc(T))return A!==null?null:d(b,I,T,R,null);Ed(b,T)}return null}function y(b,I,T,R,A){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(T)||null,l(I,b,""+R,A);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case fd:return b=b.get(R.key===null?T:R.key)||null,c(I,b,R,A);case Bu:return b=b.get(R.key===null?T:R.key)||null,h(I,b,R,A);case Bo:var L=R._init;return y(b,I,T,L(R._payload),A)}if(mf(R)||Yc(R))return b=b.get(T)||null,d(I,b,R,A,null);Ed(I,R)}return null}function _(b,I,T,R){for(var A=null,L=null,F=I,P=I=0,N=null;F!==null&&P<T.length;P++){F.index>P?(N=F,F=null):N=F.sibling;var B=v(b,F,T[P],R);if(B===null){F===null&&(F=N);break}t&&F&&B.alternate===null&&e(b,F),I=s(B,I,P),L===null?A=B:L.sibling=B,L=B,F=N}if(P===T.length)return n(b,F),st&&ta(b,P),A;if(F===null){for(;P<T.length;P++)F=g(b,T[P],R),F!==null&&(I=s(F,I,P),L===null?A=F:L.sibling=F,L=F);return st&&ta(b,P),A}for(F=r(b,F);P<T.length;P++)N=y(F,b,P,T[P],R),N!==null&&(t&&N.alternate!==null&&F.delete(N.key===null?P:N.key),I=s(N,I,P),L===null?A=N:L.sibling=N,L=N);return t&&F.forEach(function(oe){return e(b,oe)}),st&&ta(b,P),A}function E(b,I,T,R){var A=Yc(T);if(typeof A!="function")throw Error(V(150));if(T=A.call(T),T==null)throw Error(V(151));for(var L=A=null,F=I,P=I=0,N=null,B=T.next();F!==null&&!B.done;P++,B=T.next()){F.index>P?(N=F,F=null):N=F.sibling;var oe=v(b,F,B.value,R);if(oe===null){F===null&&(F=N);break}t&&F&&oe.alternate===null&&e(b,F),I=s(oe,I,P),L===null?A=oe:L.sibling=oe,L=oe,F=N}if(B.done)return n(b,F),st&&ta(b,P),A;if(F===null){for(;!B.done;P++,B=T.next())B=g(b,B.value,R),B!==null&&(I=s(B,I,P),L===null?A=B:L.sibling=B,L=B);return st&&ta(b,P),A}for(F=r(b,F);!B.done;P++,B=T.next())B=y(F,b,P,B.value,R),B!==null&&(t&&B.alternate!==null&&F.delete(B.key===null?P:B.key),I=s(B,I,P),L===null?A=B:L.sibling=B,L=B);return t&&F.forEach(function(_e){return e(b,_e)}),st&&ta(b,P),A}function C(b,I,T,R){if(typeof T=="object"&&T!==null&&T.type===zu&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case fd:e:{for(var A=T.key,L=I;L!==null;){if(L.key===A){if(A=T.type,A===zu){if(L.tag===7){n(b,L.sibling),I=i(L,T.props.children),I.return=b,b=I;break e}}else if(L.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bo&&CA(A)===L.type){n(b,L.sibling),I=i(L,T.props),I.ref=nf(b,L,T),I.return=b,b=I;break e}n(b,L);break}else e(b,L);L=L.sibling}T.type===zu?(I=va(T.props.children,b.mode,R,T.key),I.return=b,b=I):(R=iv(T.type,T.key,T.props,null,b.mode,R),R.ref=nf(b,I,T),R.return=b,b=R)}return a(b);case Bu:e:{for(L=T.key;I!==null;){if(I.key===L)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){n(b,I.sibling),I=i(I,T.children||[]),I.return=b,b=I;break e}else{n(b,I);break}else e(b,I);I=I.sibling}I=J_(T,b.mode,R),I.return=b,b=I}return a(b);case Bo:return L=T._init,C(b,I,L(T._payload),R)}if(mf(T))return _(b,I,T,R);if(Yc(T))return E(b,I,T,R);Ed(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(n(b,I.sibling),I=i(I,T),I.return=b,b=I):(n(b,I),I=X_(T,b.mode,R),I.return=b,b=I),a(b)):n(b,I)}return C}var Il=o2(!0),s2=o2(!1),Ph={},Mi=Ss(Ph),Xf=Ss(Ph),Jf=Ss(Ph);function ua(t){if(t===Ph)throw Error(V(174));return t}function vb(t,e){switch(Ke(Jf,e),Ke(Xf,t),Ke(Mi,Ph),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oE(e,t)}tt(Mi),Ke(Mi,e)}function Tl(){tt(Mi),tt(Xf),tt(Jf)}function a2(t){ua(Jf.current);var e=ua(Mi.current),n=oE(e,t.type);e!==n&&(Ke(Xf,t),Ke(Mi,n))}function gb(t){Xf.current===t&&(tt(Mi),tt(Xf))}var ct=Ss(0);function Lv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H_=[];function mb(){for(var t=0;t<H_.length;t++)H_[t]._workInProgressVersionPrimary=null;H_.length=0}var ev=No.ReactCurrentDispatcher,G_=No.ReactCurrentBatchConfig,Sa=0,ht=null,Ft=null,Ht=null,Mv=!1,kf=!1,Zf=0,yB=0;function cn(){throw Error(V(321))}function yb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function _b(t,e,n,r,i,s){if(Sa=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ev.current=t===null||t.memoizedState===null?bB:SB,t=n(r,i),kf){s=0;do{if(kf=!1,Zf=0,25<=s)throw Error(V(301));s+=1,Ht=Ft=null,e.updateQueue=null,ev.current=IB,t=n(r,i)}while(kf)}if(ev.current=Fv,e=Ft!==null&&Ft.next!==null,Sa=0,Ht=Ft=ht=null,Mv=!1,e)throw Error(V(300));return t}function wb(){var t=Zf!==0;return Zf=0,t}function ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ht.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function $r(){if(Ft===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Ht===null?ht.memoizedState:Ht.next;if(e!==null)Ht=e,Ft=t;else{if(t===null)throw Error(V(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?ht.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function eh(t,e){return typeof e=="function"?e(t):e}function K_(t){var e=$r(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((Sa&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,ht.lanes|=d,Ia|=d}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,gi(r,e.memoizedState)||(Hn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,Ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Q_(t){var e=$r(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);gi(s,e.memoizedState)||(Hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function u2(){}function l2(t,e){var n=ht,r=$r(),i=e(),s=!gi(r.memoizedState,i);if(s&&(r.memoizedState=i,Hn=!0),r=r.queue,Eb(h2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,th(9,f2.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(V(349));(Sa&30)!==0||c2(n,e,i)}return i}function c2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function f2(t,e,n,r){e.value=n,e.getSnapshot=r,p2(e)&&Mr(t,1,-1)}function h2(t,e,n){return n(function(){p2(e)&&Mr(t,1,-1)})}function p2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch{return!0}}function NA(t){var e=ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:t},e.queue=t,t=t.dispatch=EB.bind(null,ht,t),[e.memoizedState,t]}function th(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d2(){return $r().memoizedState}function tv(t,e,n,r){var i=ki();ht.flags|=t,i.memoizedState=th(1|e,n,void 0,r===void 0?null:r)}function jg(t,e,n,r){var i=$r();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var a=Ft.memoizedState;if(s=a.destroy,r!==null&&yb(r,a.deps)){i.memoizedState=th(e,n,s,r);return}}ht.flags|=t,i.memoizedState=th(1|e,n,s,r)}function kA(t,e){return tv(8390656,8,t,e)}function Eb(t,e){return jg(2048,8,t,e)}function v2(t,e){return jg(4,2,t,e)}function g2(t,e){return jg(4,4,t,e)}function m2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y2(t,e,n){return n=n!=null?n.concat([t]):null,jg(4,4,m2.bind(null,e,t),n)}function bb(){}function _2(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w2(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E2(t,e,n){return(Sa&21)===0?(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=n):(gi(n,e)||(n=NP(),ht.lanes|=n,Ia|=n,t.baseState=!0),e)}function _B(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=G_.transition;G_.transition={};try{t(!1),e()}finally{$e=n,G_.transition=r}}function b2(){return $r().memoizedState}function wB(t,e,n){var r=os(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S2(t)?I2(e,n):(T2(t,e,n),n=Ln(),t=Mr(t,r,n),t!==null&&C2(t,e,r))}function EB(t,e,n){var r=os(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S2(t))I2(e,i);else{T2(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,gi(l,a))return}catch{}finally{}n=Ln(),t=Mr(t,r,n),t!==null&&C2(t,e,r)}}function S2(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function I2(t,e){kf=Mv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function T2(t,e,n){z2(t)?(t=e.interleaved,t===null?(n.next=n,ui===null?ui=[e]:ui.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function C2(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eb(t,n)}}var Fv={readContext:jr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},bB={readContext:jr,useCallback:function(t,e){return ki().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:kA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tv(4194308,4,m2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tv(4194308,4,t,e)},useInsertionEffect:function(t,e){return tv(4,2,t,e)},useMemo:function(t,e){var n=ki();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ki();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wB.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=ki();return t={current:t},e.memoizedState=t},useState:NA,useDebugValue:bb,useDeferredValue:function(t){return ki().memoizedState=t},useTransition:function(){var t=NA(!1),e=t[0];return t=_B.bind(null,t[1]),ki().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=ki();if(st){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Vt===null)throw Error(V(349));(Sa&30)!==0||c2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kA(h2.bind(null,r,s,t),[t]),r.flags|=2048,th(9,f2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ki(),e=Vt.identifierPrefix;if(st){var n=lo,r=uo;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SB={readContext:jr,useCallback:_2,useContext:jr,useEffect:Eb,useImperativeHandle:y2,useInsertionEffect:v2,useLayoutEffect:g2,useMemo:w2,useReducer:K_,useRef:d2,useState:function(){return K_(eh)},useDebugValue:bb,useDeferredValue:function(t){var e=$r();return E2(e,Ft.memoizedState,t)},useTransition:function(){var t=K_(eh)[0],e=$r().memoizedState;return[t,e]},useMutableSource:u2,useSyncExternalStore:l2,useId:b2,unstable_isNewReconciler:!1},IB={readContext:jr,useCallback:_2,useContext:jr,useEffect:Eb,useImperativeHandle:y2,useInsertionEffect:v2,useLayoutEffect:g2,useMemo:w2,useReducer:Q_,useRef:d2,useState:function(){return Q_(eh)},useDebugValue:bb,useDeferredValue:function(t){var e=$r();return Ft===null?e.memoizedState=t:E2(e,Ft.memoizedState,t)},useTransition:function(){var t=Q_(eh)[0],e=$r().memoizedState;return[t,e]},useMutableSource:u2,useSyncExternalStore:l2,useId:b2,unstable_isNewReconciler:!1};function Sb(t,e){try{var n="",r=e;do n+=JV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function kE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TB=typeof WeakMap=="function"?WeakMap:Map;function N2(t,e,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jv||(jv=!0,FE=r),kE(t,e)},n}function k2(t,e,n){n=go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kE(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function AA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UB.bind(null,t,e,n),e.then(t,t))}function RA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xA(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=go(-1,1),e.tag=2,rs(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var A2,AE,R2,x2;A2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AE=function(){};R2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ua(Mi.current);var s=null;switch(n){case"input":i=tE(t,i),r=tE(t,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=iE(t,i),r=iE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nv)}sE(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($f.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($f.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ye("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};x2=function(t,e,n,r){n!==r&&(e.flags|=4)};function rf(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CB(t,e,n){var r=e.pendingProps;switch(pb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Qn(e.type)&&kv(),fn(e),null;case 3:return r=e.stateNode,Tl(),tt(Kn),tt(bn),mb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,si!==null&&($E(si),si=null))),AE(t,e),fn(e),null;case 5:gb(e);var i=ua(Jf.current);if(n=e.type,t!==null&&e.stateNode!=null)R2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return fn(e),null}if(t=ua(Mi.current),tf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xi]=e,r[Yf]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<_f.length;i++)Ye(_f[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":qk(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":Gk(r,s),Ye("invalid",r)}sE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,l,t),i=["children",""+l]):$f.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":hd(r),Hk(r,s,!0);break;case"textarea":hd(r),Kk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xi]=e,t[Yf]=r,A2(t,e,!1,!1),e.stateNode=t;e:{switch(a=aE(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<_f.length;i++)Ye(_f[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":qk(t,r),i=tE(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":Gk(t,r),i=iE(t,r),Ye("invalid",t);break;default:i=r}sE(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?vP(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pP(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vf(t,c):typeof c=="number"&&Vf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($f.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",t):c!=null&&K1(t,s,c,a))}switch(n){case"input":hd(t),Hk(t,r,!1);break;case"textarea":hd(t),Kk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?il(t,!!r.multiple,s,!1):r.defaultValue!=null&&il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)x2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=ua(Jf.current),ua(Mi.current),tf(e)){if(r=e.stateNode,n=e.memoizedProps,r[xi]=e,(s=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=e,e.stateNode=r}return fn(e),null;case 13:if(tt(ct),r=e.memoizedState,st&&qn!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=qn;r;)r=ao(r.nextSibling);return Sl(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=tf(e),t===null){if(!r)throw Error(V(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(V(317));r[xi]=e}else Sl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return fn(e),null}return si!==null&&($E(si),si=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?tf(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ct.current&1)!==0?jt===0&&(jt=3):Ab())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Tl(),AE(t,e),t===null&&Kf(e.stateNode.containerInfo),fn(e),null;case 10:return cb(e.type._context),fn(e),null;case 17:return Qn(e.type)&&kv(),fn(e),null;case 19:if(tt(ct),s=e.memoizedState,s===null)return fn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)rf(s,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=Lv(t),a!==null){for(e.flags|=128,rf(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Cl&&(e.flags|=128,r=!0,rf(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lv(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!st)return fn(e),null}else 2*bt()-s.renderingStartTime>Cl&&n!==1073741824&&(e.flags|=128,r=!0,rf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=ct.current,Ke(ct,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return kb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ar&1073741824)!==0&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}var NB=No.ReactCurrentOwner,Hn=!1;function Rn(t,e,n,r){e.child=t===null?s2(e,null,n,r):Il(e,t.child,n,r)}function OA(t,e,n,r,i){n=n.render;var s=e.ref;return ul(e,i),r=_b(t,e,n,r,s,i),n=wb(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eo(t,e,i)):(st&&n&&hb(e),e.flags|=1,Rn(t,e,r,i),e.child)}function PA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,O2(t,e,s,r,i)):(t=iv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gf,n(a,r)&&t.ref===e.ref)return Eo(t,e,i)}return e.flags|=1,t=ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function O2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gf(s,r)&&t.ref===e.ref)if(Hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Hn=!0);else return e.lanes=t.lanes,Eo(t,e,i)}return RE(t,e,n,r,i)}function P2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Zu,ar),ar|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(Zu,ar),ar|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Zu,ar),ar|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ke(Zu,ar),ar|=r;return Rn(t,e,i,n),e.child}function D2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RE(t,e,n,r,i){var s=Qn(n)?Ea:bn.current;return s=bl(e,s),ul(e,i),n=_b(t,e,n,r,s,i),r=wb(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eo(t,e,i)):(st&&r&&hb(e),e.flags|=1,Rn(t,e,n,i),e.child)}function DA(t,e,n,r,i){if(Qn(n)){var s=!0;Av(e)}else s=!1;if(ul(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),n2(e,n,r),TE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=jr(h):(h=Qn(n)?Ea:bn.current,h=bl(e,h));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&SA(e,a,r,h),zo=!1;var v=e.memoizedState;a.state=v,Ov(e,r,a,i),c=e.memoizedState,l!==r||v!==c||Kn.current||zo?(typeof d=="function"&&(IE(e,n,d,r),c=e.memoizedState),(l=zo||bA(e,n,l,r,v,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,e2(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:ni(e.type,l),a.props=h,g=e.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=jr(c):(c=Qn(n)?Ea:bn.current,c=bl(e,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||v!==c)&&SA(e,a,r,c),zo=!1,v=e.memoizedState,a.state=v,Ov(e,r,a,i);var _=e.memoizedState;l!==g||v!==_||Kn.current||zo?(typeof y=="function"&&(IE(e,n,y,r),_=e.memoizedState),(h=zo||bA(e,n,h,r,v,_,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return xE(t,e,n,r,s,i)}function xE(t,e,n,r,i,s){D2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&_A(e,n,!1),Eo(t,e,s);r=e.stateNode,NB.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Il(e,t.child,null,s),e.child=Il(e,null,l,s)):Rn(t,e,l,s),e.memoizedState=r.state,i&&_A(e,n,!0),e.child}function L2(t){var e=t.stateNode;e.pendingContext?yA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yA(t,e.context,!1),vb(t,e.containerInfo)}function LA(t,e,n,r,i){return Sl(),db(i),e.flags|=256,Rn(t,e,n,r),e.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function Sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function MA(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function M2(t,e,n){var r=e.pendingProps,i=ct.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(ct,i&1),t===null)return NE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Bv(i,r,0,null),t=va(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sd(n),e.memoizedState=bd,t):OE(e,i));if(i=t.memoizedState,i!==null){if(l=i.dehydrated,l!==null){if(a)return e.flags&256?(e.flags&=-257,Id(t,e,n,Error(V(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bv({mode:"visible",children:r.children},i,0,null),s=va(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Il(e,t.child,null,n),e.child.memoizedState=Sd(n),e.memoizedState=bd,s);if((e.mode&1)===0)e=Id(t,e,n,null);else if(l.data==="$!")e=Id(t,e,n,Error(V(419)));else if(r=(n&t.childLanes)!==0,Hn||r){if(r=Vt,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,Mr(t,r,-1))}Ab(),e=Id(t,e,n,Error(V(421)))}else l.data==="$?"?(e.flags|=128,e.child=t.child,e=jB.bind(null,t),l._reactRetry=e,e=null):(n=i.treeContext,qn=ao(l.nextSibling),pr=e,st=!0,si=null,n!==null&&(Ar[Rr++]=uo,Ar[Rr++]=lo,Ar[Rr++]=ba,uo=n.id,lo=n.overflow,ba=e),e=OE(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=UA(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Sd(n):MA(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=bd,r):(n=FA(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=UA(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Sd(n):MA(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=bd,r):(n=FA(t,e,r.children,n),e.memoizedState=null,n)}function OE(t,e){return e=Bv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function FA(t,e,n,r){var i=t.child;return t=i.sibling,n=ps(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function UA(t,e,n,r,i){var s=e.mode;t=t.child;var a=t.sibling,l={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ps(t,l),n.subtreeFlags=t.subtreeFlags&14680064),a!==null?r=ps(a,r):(r=va(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Id(t,e,n,r){return r!==null&&db(r),Il(e,t.child,null,n),t=OE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SE(t.return,e,n)}function Y_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rn(t,e,r.children,n),r=ct.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jA(t,n,e);else if(t.tag===19)jA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(ct,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y_(e,!0,n,null,s);break;case"together":Y_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kB(t,e,n){switch(e.tag){case 3:L2(e),Sl();break;case 5:a2(e);break;case 1:Qn(e.type)&&Av(e);break;case 4:vb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Rv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ct,ct.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?M2(t,e,n):(Ke(ct,ct.current&1),t=Eo(t,e,n),t!==null?t.sibling:null);Ke(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return F2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,P2(t,e,n)}return Eo(t,e,n)}function AB(t,e){switch(pb(e),e.tag){case 1:return Qn(e.type)&&kv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),tt(Kn),tt(bn),mb(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return gb(e),null;case 13:if(tt(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ct),null;case 4:return Tl(),null;case 10:return cb(e.type._context),null;case 22:case 23:return kb(),null;case 24:return null;default:return null}}var Td=!1,dn=!1,RB=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ju(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function PE(t,e,n){try{n()}catch(r){mt(t,e,r)}}var $A=!1;function xB(t,e){if(mE=Iv,t=zP(),ab(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,g=t,v=null;t:for(;;){for(var y;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)v=g,g=y;for(;;){if(g===t)break t;if(v===n&&++h===i&&(l=a),v===s&&++d===r&&(c=a),(y=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yE={focusedElem:t,selectionRange:n},Iv=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,C=_.memoizedState,b=e.stateNode,I=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:ni(e.type,E),C);b.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=e.stateNode.containerInfo;if(T.nodeType===1)T.textContent="";else if(T.nodeType===9){var R=T.body;R!=null&&(R.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(A){mt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=$A,$A=!1,_}function Af(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PE(e,n,s)}i=i.next}while(i!==r)}}function $g(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function U2(t){var e=t.alternate;e!==null&&(t.alternate=null,U2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xi],delete e[Yf],delete e[EE],delete e[dB],delete e[vB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j2(t){return t.tag===5||t.tag===3||t.tag===4}function VA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function LE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nv));else if(r!==4&&(t=t.child,t!==null))for(LE(t,e,n),t=t.sibling;t!==null;)LE(t,e,n),t=t.sibling}function ME(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ME(t,e,n),t=t.sibling;t!==null;)ME(t,e,n),t=t.sibling}var nn=null,ii=!1;function Uo(t,e,n){for(n=n.child;n!==null;)$2(t,e,n),n=n.sibling}function $2(t,e,n){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(Og,n)}catch{}switch(n.tag){case 5:dn||Ju(n,e);case 6:var r=nn,i=ii;nn=null,Uo(t,e,n),nn=r,ii=i,nn!==null&&(ii?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(ii?(t=nn,n=n.stateNode,t.nodeType===8?W_(t.parentNode,n):t.nodeType===1&&W_(t,n),qf(t)):W_(nn,n.stateNode));break;case 4:r=nn,i=ii,nn=n.stateNode.containerInfo,ii=!0,Uo(t,e,n),nn=r,ii=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&PE(n,e,a),i=i.next}while(i!==r)}Uo(t,e,n);break;case 1:if(!dn&&(Ju(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mt(n,e,l)}Uo(t,e,n);break;case 21:Uo(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Uo(t,e,n),dn=r):Uo(t,e,n);break;default:Uo(t,e,n)}}function BA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RB),e.forEach(function(r){var i=$B.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,ii=!1;break e;case 3:nn=l.stateNode.containerInfo,ii=!0;break e;case 4:nn=l.stateNode.containerInfo,ii=!0;break e}l=l.return}if(nn===null)throw Error(V(160));$2(s,a,i),nn=null,ii=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){mt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V2(e,t),e=e.sibling}function V2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Ni(t),r&4){try{Af(3,t,t.return),$g(3,t)}catch(_){mt(t,t.return,_)}try{Af(5,t,t.return)}catch(_){mt(t,t.return,_)}}break;case 1:Zr(e,t),Ni(t),r&512&&n!==null&&Ju(n,n.return);break;case 5:if(Zr(e,t),Ni(t),r&512&&n!==null&&Ju(n,n.return),t.flags&32){var i=t.stateNode;try{Vf(i,"")}catch(_){mt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&cP(i,s),aE(l,a);var h=aE(l,s);for(a=0;a<c.length;a+=2){var d=c[a],g=c[a+1];d==="style"?vP(i,g):d==="dangerouslySetInnerHTML"?pP(i,g):d==="children"?Vf(i,g):K1(i,d,g,h)}switch(l){case"input":nE(i,s);break;case"textarea":fP(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?il(i,!!s.multiple,y,!1):v!==!!s.multiple&&(s.defaultValue!=null?il(i,!!s.multiple,s.defaultValue,!0):il(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yf]=s}catch(_){mt(t,t.return,_)}}break;case 6:if(Zr(e,t),Ni(t),r&4){if(t.stateNode===null)throw Error(V(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(_){mt(t,t.return,_)}}break;case 3:if(Zr(e,t),Ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qf(e.containerInfo)}catch(_){mt(t,t.return,_)}break;case 4:Zr(e,t),Ni(t);break;case 13:Zr(e,t),Ni(t),h=t.child,h.flags&8192&&h.memoizedState!==null&&(h.alternate===null||h.alternate.memoizedState===null)&&(Cb=bt()),r&4&&BA(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(d=dn)||h,Zr(e,t),dn=d):Zr(e,t),Ni(t),r&8192){d=t.memoizedState!==null;e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dP("display",a))}catch(_){mt(t,t.return,_)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(_){mt(t,t.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}if(d&&!h&&(t.mode&1)!==0)for(X=t,t=t.child;t!==null;){for(h=X=t;X!==null;){switch(d=X,g=d.child,d.tag){case 0:case 11:case 14:case 15:Af(4,d,d.return);break;case 1:if(Ju(d,d.return),s=d.stateNode,typeof s.componentWillUnmount=="function"){v=d,y=d.return;try{i=v,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(_){mt(v,y,_)}}break;case 5:Ju(d,d.return);break;case 22:if(d.memoizedState!==null){WA(h);continue}}g!==null?(g.return=d,X=g):WA(h)}t=t.sibling}}break;case 19:Zr(e,t),Ni(t),r&4&&BA(t);break;case 21:break;default:Zr(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j2(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var s=VA(t);ME(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=VA(t);LE(t,l,a);break;default:throw Error(V(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OB(t,e,n){X=t,B2(t)}function B2(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Td;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||dn;l=Td;var h=dn;if(Td=a,(dn=c)&&!h)for(X=i;X!==null;)a=X,c=a.child,a.tag===22&&a.memoizedState!==null?qA(i):c!==null?(c.return=a,X=c):qA(i);for(;s!==null;)X=s,B2(s),s=s.sibling;X=i,Td=l,dn=h}zA(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,X=s):zA(t)}}function zA(t){for(;X!==null;){var e=X;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:dn||$g(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EA(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EA(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&qf(g)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(V(163))}dn||e.flags&512&&DE(e)}catch(v){mt(e,e.return,v)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function WA(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function qA(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$g(4,e)}catch(c){mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){mt(e,i,c)}}var s=e.return;try{DE(e)}catch(c){mt(e,s,c)}break;case 5:var a=e.return;try{DE(e)}catch(c){mt(e,a,c)}}}catch(c){mt(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var PB=Math.ceil,Uv=No.ReactCurrentDispatcher,Ib=No.ReactCurrentOwner,Lr=No.ReactCurrentBatchConfig,Ae=0,Vt=null,xt=null,an=0,ar=0,Zu=Ss(0),jt=0,nh=null,Ia=0,Vg=0,Tb=0,Rf=null,Wn=null,Cb=0,Cl=1/0,ro=null,jv=!1,FE=null,is=null,Cd=!1,Jo=null,$v=0,xf=0,UE=null,nv=-1,rv=0;function Ln(){return(Ae&6)!==0?bt():nv!==-1?nv:nv=bt()}function os(t){return(t.mode&1)===0?1:(Ae&2)!==0&&an!==0?an&-an:mB.transition!==null?(rv===0&&(rv=NP()),rv):(t=$e,t!==0||(t=window.event,t=t===void 0?16:DP(t.type)),t)}function Mr(t,e,n){if(50<xf)throw xf=0,UE=null,Error(V(185));var r=Bg(t,e);return r===null?null:(Rh(r,e,n),((Ae&2)===0||r!==Vt)&&(r===Vt&&((Ae&2)===0&&(Vg|=e),jt===4&&Go(r,an)),Yn(r,n),e===1&&Ae===0&&(t.mode&1)===0&&(Cl=bt()+500,Fg&&Is())),r)}function Bg(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function z2(t){return(Vt!==null||ui!==null)&&(t.mode&1)!==0&&(Ae&2)===0}function Yn(t,e){var n=t.callbackNode;m5(t,e);var r=Sv(t,t===Vt?an:0);if(r===0)n!==null&&Xk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xk(n),e===1)t.tag===0?gB(HA.bind(null,t)):ZP(HA.bind(null,t)),hB(function(){Ae===0&&Is()}),n=null;else{switch(kP(r)){case 1:n=Z1;break;case 4:n=TP;break;case 16:n=bv;break;case 536870912:n=CP;break;default:n=bv}n=X2(n,W2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function W2(t,e){if(nv=-1,rv=0,(Ae&6)!==0)throw Error(V(327));var n=t.callbackNode;if(ll()&&t.callbackNode!==n)return null;var r=Sv(t,t===Vt?an:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Vv(t,r);else{e=r;var i=Ae;Ae|=2;var s=H2();(Vt!==t||an!==e)&&(ro=null,Cl=bt()+500,da(t,e));do try{MB();break}catch(l){q2(t,l)}while(1);lb(),Uv.current=s,Ae=i,xt!==null?e=0:(Vt=null,an=0,e=jt)}if(e!==0){if(e===2&&(i=hE(t),i!==0&&(r=i,e=jE(t,i))),e===1)throw n=nh,da(t,0),Go(t,r),Yn(t,bt()),n;if(e===6)Go(t,r);else{if(i=t.current.alternate,(r&30)===0&&!DB(i)&&(e=Vv(t,r),e===2&&(s=hE(t),s!==0&&(r=s,e=jE(t,s))),e===1))throw n=nh,da(t,0),Go(t,r),Yn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:na(t,Wn,ro);break;case 3:if(Go(t,r),(r&130023424)===r&&(e=Cb+500-bt(),10<e)){if(Sv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wE(na.bind(null,t,Wn,ro),e);break}na(t,Wn,ro);break;case 4:if(Go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-pi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PB(r/1960))-r,10<r){t.timeoutHandle=wE(na.bind(null,t,Wn,ro),r);break}na(t,Wn,ro);break;case 5:na(t,Wn,ro);break;default:throw Error(V(329))}}}return Yn(t,bt()),t.callbackNode===n?W2.bind(null,t):null}function jE(t,e){var n=Rf;return t.current.memoizedState.isDehydrated&&(da(t,e).flags|=256),t=Vv(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&$E(e)),t}function $E(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function DB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Go(t,e){for(e&=~Tb,e&=~Vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pi(e),r=1<<n;t[n]=-1,e&=~r}}function HA(t){if((Ae&6)!==0)throw Error(V(327));ll();var e=Sv(t,0);if((e&1)===0)return Yn(t,bt()),null;var n=Vv(t,e);if(t.tag!==0&&n===2){var r=hE(t);r!==0&&(e=r,n=jE(t,r))}if(n===1)throw n=nh,da(t,0),Go(t,e),Yn(t,bt()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,Wn,ro),Yn(t,bt()),null}function Nb(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Cl=bt()+500,Fg&&Is())}}function Ta(t){Jo!==null&&Jo.tag===0&&(Ae&6)===0&&ll();var e=Ae;Ae|=1;var n=Lr.transition,r=$e;try{if(Lr.transition=null,$e=1,t)return t()}finally{$e=r,Lr.transition=n,Ae=e,(Ae&6)===0&&Is()}}function kb(){ar=Zu.current,tt(Zu)}function da(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fB(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(pb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kv();break;case 3:Tl(),tt(Kn),tt(bn),mb();break;case 5:gb(r);break;case 4:Tl();break;case 13:tt(ct);break;case 19:tt(ct);break;case 10:cb(r.type._context);break;case 22:case 23:kb()}n=n.return}if(Vt=t,xt=t=ps(t.current,null),an=ar=e,jt=0,nh=null,Tb=Vg=Ia=0,Wn=Rf=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ui=null}return t}function q2(t,e){do{var n=xt;try{if(lb(),ev.current=Fv,Mv){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mv=!1}if(Sa=0,Ht=Ft=ht=null,kf=!1,Zf=0,Ib.current=null,n===null||n.return===null){jt=1,nh=e,xt=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,g=d.tag;if((d.mode&1)===0&&(g===0||g===11||g===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=RA(a);if(y!==null){y.flags&=-257,xA(y,a,l,s,e),y.mode&1&&AA(s,h,e),e=y,c=h;var _=e.updateQueue;if(_===null){var E=new Set;E.add(c),e.updateQueue=E}else _.add(c);break e}else{if((e&1)===0){AA(s,h,e),Ab();break e}c=Error(V(426))}}else if(st&&l.mode&1){var C=RA(a);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),xA(C,a,l,s,e),db(c);break e}}s=c,jt!==4&&(jt=2),Rf===null?Rf=[s]:Rf.push(s),c=Sb(c,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var b=N2(l,c,e);wA(l,b);break e;case 1:s=c;var I=l.type,T=l.stateNode;if((l.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(is===null||!is.has(T)))){l.flags|=65536,e&=-e,l.lanes|=e;var R=k2(l,s,e);wA(l,R);break e}}l=l.return}while(l!==null)}K2(n)}catch(A){e=A,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function H2(){var t=Uv.current;return Uv.current=Fv,t===null?Fv:t}function Ab(){(jt===0||jt===3||jt===2)&&(jt=4),Vt===null||(Ia&268435455)===0&&(Vg&268435455)===0||Go(Vt,an)}function Vv(t,e){var n=Ae;Ae|=2;var r=H2();(Vt!==t||an!==e)&&(ro=null,da(t,e));do try{LB();break}catch(i){q2(t,i)}while(1);if(lb(),Ae=n,Uv.current=r,xt!==null)throw Error(V(261));return Vt=null,an=0,jt}function LB(){for(;xt!==null;)G2(xt)}function MB(){for(;xt!==null&&!u5();)G2(xt)}function G2(t){var e=Y2(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?K2(t):xt=e,Ib.current=null}function K2(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=CB(n,e,ar),n!==null){xt=n;return}}else{if(n=AB(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,xt=null;return}}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);jt===0&&(jt=5)}function na(t,e,n){var r=$e,i=Lr.transition;try{Lr.transition=null,$e=1,FB(t,e,n,r)}finally{Lr.transition=i,$e=r}return null}function FB(t,e,n,r){do ll();while(Jo!==null);if((Ae&6)!==0)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y5(t,s),t===Vt&&(xt=Vt=null,an=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Cd||(Cd=!0,X2(bv,function(){return ll(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Lr.transition,Lr.transition=null;var a=$e;$e=1;var l=Ae;Ae|=4,Ib.current=null,xB(t,n),V2(n,t),iB(yE),Iv=!!mE,yE=mE=null,t.current=n,OB(n),l5(),Ae=l,$e=a,Lr.transition=s}else t.current=n;if(Cd&&(Cd=!1,Jo=t,$v=i),s=t.pendingLanes,s===0&&(is=null),h5(n.stateNode),Yn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(jv)throw jv=!1,t=FE,FE=null,t;return($v&1)!==0&&t.tag!==0&&ll(),s=t.pendingLanes,(s&1)!==0?t===UE?xf++:(xf=0,UE=t):xf=0,Is(),null}function ll(){if(Jo!==null){var t=kP($v),e=Lr.transition,n=$e;try{if(Lr.transition=null,$e=16>t?16:t,Jo===null)var r=!1;else{if(t=Jo,Jo=null,$v=0,(Ae&6)!==0)throw Error(V(331));var i=Ae;for(Ae|=4,X=t.current;X!==null;){var s=X,a=s.child;if((X.flags&16)!==0){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(X=h;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Af(8,d,s)}var g=d.child;if(g!==null)g.return=d,X=g;else for(;X!==null;){d=X;var v=d.sibling,y=d.return;if(U2(d),d===h){X=null;break}if(v!==null){v.return=y,X=v;break}X=y}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}X=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,X=a;else e:for(;X!==null;){if(s=X,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Af(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,X=b;break e}X=s.return}}var I=t.current;for(X=I;X!==null;){a=X;var T=a.child;if((a.subtreeFlags&2064)!==0&&T!==null)T.return=a,X=T;else e:for(a=I;X!==null;){if(l=X,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:$g(9,l)}}catch(A){mt(l,l.return,A)}if(l===a){X=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,X=R;break e}X=l.return}}if(Ae=i,Is(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(Og,t)}catch{}r=!0}return r}finally{$e=n,Lr.transition=e}}return!1}function GA(t,e,n){e=Sb(n,e),e=N2(t,e,1),rs(t,e),e=Ln(),t=Bg(t,1),t!==null&&(Rh(t,1,e),Yn(t,e))}function mt(t,e,n){if(t.tag===3)GA(t,t,n);else for(;e!==null;){if(e.tag===3){GA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Sb(n,t),t=k2(e,t,1),rs(e,t),t=Ln(),e=Bg(e,1),e!==null&&(Rh(e,1,t),Yn(e,t));break}}e=e.return}}function UB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(an&n)===n&&(jt===4||jt===3&&(an&130023424)===an&&500>bt()-Cb?da(t,0):Tb|=n),Yn(t,e)}function Q2(t,e){e===0&&((t.mode&1)===0?e=1:(e=vd,vd<<=1,(vd&130023424)===0&&(vd=4194304)));var n=Ln();t=Bg(t,e),t!==null&&(Rh(t,e,n),Yn(t,n))}function jB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q2(t,n)}function $B(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),Q2(t,n)}var Y2;Y2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Hn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Hn=!1,kB(t,e,n);Hn=(t.flags&131072)!==0}else Hn=!1,st&&(e.flags&1048576)!==0&&r2(e,Dv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=bl(e,bn.current);ul(e,n),i=_b(null,e,r,t,i,n);var s=wb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,Av(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fb(e),i.updater=Ug,e.stateNode=i,i._reactInternals=e,TE(e,r,t,n),e=xE(null,e,r,!0,s,n)):(e.tag=0,st&&s&&hb(e),Rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BB(r),t=ni(r,t),i){case 0:e=RE(null,e,r,t,n);break e;case 1:e=DA(null,e,r,t,n);break e;case 11:e=OA(null,e,r,t,n);break e;case 14:e=PA(null,e,r,ni(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),RE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),DA(t,e,r,i,n);case 3:e:{if(L2(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,e2(t,e),Ov(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(V(423)),e=LA(t,e,r,n,i);break e}else if(r!==i){i=Error(V(424)),e=LA(t,e,r,n,i);break e}else for(qn=ao(e.stateNode.containerInfo.firstChild),pr=e,st=!0,si=null,n=s2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===i){e=Eo(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return a2(e),t===null&&NE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,_E(r,i)?a=null:s!==null&&_E(r,s)&&(e.flags|=32),D2(t,e),Rn(t,e,a,n),e.child;case 6:return t===null&&NE(e),null;case 13:return M2(t,e,n);case 4:return vb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Il(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),OA(t,e,r,i,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ke(Rv,r._currentValue),r._currentValue=a,s!==null)if(gi(s.value,a)){if(s.children===i.children&&!Kn.current){e=Eo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=go(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),SE(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),SE(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ul(e,n),i=jr(i),r=r(i),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,i=ni(r,e.pendingProps),i=ni(r.type,i),PA(t,e,r,i,n);case 15:return O2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Qn(r)?(t=!0,Av(e)):t=!1,ul(e,n),n2(e,r,i),TE(e,r,i,n),xE(null,e,r,!0,t,n);case 19:return F2(t,e,n);case 22:return P2(t,e,n)}throw Error(V(156,e.tag))};function X2(t,e){return IP(t,e)}function VB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new VB(t,e,n,r)}function Rb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BB(t){if(typeof t=="function")return Rb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y1)return 11;if(t===X1)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function iv(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Rb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zu:return va(n.children,i,s,e);case Q1:a=8,i|=8;break;case Xw:return t=Pr(12,n,e,i|2),t.elementType=Xw,t.lanes=s,t;case Jw:return t=Pr(13,n,e,i),t.elementType=Jw,t.lanes=s,t;case Zw:return t=Pr(19,n,e,i),t.elementType=Zw,t.lanes=s,t;case aP:return Bv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oP:a=10;break e;case sP:a=9;break e;case Y1:a=11;break e;case X1:a=14;break e;case Bo:a=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Pr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function va(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Bv(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=aP,t.lanes=n,t.stateNode={},t}function X_(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function J_(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P_(0),this.expirationTimes=P_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xb(t,e,n,r,i,s,a,l,c){return t=new zB(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fb(s),t}function WB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J2(t){if(!t)return hs;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(Qn(n))return JP(t,n,e)}return e}function Z2(t,e,n,r,i,s,a,l,c){return t=xb(n,r,!0,t,i,s,a,l,c),t.context=J2(null),n=t.current,r=Ln(),i=os(n),s=go(r,i),s.callback=e!=null?e:null,rs(n,s),t.current.lanes=i,Rh(t,i,r),Yn(t,r),t}function zg(t,e,n,r){var i=e.current,s=Ln(),a=os(i);return n=J2(n),e.context===null?e.context=n:e.pendingContext=n,e=go(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),rs(i,e),t=Mr(i,a,s),t!==null&&Zd(t,i,a),a}function zv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ob(t,e){KA(t,e),(t=t.alternate)&&KA(t,e)}function qB(){return null}var eD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pb(t){this._internalRoot=t}Wg.prototype.render=Pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));zg(t,e,null,null)};Wg.prototype.unmount=Pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){zg(null,t,null,null)}),e[wo]=null}};function Wg(t){this._internalRoot=t}Wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=xP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ho.length&&e!==0&&e<Ho[n].priority;n++);Ho.splice(n,0,t),n===0&&PP(t)}};function Db(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QA(){}function HB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=zv(a);s.call(h)}}var a=Z2(e,r,t,0,null,!1,!1,"",QA);return t._reactRootContainer=a,t[wo]=a.current,Kf(t.nodeType===8?t.parentNode:t),Ta(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=zv(c);l.call(h)}}var c=xb(t,0,!1,null,null,!1,!1,"",QA);return t._reactRootContainer=c,t[wo]=c.current,Kf(t.nodeType===8?t.parentNode:t),Ta(function(){zg(e,c,n,r)}),c}function Hg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=zv(a);l.call(c)}}zg(e,a,t,i)}else a=HB(n,e,t,i,r);return zv(a)}AP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yf(e.pendingLanes);n!==0&&(eb(e,n|1),Yn(e,bt()),(Ae&6)===0&&(Cl=bt()+500,Is()))}break;case 13:var r=Ln();Ta(function(){return Mr(t,1,r)}),Ob(t,1)}};tb=function(t){if(t.tag===13){var e=Ln();Mr(t,134217728,e),Ob(t,134217728)}};RP=function(t){if(t.tag===13){var e=Ln(),n=os(t);Mr(t,n,e),Ob(t,n)}};xP=function(){return $e};OP=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};lE=function(t,e,n){switch(e){case"input":if(nE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mg(r);if(!i)throw Error(V(90));lP(r),nE(r,i)}}}break;case"textarea":fP(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};yP=Nb;_P=Ta;var GB={usingClientEntryPoint:!1,Events:[Oh,Gu,Mg,gP,mP,Nb]},of={findFiberByHostInstance:aa,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},KB={bundleType:of.bundleType,version:of.version,rendererPackageName:of.rendererPackageName,rendererConfig:of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bP(t),t===null?null:t.stateNode},findFiberByHostInstance:of.findFiberByHostInstance||qB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Og=Nd.inject(KB),Li=Nd}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GB;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Db(e))throw Error(V(200));return WB(t,e,null,n)};_r.createRoot=function(t,e){if(!Db(t))throw Error(V(299));var n=!1,r="",i=eD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xb(t,1,!1,null,null,n,!1,r,i),t[wo]=e.current,Kf(t.nodeType===8?t.parentNode:t),new Pb(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=bP(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Ta(t)};_r.hydrate=function(t,e,n){if(!qg(e))throw Error(V(200));return Hg(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!Db(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=eD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Z2(e,null,t,1,n!=null?n:null,i,!1,s,a),t[wo]=e.current,Kf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wg(e)};_r.render=function(t,e,n){if(!qg(e))throw Error(V(200));return Hg(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!qg(t))throw Error(V(40));return t._reactRootContainer?(Ta(function(){Hg(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};_r.unstable_batchedUpdates=Nb;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qg(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Hg(t,e,n,!1,r)};_r.version="18.1.0-next-22edb9f77-20220426";function tD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tD)}catch(t){console.error(t)}}tD(),eP.exports=_r;var YA=eP.exports;Qw.createRoot=YA.createRoot,Qw.hydrateRoot=YA.hydrateRoot;function ie(){return ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ie.apply(this,arguments)}function kd(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function mo(t,e,n={clone:!0}){const r=n.clone?ie({},t):t;return kd(t)&&kd(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(kd(e[i])&&i in t&&kd(t[i])?r[i]=mo(t[i],e[i],n):r[i]=e[i])}),r}function rh(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ze(t){if(typeof t!="string")throw new Error(rh(7));return t.charAt(0).toUpperCase()+t.slice(1)}function QB(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function YB(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function XB(t,e){return()=>null}function JB(t,e){return U.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function nD(t){return t&&t.ownerDocument||document}function ZB(t){return nD(t).defaultView||window}function ez(t,e){return()=>null}function VE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const tz=typeof window!="undefined"?U.exports.useLayoutEffect:U.exports.useEffect;var rD=tz;let XA=0;function nz(t){const[e,n]=U.exports.useState(t),r=t||e;return U.exports.useEffect(()=>{e==null&&(XA+=1,n(`mui-${XA}`))},[e]),r}const JA=wa["useId"];function rz(t){if(JA!==void 0){const e=JA();return t!=null?t:e}return nz(t)}function iz(t,e,n,r,i){return null}function oz({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=U.exports.useRef(t!==void 0),[s,a]=U.exports.useState(e),l=i?t:s,c=U.exports.useCallback(h=>{i||a(h)},[]);return[l,c]}function wf(t){const e=U.exports.useRef(t);return rD(()=>{e.current=t}),U.exports.useCallback((...n)=>(0,e.current)(...n),[])}function ov(t,e){return U.exports.useMemo(()=>t==null&&e==null?null:n=>{VE(t,n),VE(e,n)},[t,e])}let Gg=!0,BE=!1,ZA;const sz={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function az(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&sz[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function uz(t){t.metaKey||t.altKey||t.ctrlKey||(Gg=!0)}function Z_(){Gg=!1}function lz(){this.visibilityState==="hidden"&&BE&&(Gg=!0)}function cz(t){t.addEventListener("keydown",uz,!0),t.addEventListener("mousedown",Z_,!0),t.addEventListener("pointerdown",Z_,!0),t.addEventListener("touchstart",Z_,!0),t.addEventListener("visibilitychange",lz,!0)}function fz(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Gg||az(e)}function iD(){const t=U.exports.useCallback(i=>{i!=null&&cz(i.ownerDocument)},[]),e=U.exports.useRef(!1);function n(){return e.current?(BE=!0,window.clearTimeout(ZA),ZA=window.setTimeout(()=>{BE=!1},100),e.current=!1,!0):!1}function r(i){return fz(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function oD(t,e){const n=ie({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Dh(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,a)=>(a&&(n&&n[a]&&s.push(n[a]),s.push(e(a))),s),[]).join(" ")}),r}const eR=t=>t,hz=()=>{let t=eR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=eR}}},pz=hz();var sD=pz;const dz={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Wl(t,e){return dz[e]||`${sD.generate(t)}-${e}`}function ql(t,e){const n={};return e.forEach(r=>{n[r]=Wl(t,r)}),n}function un(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=aD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function On(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=aD(e))&&(r&&(r+=" "),r+=n);return r}var Kg={exports:{}},Qg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vz=U.exports,gz=Symbol.for("react.element"),mz=Symbol.for("react.fragment"),yz=Object.prototype.hasOwnProperty,_z=vz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wz={key:!0,ref:!0,__self:!0,__source:!0};function uD(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)yz.call(e,r)&&!wz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gz,type:t,key:s,ref:a,props:i,_owner:_z.current}}Qg.Fragment=mz;Qg.jsx=uD;Qg.jsxs=uD;Kg.exports=Qg;const H=Kg.exports.jsx,Ge=Kg.exports.jsxs,Ez=Kg.exports.Fragment;var bz=Object.freeze(Object.defineProperty({__proto__:null,jsx:H,jsxs:Ge,Fragment:Ez},Symbol.toStringTag,{value:"Module"}));function lD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Sz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iz=lD(function(t){return Sz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Tz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Cz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Nz=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Cz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Tz(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),hn="-ms-",Wv="-moz-",Pe="-webkit-",cD="comm",Lb="rule",Mb="decl",kz="@import",fD="@keyframes",Az=Math.abs,Yg=String.fromCharCode,Rz=Object.assign;function xz(t,e){return(((e<<2^zn(t,0))<<2^zn(t,1))<<2^zn(t,2))<<2^zn(t,3)}function hD(t){return t.trim()}function Oz(t,e){return(t=e.exec(t))?t[0]:t}function Me(t,e,n){return t.replace(e,n)}function zE(t,e){return t.indexOf(e)}function zn(t,e){return t.charCodeAt(e)|0}function ih(t,e,n){return t.slice(e,n)}function Ai(t){return t.length}function Fb(t){return t.length}function Ad(t,e){return e.push(t),t}function Pz(t,e){return t.map(e).join("")}var Xg=1,Nl=1,pD=0,Zn=0,At=0,Hl="";function Jg(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Xg,column:Nl,length:a,return:""}}function sf(t,e){return Rz(Jg("",null,null,"",null,null,0),t,{length:-t.length},e)}function Dz(){return At}function Lz(){return At=Zn>0?zn(Hl,--Zn):0,Nl--,At===10&&(Nl=1,Xg--),At}function dr(){return At=Zn<pD?zn(Hl,Zn++):0,Nl++,At===10&&(Nl=1,Xg++),At}function Fi(){return zn(Hl,Zn)}function sv(){return Zn}function Lh(t,e){return ih(Hl,t,e)}function oh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dD(t){return Xg=Nl=1,pD=Ai(Hl=t),Zn=0,[]}function vD(t){return Hl="",t}function av(t){return hD(Lh(Zn-1,WE(t===91?t+2:t===40?t+1:t)))}function Mz(t){for(;(At=Fi())&&At<33;)dr();return oh(t)>2||oh(At)>3?"":" "}function Fz(t,e){for(;--e&&dr()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return Lh(t,sv()+(e<6&&Fi()==32&&dr()==32))}function WE(t){for(;dr();)switch(At){case t:return Zn;case 34:case 39:t!==34&&t!==39&&WE(At);break;case 40:t===41&&WE(t);break;case 92:dr();break}return Zn}function Uz(t,e){for(;dr()&&t+At!==47+10;)if(t+At===42+42&&Fi()===47)break;return"/*"+Lh(e,Zn-1)+"*"+Yg(t===47?t:dr())}function jz(t){for(;!oh(Fi());)dr();return Lh(t,Zn)}function $z(t){return vD(uv("",null,null,null,[""],t=dD(t),0,[0],t))}function uv(t,e,n,r,i,s,a,l,c){for(var h=0,d=0,g=a,v=0,y=0,_=0,E=1,C=1,b=1,I=0,T="",R=i,A=s,L=r,F=T;C;)switch(_=I,I=dr()){case 40:if(_!=108&&F.charCodeAt(g-1)==58){zE(F+=Me(av(I),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=av(I);break;case 9:case 10:case 13:case 32:F+=Mz(_);break;case 92:F+=Fz(sv()-1,7);continue;case 47:switch(Fi()){case 42:case 47:Ad(Vz(Uz(dr(),sv()),e,n),c);break;default:F+="/"}break;case 123*E:l[h++]=Ai(F)*b;case 125*E:case 59:case 0:switch(I){case 0:case 125:C=0;case 59+d:y>0&&Ai(F)-g&&Ad(y>32?nR(F+";",r,n,g-1):nR(Me(F," ","")+";",r,n,g-2),c);break;case 59:F+=";";default:if(Ad(L=tR(F,e,n,h,d,i,l,T,R=[],A=[],g),s),I===123)if(d===0)uv(F,e,L,L,R,s,g,l,A);else switch(v){case 100:case 109:case 115:uv(t,L,L,r&&Ad(tR(t,L,L,0,0,i,l,T,i,R=[],g),A),i,A,g,l,r?R:A);break;default:uv(F,L,L,L,[""],A,0,l,A)}}h=d=y=0,E=b=1,T=F="",g=a;break;case 58:g=1+Ai(F),y=_;default:if(E<1){if(I==123)--E;else if(I==125&&E++==0&&Lz()==125)continue}switch(F+=Yg(I),I*E){case 38:b=d>0?1:(F+="\f",-1);break;case 44:l[h++]=(Ai(F)-1)*b,b=1;break;case 64:Fi()===45&&(F+=av(dr())),v=Fi(),d=g=Ai(T=F+=jz(sv())),I++;break;case 45:_===45&&Ai(F)==2&&(E=0)}}return s}function tR(t,e,n,r,i,s,a,l,c,h,d){for(var g=i-1,v=i===0?s:[""],y=Fb(v),_=0,E=0,C=0;_<r;++_)for(var b=0,I=ih(t,g+1,g=Az(E=a[_])),T=t;b<y;++b)(T=hD(E>0?v[b]+" "+I:Me(I,/&\f/g,v[b])))&&(c[C++]=T);return Jg(t,e,n,i===0?Lb:l,c,h,d)}function Vz(t,e,n){return Jg(t,e,n,cD,Yg(Dz()),ih(t,2,-2),0)}function nR(t,e,n,r){return Jg(t,e,n,Mb,ih(t,0,r),ih(t,r+1,-1),r)}function gD(t,e){switch(xz(t,e)){case 5103:return Pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+t+Wv+t+hn+t+t;case 6828:case 4268:return Pe+t+hn+t+t;case 6165:return Pe+t+hn+"flex-"+t+t;case 5187:return Pe+t+Me(t,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+hn+"flex-$1$2")+t;case 5443:return Pe+t+hn+"flex-item-"+Me(t,/flex-|-self/,"")+t;case 4675:return Pe+t+hn+"flex-line-pack"+Me(t,/align-content|flex-|-self/,"")+t;case 5548:return Pe+t+hn+Me(t,"shrink","negative")+t;case 5292:return Pe+t+hn+Me(t,"basis","preferred-size")+t;case 6060:return Pe+"box-"+Me(t,"-grow","")+Pe+t+hn+Me(t,"grow","positive")+t;case 4554:return Pe+Me(t,/([^-])(transform)/g,"$1"+Pe+"$2")+t;case 6187:return Me(Me(Me(t,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),t,"")+t;case 5495:case 3959:return Me(t,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Me(Me(t,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+t+t;case 4095:case 3583:case 4068:case 2532:return Me(t,/(.+)-inline(.+)/,Pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(t)-1-e>6)switch(zn(t,e+1)){case 109:if(zn(t,e+4)!==45)break;case 102:return Me(t,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Wv+(zn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zE(t,"stretch")?gD(Me(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(zn(t,e+1)!==115)break;case 6444:switch(zn(t,Ai(t)-3-(~zE(t,"!important")&&10))){case 107:return Me(t,":",":"+Pe)+t;case 101:return Me(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(zn(t,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+hn+"$2box$3")+t}break;case 5936:switch(zn(t,e+11)){case 114:return Pe+t+hn+Me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pe+t+hn+Me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pe+t+hn+Me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pe+t+hn+t+t}return t}function cl(t,e){for(var n="",r=Fb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Bz(t,e,n,r){switch(t.type){case kz:case Mb:return t.return=t.return||t.value;case cD:return"";case fD:return t.return=t.value+"{"+cl(t.children,r)+"}";case Lb:t.value=t.props.join(",")}return Ai(n=cl(t.children,r))?t.return=t.value+"{"+n+"}":""}function zz(t){var e=Fb(t);return function(n,r,i,s){for(var a="",l=0;l<e;l++)a+=t[l](n,r,i,s)||"";return a}}function Wz(t){return function(e){e.root||(e=e.return)&&t(e)}}function qz(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Mb:t.return=gD(t.value,t.length);break;case fD:return cl([sf(t,{value:Me(t.value,"@","@"+Pe)})],r);case Lb:if(t.length)return Pz(t.props,function(i){switch(Oz(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cl([sf(t,{props:[Me(i,/:(read-\w+)/,":"+Wv+"$1")]})],r);case"::placeholder":return cl([sf(t,{props:[Me(i,/:(plac\w+)/,":"+Pe+"input-$1")]}),sf(t,{props:[Me(i,/:(plac\w+)/,":"+Wv+"$1")]}),sf(t,{props:[Me(i,/:(plac\w+)/,hn+"input-$1")]})],r)}return""})}}var Hz=function(e,n,r){for(var i=0,s=0;i=s,s=Fi(),i===38&&s===12&&(n[r]=1),!oh(s);)dr();return Lh(e,Zn)},Gz=function(e,n){var r=-1,i=44;do switch(oh(i)){case 0:i===38&&Fi()===12&&(n[r]=1),e[r]+=Hz(Zn-1,n,r);break;case 2:e[r]+=av(i);break;case 4:if(i===44){e[++r]=Fi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yg(i)}while(i=dr());return e},Kz=function(e,n){return vD(Gz(dD(e),n))},rR=new WeakMap,Qz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!rR.get(r))&&!i){rR.set(e,!0);for(var s=[],a=Kz(n,s),l=r.props,c=0,h=0;c<a.length;c++)for(var d=0;d<l.length;d++,h++)e.props[h]=s[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},Yz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},Xz=[qz],Jz=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var C=E.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||Xz,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var C=E.getAttribute("data-emotion").split(" "),b=1;b<C.length;b++)s[C[b]]=!0;l.push(E)});var c,h=[Qz,Yz];{var d,g=[Bz,Wz(function(E){d.insert(E)})],v=zz(h.concat(i,g)),y=function(C){return cl($z(C),v)};c=function(C,b,I,T){d=I,y(C?C+"{"+b.styles+"}":b.styles),T&&(_.inserted[b.name]=!0)}}var _={key:n,sheet:new Nz({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return _.sheet.hydrate(l),_},mD={exports:{}},Ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=typeof Symbol=="function"&&Symbol.for,Ub=Xt?Symbol.for("react.element"):60103,jb=Xt?Symbol.for("react.portal"):60106,Zg=Xt?Symbol.for("react.fragment"):60107,em=Xt?Symbol.for("react.strict_mode"):60108,tm=Xt?Symbol.for("react.profiler"):60114,nm=Xt?Symbol.for("react.provider"):60109,rm=Xt?Symbol.for("react.context"):60110,$b=Xt?Symbol.for("react.async_mode"):60111,im=Xt?Symbol.for("react.concurrent_mode"):60111,om=Xt?Symbol.for("react.forward_ref"):60112,sm=Xt?Symbol.for("react.suspense"):60113,Zz=Xt?Symbol.for("react.suspense_list"):60120,am=Xt?Symbol.for("react.memo"):60115,um=Xt?Symbol.for("react.lazy"):60116,e6=Xt?Symbol.for("react.block"):60121,t6=Xt?Symbol.for("react.fundamental"):60117,n6=Xt?Symbol.for("react.responder"):60118,r6=Xt?Symbol.for("react.scope"):60119;function Er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ub:switch(t=t.type,t){case $b:case im:case Zg:case tm:case em:case sm:return t;default:switch(t=t&&t.$$typeof,t){case rm:case om:case um:case am:case nm:return t;default:return e}}case jb:return e}}}function yD(t){return Er(t)===im}Ve.AsyncMode=$b;Ve.ConcurrentMode=im;Ve.ContextConsumer=rm;Ve.ContextProvider=nm;Ve.Element=Ub;Ve.ForwardRef=om;Ve.Fragment=Zg;Ve.Lazy=um;Ve.Memo=am;Ve.Portal=jb;Ve.Profiler=tm;Ve.StrictMode=em;Ve.Suspense=sm;Ve.isAsyncMode=function(t){return yD(t)||Er(t)===$b};Ve.isConcurrentMode=yD;Ve.isContextConsumer=function(t){return Er(t)===rm};Ve.isContextProvider=function(t){return Er(t)===nm};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ub};Ve.isForwardRef=function(t){return Er(t)===om};Ve.isFragment=function(t){return Er(t)===Zg};Ve.isLazy=function(t){return Er(t)===um};Ve.isMemo=function(t){return Er(t)===am};Ve.isPortal=function(t){return Er(t)===jb};Ve.isProfiler=function(t){return Er(t)===tm};Ve.isStrictMode=function(t){return Er(t)===em};Ve.isSuspense=function(t){return Er(t)===sm};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zg||t===im||t===tm||t===em||t===sm||t===Zz||typeof t=="object"&&t!==null&&(t.$$typeof===um||t.$$typeof===am||t.$$typeof===nm||t.$$typeof===rm||t.$$typeof===om||t.$$typeof===t6||t.$$typeof===n6||t.$$typeof===r6||t.$$typeof===e6)};Ve.typeOf=Er;mD.exports=Ve;var _D=mD.exports,i6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wD={};wD[_D.ForwardRef]=i6;wD[_D.Memo]=o6;var s6=!0;function a6(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var ED=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||s6===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},u6=function(e,n,r){ED(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function l6(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var c6={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f6=/[A-Z]|^ms/g,h6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bD=function(e){return e.charCodeAt(1)===45},iR=function(e){return e!=null&&typeof e!="boolean"},ew=lD(function(t){return bD(t)?t:t.replace(f6,"-$&").toLowerCase()}),oR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(h6,function(r,i,s){return Ri={name:i,styles:s,next:Ri},i})}return c6[e]!==1&&!bD(e)&&typeof n=="number"&&n!==0?n+"px":n};function sh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ri={name:n.name,styles:n.styles,next:Ri},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ri={name:r.name,styles:r.styles,next:Ri},r=r.next;var i=n.styles+";";return i}return p6(t,e,n)}case"function":{if(t!==void 0){var s=Ri,a=n(t);return Ri=s,sh(t,e,a)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function p6(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sh(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":iR(a)&&(r+=ew(s)+":"+oR(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)iR(a[l])&&(r+=ew(s)+":"+oR(s,a[l])+";");else{var c=sh(t,e,a);switch(s){case"animation":case"animationName":{r+=ew(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var sR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ri,SD=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ri=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=sh(r,n,a)):s+=a[0];for(var l=1;l<e.length;l++)s+=sh(r,n,e[l]),i&&(s+=a[l]);sR.lastIndex=0;for(var c="",h;(h=sR.exec(s))!==null;)c+="-"+h[1];var d=l6(s)+c;return{name:d,styles:s,next:Ri}},ID=U.exports.createContext(typeof HTMLElement!="undefined"?Jz({key:"css"}):null);ID.Provider;var d6=function(e){return U.exports.forwardRef(function(n,r){var i=U.exports.useContext(ID);return e(n,i,r)})},v6=U.exports.createContext({});wa["useInsertionEffect"]&&wa["useInsertionEffect"];wa["useInsertionEffect"]?wa["useInsertionEffect"]:U.exports.useLayoutEffect;function g6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return SD(e)}var Vb=function(){var e=g6.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},m6=Iz,y6=function(e){return e!=="theme"},aR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?m6:y6},uR=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},_6=wa["useInsertionEffect"]?wa["useInsertionEffect"]:function(e){e()};function w6(t){_6(t)}var E6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ED(n,r,i),w6(function(){return u6(n,r,i)}),null},b6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=uR(e,n,r),c=l||aR(i),h=!c("as");return function(){var d=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)g.push.apply(g,d);else{g.push(d[0][0]);for(var v=d.length,y=1;y<v;y++)g.push(d[y],d[0][y])}var _=d6(function(E,C,b){var I=h&&E.as||i,T="",R=[],A=E;if(E.theme==null){A={};for(var L in E)A[L]=E[L];A.theme=U.exports.useContext(v6)}typeof E.className=="string"?T=a6(C.registered,R,E.className):E.className!=null&&(T=E.className+" ");var F=SD(g.concat(R),C.registered,A);T+=C.key+"-"+F.name,a!==void 0&&(T+=" "+a);var P=h&&l===void 0?aR(I):c,N={};for(var B in E)h&&B==="as"||P(B)&&(N[B]=E[B]);return N.className=T,N.ref=b,U.exports.createElement(U.exports.Fragment,null,U.exports.createElement(E6,{cache:C,serialized:F,isStringTag:typeof I=="string"}),U.exports.createElement(I,N))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=g,_.__emotion_forwardProp=l,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(E,C){return t(E,ie({},n,C,{shouldForwardProp:uR(_,C,!0)})).apply(void 0,g)},_}},S6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qE=b6.bind();S6.forEach(function(t){qE[t]=qE(t)});var I6=qE;/** @license MUI v5.8.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function T6(t,e){return I6(t,e)}function Of(t,e){return e?mo(t,e,{clone:!1}):t}const Bb={xs:0,sm:600,md:900,lg:1200,xl:1536},lR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Bb[t]}px)`};function Ts(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||lR;return e.reduce((a,l,c)=>(a[s.up(s.keys[c])]=n(e[c]),a),{})}if(typeof e=="object"){const s=r.breakpoints||lR;return Object.keys(e).reduce((a,l)=>{if(Object.keys(s.values||Bb).indexOf(l)!==-1){const c=s.up(l);a[c]=n(e[l],l)}else{const c=l;a[c]=e[c]}return a},{})}return n(e)}function C6(t={}){var e;return(t==null||(e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function N6(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function zb(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function cR(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=zb(t,n)||r,e&&(i=e(i)),i}function J(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const l=a[e],c=a.theme,h=zb(c,r)||{};return Ts(a,l,g=>{let v=cR(h,i,g);return g===v&&typeof g=="string"&&(v=cR(h,i,`${e}${g==="default"?"":Ze(g)}`,g)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[e],s}function Cs(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Of(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function k6(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const A6={m:"margin",p:"padding"},R6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},x6=k6(t=>{if(t.length>2)if(fR[t])t=fR[t];else return[t];const[e,n]=t.split(""),r=A6[e],i=R6[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),O6=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P6=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],TD=[...O6,...P6];function Mh(t,e,n,r){var i;const s=(i=zb(t,e,!1))!=null?i:n;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function CD(t){return Mh(t,"spacing",8)}function Fh(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function D6(t,e){return n=>t.reduce((r,i)=>(r[i]=Fh(e,n),r),{})}function L6(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=x6(n),s=D6(i,r),a=t[n];return Ts(t,a,s)}function M6(t,e){const n=CD(t.theme);return Object.keys(t).map(r=>L6(t,e,r,n)).reduce(Of,{})}function lm(t){return M6(t,TD)}lm.propTypes={};lm.filterProps=TD;function Uh(t){return typeof t!="number"?t:`${t}px solid`}const F6=J({prop:"border",themeKey:"borders",transform:Uh}),U6=J({prop:"borderTop",themeKey:"borders",transform:Uh}),j6=J({prop:"borderRight",themeKey:"borders",transform:Uh}),$6=J({prop:"borderBottom",themeKey:"borders",transform:Uh}),V6=J({prop:"borderLeft",themeKey:"borders",transform:Uh}),B6=J({prop:"borderColor",themeKey:"palette"}),z6=J({prop:"borderTopColor",themeKey:"palette"}),W6=J({prop:"borderRightColor",themeKey:"palette"}),q6=J({prop:"borderBottomColor",themeKey:"palette"}),H6=J({prop:"borderLeftColor",themeKey:"palette"}),Wb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Mh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Fh(e,r)});return Ts(t,t.borderRadius,n)}return null};Wb.propTypes={};Wb.filterProps=["borderRadius"];const G6=Cs(F6,U6,j6,$6,V6,B6,z6,W6,q6,H6,Wb);var ND=G6;const K6=J({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),Q6=J({prop:"display"}),Y6=J({prop:"overflow"}),X6=J({prop:"textOverflow"}),J6=J({prop:"visibility"}),Z6=J({prop:"whiteSpace"});var kD=Cs(K6,Q6,Y6,X6,J6,Z6);const eW=J({prop:"flexBasis"}),tW=J({prop:"flexDirection"}),nW=J({prop:"flexWrap"}),rW=J({prop:"justifyContent"}),iW=J({prop:"alignItems"}),oW=J({prop:"alignContent"}),sW=J({prop:"order"}),aW=J({prop:"flex"}),uW=J({prop:"flexGrow"}),lW=J({prop:"flexShrink"}),cW=J({prop:"alignSelf"}),fW=J({prop:"justifyItems"}),hW=J({prop:"justifySelf"}),pW=Cs(eW,tW,nW,rW,iW,oW,sW,aW,uW,lW,cW,fW,hW);var AD=pW;const qb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Mh(t.theme,"spacing",8),n=r=>({gap:Fh(e,r)});return Ts(t,t.gap,n)}return null};qb.propTypes={};qb.filterProps=["gap"];const Hb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Mh(t.theme,"spacing",8),n=r=>({columnGap:Fh(e,r)});return Ts(t,t.columnGap,n)}return null};Hb.propTypes={};Hb.filterProps=["columnGap"];const Gb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Mh(t.theme,"spacing",8),n=r=>({rowGap:Fh(e,r)});return Ts(t,t.rowGap,n)}return null};Gb.propTypes={};Gb.filterProps=["rowGap"];const dW=J({prop:"gridColumn"}),vW=J({prop:"gridRow"}),gW=J({prop:"gridAutoFlow"}),mW=J({prop:"gridAutoColumns"}),yW=J({prop:"gridAutoRows"}),_W=J({prop:"gridTemplateColumns"}),wW=J({prop:"gridTemplateRows"}),EW=J({prop:"gridTemplateAreas"}),bW=J({prop:"gridArea"}),SW=Cs(qb,Hb,Gb,dW,vW,gW,mW,yW,_W,wW,EW,bW);var RD=SW;const IW=J({prop:"color",themeKey:"palette"}),TW=J({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),CW=J({prop:"backgroundColor",themeKey:"palette"}),NW=Cs(IW,TW,CW);var xD=NW;const kW=J({prop:"position"}),AW=J({prop:"zIndex",themeKey:"zIndex"}),RW=J({prop:"top"}),xW=J({prop:"right"}),OW=J({prop:"bottom"}),PW=J({prop:"left"});var OD=Cs(kW,AW,RW,xW,OW,PW);const DW=J({prop:"boxShadow",themeKey:"shadows"});var PD=DW;function Ns(t){return t<=1&&t!==0?`${t*100}%`:t}const LW=J({prop:"width",transform:Ns}),DD=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Bb[n]||Ns(n)}};return Ts(t,t.maxWidth,e)}return null};DD.filterProps=["maxWidth"];const MW=J({prop:"minWidth",transform:Ns}),FW=J({prop:"height",transform:Ns}),UW=J({prop:"maxHeight",transform:Ns}),jW=J({prop:"minHeight",transform:Ns});J({prop:"size",cssProperty:"width",transform:Ns});J({prop:"size",cssProperty:"height",transform:Ns});const $W=J({prop:"boxSizing"}),VW=Cs(LW,DD,MW,FW,UW,jW,$W);var LD=VW;const BW=J({prop:"fontFamily",themeKey:"typography"}),zW=J({prop:"fontSize",themeKey:"typography"}),WW=J({prop:"fontStyle",themeKey:"typography"}),qW=J({prop:"fontWeight",themeKey:"typography"}),HW=J({prop:"letterSpacing"}),GW=J({prop:"textTransform"}),KW=J({prop:"lineHeight"}),QW=J({prop:"textAlign"}),YW=J({prop:"typography",cssProperty:!1,themeKey:"typography"}),XW=Cs(YW,BW,zW,WW,qW,HW,KW,QW,GW);var MD=XW;const hR={borders:ND.filterProps,display:kD.filterProps,flexbox:AD.filterProps,grid:RD.filterProps,positions:OD.filterProps,palette:xD.filterProps,shadows:PD.filterProps,sizing:LD.filterProps,spacing:lm.filterProps,typography:MD.filterProps},FD={borders:ND,display:kD,flexbox:AD,grid:RD,positions:OD,palette:xD,shadows:PD,sizing:LD,spacing:lm,typography:MD};Object.keys(hR).reduce((t,e)=>(hR[e].forEach(n=>{t[n]=FD[e]}),t),{});function JW(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function ZW(t,e){return typeof t=="function"?t(e):t}function eq(t=FD){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(a=>{i[a]=t[s]}),i),{});function n(i,s,a){const l={[i]:s,theme:a},c=e[i];return c?c(l):{[i]:s}}function r(i){const{sx:s,theme:a={}}=i||{};if(!s)return null;function l(c){let h=c;if(typeof c=="function")h=c(a);else if(typeof c!="object")return c;if(!h)return null;const d=C6(a.breakpoints),g=Object.keys(d);let v=d;return Object.keys(h).forEach(y=>{const _=ZW(h[y],a);if(_!=null)if(typeof _=="object")if(e[y])v=Of(v,n(y,_,a));else{const E=Ts({theme:a},_,C=>({[y]:C}));JW(E,_)?v[y]=r({sx:_,theme:a}):v=Of(v,E)}else v=Of(v,n(y,_,a))}),N6(g,v)}return Array.isArray(s)?s.map(l):l(s)}return r}const UD=eq();UD.filterProps=["sx"];var tq=UD;const nq=["values","unit","step"],rq=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ie({},n,{[r.key]:r.val}),{})};function iq(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=un(t,nq),s=rq(e),a=Object.keys(s);function l(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function c(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function h(v,y){const _=a.indexOf(y);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:y)-r/100}${n})`}function d(v){return a.indexOf(v)+1<a.length?h(v,a[a.indexOf(v)+1]):l(v)}function g(v){const y=a.indexOf(v);return y===0?l(a[1]):y===a.length-1?c(a[y]):h(v,a[a.indexOf(v)+1]).replace("@media","@media not all and")}return ie({keys:a,values:s,up:l,down:c,between:h,only:d,not:g,unit:n},i)}const oq={borderRadius:4};var sq=oq;function aq(t=8){if(t.mui)return t;const e=CD({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}const uq=["breakpoints","palette","spacing","shape"];function Kb(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,a=un(t,uq),l=iq(n),c=aq(i);let h=mo({breakpoints:l,direction:"ltr",components:{},palette:ie({mode:"light"},r),spacing:c,shape:ie({},sq,s)},a);return h=e.reduce((d,g)=>mo(d,g),h),h}const lq=U.exports.createContext(null);var cq=lq;function fq(){return U.exports.useContext(cq)}function hq(t){return Object.keys(t).length===0}function pq(t=null){const e=fq();return!e||hq(e)?t:e}const dq=Kb();function vq(t=dq){return pq(t)}const gq=["variant"];function pR(t){return t.length===0}function jD(t){const{variant:e}=t,n=un(t,gq);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=pR(r)?t[i]:Ze(t[i]):r+=`${pR(r)?i:Ze(i)}${Ze(t[i].toString())}`}),r}const mq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],yq=["theme"],_q=["theme"];function af(t){return Object.keys(t).length===0}const wq=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Eq=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=jD(i.props);r[s]=i.style}),r},bq=(t,e,n,r)=>{var i,s;const{ownerState:a={}}=t,l=[],c=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return c&&c.forEach(h=>{let d=!0;Object.keys(h.props).forEach(g=>{a[g]!==h.props[g]&&t[g]!==h.props[g]&&(d=!1)}),d&&l.push(e[jD(h.props)])}),l};function lv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Sq=Kb();function Iq(t={}){const{defaultTheme:e=Sq,rootShouldForwardProp:n=lv,slotShouldForwardProp:r=lv,styleFunctionSx:i=tq}=t;return(s,a={})=>{const{name:l,slot:c,skipVariantsResolver:h,skipSx:d,overridesResolver:g}=a,v=un(a,mq),y=h!==void 0?h:c&&c!=="Root"||!1,_=d||!1;let E,C=lv;c==="Root"?C=n:c&&(C=r);const b=T6(s,ie({shouldForwardProp:C,label:E},v)),I=(T,...R)=>{const A=R?R.map(N=>typeof N=="function"&&N.__emotion_real!==N?B=>{let{theme:oe}=B,_e=un(B,yq);return N(ie({theme:af(oe)?e:oe},_e))}:N):[];let L=T;l&&g&&A.push(N=>{const B=af(N.theme)?e:N.theme,oe=wq(l,B);if(oe){const _e={};return Object.entries(oe).forEach(([Ne,Oe])=>{_e[Ne]=typeof Oe=="function"?Oe(ie({},N,{theme:B})):Oe}),g(N,_e)}return null}),l&&!y&&A.push(N=>{const B=af(N.theme)?e:N.theme;return bq(N,Eq(l,B),B,l)}),_||A.push(N=>{const B=af(N.theme)?e:N.theme;return i(ie({},N,{theme:B}))});const F=A.length-R.length;if(Array.isArray(T)&&F>0){const N=new Array(F).fill("");L=[...T,...N],L.raw=[...T.raw,...N]}else typeof T=="function"&&T.__emotion_real!==T&&(L=N=>{let{theme:B}=N,oe=un(N,_q);return T(ie({theme:af(B)?e:B},oe))});return b(L,...A)};return b.withConfig&&(I.withConfig=b.withConfig),I}}function Tq(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:oD(e.components[n].defaultProps,r)}function Cq({props:t,name:e,defaultTheme:n}){const r=vq(n);return Tq({theme:r,name:e,props:t})}function Qb(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Nq(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ca(t){if(t.type)return t;if(t.charAt(0)==="#")return Ca(Nq(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(rh(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(rh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function cm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function kq(t){t=Ca(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(h,d=(h+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",c.push(e[3])),cm({type:l,values:c})}function dR(t){t=Ca(t);let e=t.type==="hsl"?Ca(kq(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Aq(t,e){const n=dR(t),r=dR(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function el(t,e){return t=Ca(t),e=Qb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,cm(t)}function Rq(t,e){if(t=Ca(t),e=Qb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return cm(t)}function xq(t,e){if(t=Ca(t),e=Qb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return cm(t)}function Oq(t,e){return ie({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Pq={black:"#000",white:"#fff"};var ah=Pq;const Dq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var Lq=Dq;const Mq={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var ku=Mq;const Fq={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var Au=Fq;const Uq={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var uf=Uq;const jq={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var Ru=jq;const $q={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var xu=$q;const Vq={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var Ou=Vq;const Bq=["mode","contrastThreshold","tonalOffset"],vR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ah.white,default:ah.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},tw={text:{primary:ah.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ah.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gR(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=xq(t.main,i):e==="dark"&&(t.dark=Rq(t.main,s)))}function zq(t="light"){return t==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[700],light:Ru[400],dark:Ru[800]}}function Wq(t="light"){return t==="dark"?{main:ku[200],light:ku[50],dark:ku[400]}:{main:ku[500],light:ku[300],dark:ku[700]}}function qq(t="light"){return t==="dark"?{main:Au[500],light:Au[300],dark:Au[700]}:{main:Au[700],light:Au[400],dark:Au[800]}}function Hq(t="light"){return t==="dark"?{main:xu[400],light:xu[300],dark:xu[700]}:{main:xu[700],light:xu[500],dark:xu[900]}}function Gq(t="light"){return t==="dark"?{main:Ou[400],light:Ou[300],dark:Ou[700]}:{main:Ou[800],light:Ou[500],dark:Ou[900]}}function Kq(t="light"){return t==="dark"?{main:uf[400],light:uf[300],dark:uf[700]}:{main:"#ed6c02",light:uf[500],dark:uf[900]}}function Qq(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=un(t,Bq),s=t.primary||zq(e),a=t.secondary||Wq(e),l=t.error||qq(e),c=t.info||Hq(e),h=t.success||Gq(e),d=t.warning||Kq(e);function g(E){return Aq(E,tw.text.primary)>=n?tw.text.primary:vR.text.primary}const v=({color:E,name:C,mainShade:b=500,lightShade:I=300,darkShade:T=700})=>{if(E=ie({},E),!E.main&&E[b]&&(E.main=E[b]),!E.hasOwnProperty("main"))throw new Error(rh(11,C?` (${C})`:"",b));if(typeof E.main!="string")throw new Error(rh(12,C?` (${C})`:"",JSON.stringify(E.main)));return gR(E,"light",I,r),gR(E,"dark",T,r),E.contrastText||(E.contrastText=g(E.main)),E},y={dark:tw,light:vR};return mo(ie({common:ie({},ah),mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:c,name:"info"}),success:v({color:h,name:"success"}),grey:Lq,contrastThreshold:n,getContrastText:g,augmentColor:v,tonalOffset:r},y[e]),i)}const Yq=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Xq(t){return Math.round(t*1e5)/1e5}const mR={textTransform:"uppercase"},yR='"Roboto", "Helvetica", "Arial", sans-serif';function Jq(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=yR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:g}=n,v=un(n,Yq),y=i/14,_=g||(b=>`${b/h*y}rem`),E=(b,I,T,R,A)=>ie({fontFamily:r,fontWeight:b,fontSize:_(I),lineHeight:T},r===yR?{letterSpacing:`${Xq(R/I)}em`}:{},A,d),C={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(a,48,1.167,0),h4:E(a,34,1.235,.25),h5:E(a,24,1.334,0),h6:E(l,20,1.6,.15),subtitle1:E(a,16,1.75,.15),subtitle2:E(l,14,1.57,.1),body1:E(a,16,1.5,.15),body2:E(a,14,1.43,.15),button:E(l,14,1.75,.4,mR),caption:E(a,12,1.66,.4),overline:E(a,12,2.66,1,mR)};return mo(ie({htmlFontSize:h,pxToRem:_,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},C),v,{clone:!1})}const Zq=.2,eH=.14,tH=.12;function ot(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Zq})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${eH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${tH})`].join(",")}const nH=["none",ot(0,2,1,-1,0,1,1,0,0,1,3,0),ot(0,3,1,-2,0,2,2,0,0,1,5,0),ot(0,3,3,-2,0,3,4,0,0,1,8,0),ot(0,2,4,-1,0,4,5,0,0,1,10,0),ot(0,3,5,-1,0,5,8,0,0,1,14,0),ot(0,3,5,-1,0,6,10,0,0,1,18,0),ot(0,4,5,-2,0,7,10,1,0,2,16,1),ot(0,5,5,-3,0,8,10,1,0,3,14,2),ot(0,5,6,-3,0,9,12,1,0,3,16,2),ot(0,6,6,-3,0,10,14,1,0,4,18,3),ot(0,6,7,-4,0,11,15,1,0,4,20,3),ot(0,7,8,-4,0,12,17,2,0,5,22,4),ot(0,7,8,-4,0,13,19,2,0,5,24,4),ot(0,7,9,-4,0,14,21,2,0,5,26,4),ot(0,8,9,-5,0,15,22,2,0,6,28,5),ot(0,8,10,-5,0,16,24,2,0,6,30,5),ot(0,8,11,-5,0,17,26,2,0,6,32,5),ot(0,9,11,-5,0,18,28,2,0,7,34,6),ot(0,9,12,-6,0,19,29,2,0,7,36,6),ot(0,10,13,-6,0,20,31,3,0,8,38,7),ot(0,10,13,-6,0,21,33,3,0,8,40,7),ot(0,10,14,-6,0,22,35,3,0,8,42,7),ot(0,11,14,-7,0,23,36,3,0,9,44,8),ot(0,11,15,-7,0,24,38,3,0,9,46,8)];var rH=nH;const iH=["duration","easing","delay"],oH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _R(t){return`${Math.round(t)}ms`}function aH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function uH(t){const e=ie({},oH,t.easing),n=ie({},sH,t.duration);return ie({getAutoHeightDuration:aH,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:c=0}=s;return un(s,iH),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:_R(a)} ${l} ${typeof c=="string"?c:_R(c)}`).join(",")}},t,{easing:e,duration:n})}const lH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var cH=lH;const fH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function hH(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,a=un(t,fH),l=Qq(r),c=Kb(t);let h=mo(c,{mixins:Oq(c.breakpoints,n),palette:l,shadows:rH.slice(),typography:Jq(l,s),transitions:uH(i),zIndex:ie({},cH)});return h=mo(h,a),h=e.reduce((d,g)=>mo(d,g),h),h}const pH=hH();var $D=pH;function Gl({props:t,name:e}){return Cq({props:t,name:e,defaultTheme:$D})}const VD=t=>lv(t)&&t!=="classes",dH=Iq({defaultTheme:$D,rootShouldForwardProp:VD});var yi=dH;function vH(t){return Wl("MuiSvgIcon",t)}ql("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const gH=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],mH=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ze(e)}`,`fontSize${Ze(n)}`]};return Dh(i,vH,r)},yH=yi("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ze(n.color)}`],e[`fontSize${Ze(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,a,l,c,h,d,g,v,y,_,E,C,b,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,20))||"1.25rem",medium:((c=t.typography)==null||(h=c.pxToRem)==null?void 0:h.call(c,24))||"1.5rem",large:((d=t.typography)==null||(g=d.pxToRem)==null?void 0:g.call(d,35))||"2.1875"}[e.fontSize],color:(v=(y=(t.vars||t).palette)==null||(_=y[e.color])==null?void 0:_.main)!=null?v:{action:(E=(t.vars||t).palette)==null||(C=E.action)==null?void 0:C.active,disabled:(b=(t.vars||t).palette)==null||(I=b.action)==null?void 0:I.disabled,inherit:void 0}[e.color]}}),BD=U.exports.forwardRef(function(e,n){const r=Gl({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:d=!1,titleAccess:g,viewBox:v="0 0 24 24"}=r,y=un(r,gH),_=ie({},r,{color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:v}),E={};d||(E.viewBox=v);const C=mH(_);return Ge(yH,ie({as:l,className:On(C.root,s),ownerState:_,focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n},E,y,{children:[i,g?H("title",{children:g}):null]}))});BD.muiName="SvgIcon";var wR=BD;function Ba(t,e){const n=(r,i)=>H(wR,ie({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=wR.muiName,U.exports.memo(U.exports.forwardRef(n))}const _H={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),sD.configure(t)}};var wH=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:_H,capitalize:Ze,createChainedFunction:QB,createSvgIcon:Ba,debounce:YB,deprecatedPropType:XB,isMuiElement:JB,ownerDocument:nD,ownerWindow:ZB,requirePropFactory:ez,setRef:VE,unstable_useEnhancedEffect:rD,unstable_useId:rz,unsupportedProp:iz,useControlled:oz,useEventCallback:wf,useForkRef:ov,useIsFocusVisible:iD},Symbol.toStringTag,{value:"Module"})),EH=Ba(H("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile"),bH=Ba(H("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),"ChatBubble"),SH=Ba(H("path",{d:"M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"}),"DonutLarge"),zD=Ba(H("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),WD=Ba(H("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HE(t,e)}function IH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,HE(t,e)}var ER=sa.createContext(null);function TH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yb(t,e){var n=function(s){return e&&U.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&U.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function CH(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var h=r[c][a];l[r[c][a]]=n(h)}l[c]=n(c)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function la(t,e,n){return n[e]!=null?n[e]:t.props[e]}function NH(t,e){return Yb(t.children,function(n){return U.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:la(n,"appear",t),enter:la(n,"enter",t),exit:la(n,"exit",t)})})}function kH(t,e,n){var r=Yb(t.children),i=CH(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(!!U.exports.isValidElement(a)){var l=s in e,c=s in r,h=e[s],d=U.exports.isValidElement(h)&&!h.props.in;c&&(!l||d)?i[s]=U.exports.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:la(a,"exit",t),enter:la(a,"enter",t)}):!c&&l&&!d?i[s]=U.exports.cloneElement(a,{in:!1}):c&&l&&U.exports.isValidElement(h)&&(i[s]=U.exports.cloneElement(a,{onExited:n.bind(null,a),in:h.props.in,exit:la(a,"exit",t),enter:la(a,"enter",t)}))}}),i}var AH=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},RH={component:"div",childFactory:function(e){return e}},Xb=function(t){IH(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(TH(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,c=s.firstRender;return{children:c?NH(i,l):kH(i,a,l),firstRender:!1}},n.handleExited=function(i,s){var a=Yb(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var c=ie({},l.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=un(i,["component","childFactory"]),c=this.state.contextValue,h=AH(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?sa.createElement(ER.Provider,{value:c},h):sa.createElement(ER.Provider,{value:c},sa.createElement(s,l,h))},e}(sa.Component);Xb.propTypes={};Xb.defaultProps=RH;var xH=Xb;function OH(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:h}=t,[d,g]=U.exports.useState(!1),v=On(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},_=On(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&g(!0),U.exports.useEffect(()=>{if(!l&&c!=null){const E=setTimeout(c,h);return()=>{clearTimeout(E)}}},[c,l,h]),H("span",{className:v,style:y,children:H("span",{className:_})})}const PH=ql("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var kr=PH;const DH=["center","classes","className"];let fm=t=>t,bR,SR,IR,TR;const GE=550,LH=80,MH=Vb(bR||(bR=fm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),FH=Vb(SR||(SR=fm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),UH=Vb(IR||(IR=fm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),jH=yi("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$H=yi(OH,{name:"MuiTouchRipple",slot:"Ripple"})(TR||(TR=fm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),kr.rippleVisible,MH,GE,({theme:t})=>t.transitions.easing.easeInOut,kr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,kr.child,kr.childLeaving,FH,GE,({theme:t})=>t.transitions.easing.easeInOut,kr.childPulsate,UH,({theme:t})=>t.transitions.easing.easeInOut),VH=U.exports.forwardRef(function(e,n){const r=Gl({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=r,l=un(r,DH),[c,h]=U.exports.useState([]),d=U.exports.useRef(0),g=U.exports.useRef(null);U.exports.useEffect(()=>{g.current&&(g.current(),g.current=null)},[c]);const v=U.exports.useRef(!1),y=U.exports.useRef(null),_=U.exports.useRef(null),E=U.exports.useRef(null);U.exports.useEffect(()=>()=>{clearTimeout(y.current)},[]);const C=U.exports.useCallback(R=>{const{pulsate:A,rippleX:L,rippleY:F,rippleSize:P,cb:N}=R;h(B=>[...B,H($H,{classes:{ripple:On(s.ripple,kr.ripple),rippleVisible:On(s.rippleVisible,kr.rippleVisible),ripplePulsate:On(s.ripplePulsate,kr.ripplePulsate),child:On(s.child,kr.child),childLeaving:On(s.childLeaving,kr.childLeaving),childPulsate:On(s.childPulsate,kr.childPulsate)},timeout:GE,pulsate:A,rippleX:L,rippleY:F,rippleSize:P},d.current)]),d.current+=1,g.current=N},[s]),b=U.exports.useCallback((R={},A={},L)=>{const{pulsate:F=!1,center:P=i||A.pulsate,fakeElement:N=!1}=A;if((R==null?void 0:R.type)==="mousedown"&&v.current){v.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(v.current=!0);const B=N?null:E.current,oe=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let _e,Ne,Oe;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)_e=Math.round(oe.width/2),Ne=Math.round(oe.height/2);else{const{clientX:qe,clientY:Fe}=R.touches?R.touches[0]:R;_e=Math.round(qe-oe.left),Ne=Math.round(Fe-oe.top)}if(P)Oe=Math.sqrt((2*oe.width**2+oe.height**2)/3),Oe%2===0&&(Oe+=1);else{const qe=Math.max(Math.abs((B?B.clientWidth:0)-_e),_e)*2+2,Fe=Math.max(Math.abs((B?B.clientHeight:0)-Ne),Ne)*2+2;Oe=Math.sqrt(qe**2+Fe**2)}R!=null&&R.touches?_.current===null&&(_.current=()=>{C({pulsate:F,rippleX:_e,rippleY:Ne,rippleSize:Oe,cb:L})},y.current=setTimeout(()=>{_.current&&(_.current(),_.current=null)},LH)):C({pulsate:F,rippleX:_e,rippleY:Ne,rippleSize:Oe,cb:L})},[i,C]),I=U.exports.useCallback(()=>{b({},{pulsate:!0})},[b]),T=U.exports.useCallback((R,A)=>{if(clearTimeout(y.current),(R==null?void 0:R.type)==="touchend"&&_.current){_.current(),_.current=null,y.current=setTimeout(()=>{T(R,A)});return}_.current=null,h(L=>L.length>0?L.slice(1):L),g.current=A},[]);return U.exports.useImperativeHandle(n,()=>({pulsate:I,start:b,stop:T}),[I,b,T]),H(jH,ie({className:On(s.root,kr.root,a),ref:E},l,{children:H(xH,{component:null,exit:!0,children:c})}))});var BH=VH;function zH(t){return Wl("MuiButtonBase",t)}const WH=ql("MuiButtonBase",["root","disabled","focusVisible"]);var qH=WH;const HH=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],GH=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Dh({root:["root",e&&"disabled",n&&"focusVisible"]},zH,i);return n&&r&&(a.root+=` ${r}`),a},KH=yi("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qH.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),QH=U.exports.forwardRef(function(e,n){const r=Gl({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:c="button",disabled:h=!1,disableRipple:d=!1,disableTouchRipple:g=!1,focusRipple:v=!1,LinkComponent:y="a",onBlur:_,onClick:E,onContextMenu:C,onDragLeave:b,onFocus:I,onFocusVisible:T,onKeyDown:R,onKeyUp:A,onMouseDown:L,onMouseLeave:F,onMouseUp:P,onTouchEnd:N,onTouchMove:B,onTouchStart:oe,tabIndex:_e=0,TouchRippleProps:Ne,touchRippleRef:Oe,type:qe}=r,Fe=un(r,HH),Re=U.exports.useRef(null),q=U.exports.useRef(null),le=ov(q,Oe),{isFocusVisibleRef:he,onFocus:He,onBlur:ut,ref:qi}=iD(),[Zt,br]=U.exports.useState(!1);h&&Zt&&br(!1),U.exports.useImperativeHandle(i,()=>({focusVisible:()=>{br(!0),Re.current.focus()}}),[]);const[jn,Le]=U.exports.useState(!1);U.exports.useEffect(()=>{Le(!0)},[]);const qm=jn&&!d&&!h;U.exports.useEffect(()=>{Zt&&v&&!d&&jn&&q.current.pulsate()},[d,v,Zt,jn]);function Wr(ve,dt,pp=g){return wf(_i=>(dt&&dt(_i),!pp&&q.current&&q.current[ve](_i),!0))}const tu=Wr("start",L),Hm=Wr("stop",C),Gm=Wr("stop",b),qr=Wr("stop",P),nu=Wr("stop",ve=>{Zt&&ve.preventDefault(),F&&F(ve)}),tr=Wr("start",oe),cc=Wr("stop",N),Hi=Wr("stop",B),fp=Wr("stop",ve=>{ut(ve),he.current===!1&&br(!1),_&&_(ve)},!1),Km=wf(ve=>{Re.current||(Re.current=ve.currentTarget),He(ve),he.current===!0&&(br(!0),T&&T(ve)),I&&I(ve)}),fc=()=>{const ve=Re.current;return c&&c!=="button"&&!(ve.tagName==="A"&&ve.href)},hc=U.exports.useRef(!1),Qm=wf(ve=>{v&&!hc.current&&Zt&&q.current&&ve.key===" "&&(hc.current=!0,q.current.stop(ve,()=>{q.current.start(ve)})),ve.target===ve.currentTarget&&fc()&&ve.key===" "&&ve.preventDefault(),R&&R(ve),ve.target===ve.currentTarget&&fc()&&ve.key==="Enter"&&!h&&(ve.preventDefault(),E&&E(ve))}),Ym=wf(ve=>{v&&ve.key===" "&&q.current&&Zt&&!ve.defaultPrevented&&(hc.current=!1,q.current.stop(ve,()=>{q.current.pulsate(ve)})),A&&A(ve),E&&ve.target===ve.currentTarget&&fc()&&ve.key===" "&&!ve.defaultPrevented&&E(ve)});let ru=c;ru==="button"&&(Fe.href||Fe.to)&&(ru=y);const Ps={};ru==="button"?(Ps.type=qe===void 0?"button":qe,Ps.disabled=h):(!Fe.href&&!Fe.to&&(Ps.role="button"),h&&(Ps["aria-disabled"]=h));const Be=ov(qi,Re),pc=ov(n,Be),Gi=ie({},r,{centerRipple:s,component:c,disabled:h,disableRipple:d,disableTouchRipple:g,focusRipple:v,tabIndex:_e,focusVisible:Zt}),hp=GH(Gi);return Ge(KH,ie({as:ru,className:On(hp.root,l),ownerState:Gi,onBlur:fp,onClick:E,onContextMenu:Hm,onFocus:Km,onKeyDown:Qm,onKeyUp:Ym,onMouseDown:tu,onMouseLeave:nu,onMouseUp:qr,onDragLeave:Gm,onTouchEnd:cc,onTouchMove:Hi,onTouchStart:tr,ref:pc,tabIndex:h?-1:_e,type:qe},Ps,Fe,{children:[a,qm?H(BH,ie({ref:le,center:s},Ne)):null]}))});var qD=QH;function YH(t){return Wl("MuiIconButton",t)}const XH=ql("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var JH=XH;const ZH=["edge","children","className","color","disabled","disableFocusRipple","size"],eG=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${Ze(r)}`,i&&`edge${Ze(i)}`,`size${Ze(s)}`]};return Dh(a,YH,e)},tG=yi(qD,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ze(n.color)}`],n.edge&&e[`edge${Ze(n.edge)}`],e[`size${Ze(n.size)}`]]}})(({theme:t,ownerState:e})=>ie({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.active} / ${t.vars.palette.action.hoverOpacity})`:el(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>ie({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&ie({color:(t.vars||t).palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:el(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${JH.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})),nG=U.exports.forwardRef(function(e,n){const r=Gl({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:l="default",disabled:c=!1,disableFocusRipple:h=!1,size:d="medium"}=r,g=un(r,ZH),v=ie({},r,{edge:i,color:l,disabled:c,disableFocusRipple:h,size:d}),y=eG(v);return H(tG,ie({className:On(y.root,a),centerRipple:!0,focusRipple:!h,disabled:c,ref:n,ownerState:v},g,{children:s}))});var Ko=nG,rG=Ba(H("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function iG(t){return Wl("MuiAvatar",t)}ql("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const oG=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],sG=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Dh({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},iG,e)},aG=yi("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>ie({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:t.shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&{color:t.palette.background.default,backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]})),uG=yi("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lG=yi(rG,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function cG({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=U.exports.useState(!1);return U.exports.useEffect(()=>{if(!n&&!r)return;s(!1);let a=!0;const l=new Image;return l.onload=()=>{!a||s("loaded")},l.onerror=()=>{!a||s("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const fG=U.exports.forwardRef(function(e,n){const r=Gl({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:a,component:l="div",imgProps:c,sizes:h,src:d,srcSet:g,variant:v="circular"}=r,y=un(r,oG);let _=null;const E=cG(ie({},c,{src:d,srcSet:g})),C=d||g,b=C&&E!=="error",I=ie({},r,{colorDefault:!b,component:l,variant:v}),T=sG(I);return b?_=H(uG,ie({alt:i,src:d,srcSet:g,sizes:h,ownerState:I,className:T.img},c)):s!=null?_=s:C&&i?_=i[0]:_=H(lG,{className:T.fallback}),H(aG,ie({as:l,ownerState:I,className:On(T.root,a),ref:n},y,{children:_}))});var Jb=fG;function hG(t){return Wl("MuiButton",t)}const pG=ql("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Rd=pG;const dG=U.exports.createContext({});var vG=dG;const gG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],mG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=t,l={root:["root",s,`${s}${Ze(e)}`,`size${Ze(i)}`,`${s}Size${Ze(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ze(i)}`],endIcon:["endIcon",`iconSize${Ze(i)}`]},c=Dh(l,hG,a);return ie({},a,c)},HD=t=>ie({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),yG=yi(qD,{shouldForwardProp:t=>VD(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ze(n.color)}`],e[`size${Ze(n.size)}`],e[`${n.variant}Size${Ze(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return ie({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":ie({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:el(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:el(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:el(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":ie({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Rd.focusVisible}`]:ie({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Rd.disabled}`]:ie({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${(t.vars||t).palette.action.disabled}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${el(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rd.disabled}`]:{boxShadow:"none"}}),_G=yi("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ze(n.size)}`]]}})(({ownerState:t})=>ie({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},HD(t))),wG=yi("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ze(n.size)}`]]}})(({ownerState:t})=>ie({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},HD(t))),EG=U.exports.forwardRef(function(e,n){const r=U.exports.useContext(vG),i=oD(r,e),s=Gl({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:h,disabled:d=!1,disableElevation:g=!1,disableFocusRipple:v=!1,endIcon:y,focusVisibleClassName:_,fullWidth:E=!1,size:C="medium",startIcon:b,type:I,variant:T="text"}=s,R=un(s,gG),A=ie({},s,{color:l,component:c,disabled:d,disableElevation:g,disableFocusRipple:v,fullWidth:E,size:C,type:I,variant:T}),L=mG(A),F=b&&H(_G,{className:L.startIcon,ownerState:A,children:b}),P=y&&H(wG,{className:L.endIcon,ownerState:A,children:y});return Ge(yG,ie({ownerState:A,className:On(h,r.className),component:c,disabled:d,focusRipple:!v,focusVisibleClassName:On(L.focusVisible,_),ref:n,type:I},R,{classes:L,children:[F,a,P]}))});var bG=EG;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KE=function(t,e){return KE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},KE(t,e)};function re(t,e){KE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nt=function(){return nt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nt.apply(this,arguments)};function O(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(g){a(g)}}function c(d){try{h(r.throw(d))}catch(g){a(g)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(t,e||[])).next())})}function x(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function St(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ko(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uh(arguments[e]));return t}function Xn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(t,e){if(!t)throw Kl(e)},Kl=function(t){return new Error("Firebase Database ("+GD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SG=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,d=s>>2,g=(s&3)<<4|l>>4,v=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(v=64)),r.push(n[d],n[g],n[v],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KD(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,l=a?n[t.charAt(i)]:0;++i;var c=i<t.length,h=c?n[t.charAt(i)]:64;++i;var d=i<t.length,g=d?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw Error();var v=s<<2|l>>4;if(r.push(v),h!==64){var y=l<<4&240|h>>2;if(r.push(y),g!==64){var _=h<<6&192|g;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},IG=function(t){var e=KD(t);return Zb.encodeByteArray(e,!0)},CR=function(t){try{return Zb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){return lh(void 0,t)}function lh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||(t[r]=lh(t[r],e[r]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Na())}function TG(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CG(){return typeof self=="object"&&self.self===self}function tS(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NG(){return Na().indexOf("Electron/")>=0}function kG(){var t=Na();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AG(){return Na().indexOf("MSAppHost/")>=0}function XD(){return GD.NODE_ADMIN===!0}function nS(){return"indexedDB"in self&&indexedDB!=null}function rS(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function JD(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RG="FirebaseError",jh=function(t){re(e,t);function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=RG,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,ks.prototype.create),i}return e}(Error),ks=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],l=a?xG(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new jh(s,c),d=0,g=Object.keys(i);d<g.length;d++){var v=g[d];v.slice(-1)!=="_"&&(v in h&&console.warn('Overwriting FirebaseError base field "'+v+'" can cause unexpected behavior.'),h[v]=i[v])}return h},t}();function xG(t,e){return t.replace(OG,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var OG=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return JSON.parse(t)}function Kt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=ch(CR(s[0])||""),n=ch(CR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},PG=function(t){var e=ZD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},DG=function(t){var e=ZD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function li(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function QE(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qv(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t){for(var e=[],n=function(c,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MG=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,v,i=0;i<80;i++){i<40?i<20?(g=h^l&(c^h),v=1518500249):(g=l^c^h,v=1859775393):i<60?(g=l&c|h&(l|c),v=2400959708):(g=l^c^h,v=3395469782);var s=(a<<5|a>>>27)+g+d+v+r[i]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function FG(t,e){var n=new UG(t,e);return n.subscribe.bind(n)}var UG=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nw),s.error===void 0&&(s.error=nw),s.complete===void 0&&(s.complete=nw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function jG(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function nw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Vr(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function Gt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Vr(t,e,r)+"must be a valid function.")}function NR(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Vr(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $G=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,z(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cv=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VG=1e3,BG=2,zG=4*60*60*1e3,WG=.5;function YE(t,e,n){e===void 0&&(e=VG),n===void 0&&(n=BG);var r=e*Math.pow(n,t),i=Math.round(WG*r*(Math.random()-.5)*2);return Math.min(zG,r+i)}var mr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qG=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=Fu);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Or;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=nt({identifier:Fu,optional:!1},e),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(l){if(i)return null;throw l}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,GG(e))try{this.getOrInitializeService(Fu)}catch{}try{for(var i=St(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=uh(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService(h);c.resolve(d)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Fu),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(ko(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,HG(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Fu:e},t}();function HG(t){return t===Fu?void 0:t}function GG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KG=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new qG(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ti(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea,iS=[],pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));var eL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},QG=pe.INFO,YG=(ea={},ea[pe.DEBUG]="log",ea[pe.VERBOSE]="log",ea[pe.INFO]="info",ea[pe.WARN]="warn",ea[pe.ERROR]="error",ea),XG=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=YG[e];if(s)console[s].apply(console,ti(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Ql=function(){function t(e){this.name=e,this._logLevel=QG,this._logHandler=XG,this._userLogHandler=null,iS.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in pe))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?eL[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pe.DEBUG],e)),this._logHandler.apply(this,ti([this,pe.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pe.VERBOSE],e)),this._logHandler.apply(this,ti([this,pe.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pe.INFO],e)),this._logHandler.apply(this,ti([this,pe.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pe.WARN],e)),this._logHandler.apply(this,ti([this,pe.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pe.ERROR],e)),this._logHandler.apply(this,ti([this,pe.ERROR],e))},t}();function JG(t){iS.forEach(function(e){e.setLogLevel(t)})}function ZG(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=eL[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var v=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l!=null?l:c.logLevel)&&t({level:pe[h].toLowerCase(),message:v,args:d,type:c.name})}},r=0,i=iS;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo,e8=(jo={},jo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",jo["bad-app-name"]="Illegal App name: '{$appName}",jo["duplicate-app"]="Firebase App named '{$appName}' already exists",jo["app-deleted"]="Firebase App named '{$appName}' already deleted",jo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",jo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",jo),Uu=new ks("app","Firebase",e8),tL="@firebase/app",t8="0.6.11",n8="@firebase/analytics",r8="@firebase/auth",i8="@firebase/database",o8="@firebase/functions",s8="@firebase/installations",a8="@firebase/messaging",u8="@firebase/performance",l8="@firebase/remote-config",c8="@firebase/storage",f8="@firebase/firestore",h8="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Hv="[DEFAULT]",p8=(Nn={},Nn[tL]="fire-core",Nn[n8]="fire-analytics",Nn[r8]="fire-auth",Nn[i8]="fire-rtdb",Nn[o8]="fire-fn",Nn[s8]="fire-iid",Nn[a8]="fire-fcm",Nn[u8]="fire-perf",Nn[l8]="fire-rc",Nn[c8]="fire-gcs",Nn[f8]="fire-fst",Nn["fire-js"]="fire-js",Nn[h8]="fire-js-all",Nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl=new Ql("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fv=function(){function t(e,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=QD(e),this.container=new KG(n.name),this._addComponent(new mr("app",function(){return a},"PUBLIC"));try{for(var l=St(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var h=c.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=Hv),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Hv),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){kl.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Uu.create("app-deleted",{appName:this.name_})},t}();fv.prototype.name&&fv.prototype.options||fv.prototype.delete||console.log("dc");var d8="7.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:JG,onLog:d,apps:null,SDK_VERSION:d8,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(v){delete e[v]}function s(v){if(v=v||Hv,!er(e,v))throw Uu.create("no-app",{appName:v});return e[v]}s.App=t;function a(v,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var E=y;E.name===void 0&&(E.name=Hv);var C=E.name;if(typeof C!="string"||!C)throw Uu.create("bad-app-name",{appName:String(C)});if(er(e,C))throw Uu.create("duplicate-app",{appName:C});var b=new t(v,E,r);return e[C]=b,b}function l(){return Object.keys(e).map(function(v){return e[v]})}function c(v){var y,_,E=v.name;if(n.has(E))return kl.debug("There were multiple attempts to register component "+E+"."),v.type==="PUBLIC"?r[E]:null;if(n.set(E,v),v.type==="PUBLIC"){var C=function(R){if(R===void 0&&(R=s()),typeof R[E]!="function")throw Uu.create("invalid-app-argument",{appName:E});return R[E]()};v.serviceProps!==void 0&&lh(C,v.serviceProps),r[E]=C,t.prototype[E]=function(){for(var R=[],A=0;A<arguments.length;A++)R[A]=arguments[A];var L=this._getService.bind(this,E);return L.apply(this,v.multipleInstances?R:[])}}try{for(var b=St(Object.keys(e)),I=b.next();!I.done;I=b.next()){var T=I.value;e[T]._addComponent(v)}}catch(R){y={error:R}}finally{try{I&&!I.done&&(_=b.return)&&_.call(b)}finally{if(y)throw y.error}}return v.type==="PUBLIC"?r[E]:null}function h(v,y,_){var E,C=(E=p8[v])!==null&&E!==void 0?E:v;_&&(C+="-"+_);var b=C.match(/\s|\//),I=y.match(/\s|\//);if(b||I){var T=['Unable to register library "'+C+'" with version "'+y+'":'];b&&T.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),b&&I&&T.push("and"),I&&T.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),kl.warn(T.join(" "));return}c(new mr(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function d(v,y){if(v!==null&&typeof v!="function")throw Uu.create("invalid-log-argument",{appName:name});ZG(v,y)}function g(v,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){var t=v8(fv);t.INTERNAL=nt(nt({},t.INTERNAL),{createFirebaseNamespace:nL,extendNamespace:e,createSubscribe:FG,ErrorFactory:ks,deepExtend:lh});function e(n){lh(t,n)}return t}var oS=nL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g8=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(m8(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function m8(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t,e){t.INTERNAL.registerComponent(new mr("platform-logger",function(n){return new g8(n)},"PRIVATE")),t.registerVersion(tL,t8,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(CG()&&self.firebase!==void 0){kl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var kR=self.firebase.SDK_VERSION;kR&&kR.indexOf("LITE")>=0&&kl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _8=oS.initializeApp;oS.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return TG()&&kl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/rollup-plugin-node-resolve
      `),_8.apply(void 0,t)};var te=oS;y8(te);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol!="undefined"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(S){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{S(k.resolve,k.reject)}catch(M){k.reject(M)}}function f(){this.a=null}function p(S){return S instanceof u?S:new u(function(k){k(S)})}if(o)return o;f.prototype.b=function(S){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(S)};var m=r.setTimeout;f.prototype.c=function(S){m(S,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var k=0;k<S.length;++k){var M=S[k];S[k]=null;try{M()}catch($){this.f($)}}}this.a=null},f.prototype.f=function(S){this.c(function(){throw S})},u.prototype.f=function(){function S($){return function(fe){M||(M=!0,$.call(k,fe))}}var k=this,M=!1;return{resolve:S(this.v),reject:S(this.g)}},u.prototype.v=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof u)this.o(S);else{e:switch(typeof S){case"object":var k=S!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.m(S):this.h(S)}},u.prototype.m=function(S){var k=void 0;try{k=S.then}catch(M){this.g(M);return}typeof k=="function"?this.u(k,S):this.h(S)},u.prototype.g=function(S){this.i(2,S)},u.prototype.h=function(S){this.i(1,S)},u.prototype.i=function(S,k){if(this.b!=0)throw Error("Cannot settle("+S+", "+k+"): Promise already settled in state"+this.b);this.b=S,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)w.b(this.a[S]);this.a=null}};var w=new f;return u.prototype.o=function(S){var k=this.f();S.Pa(k.resolve,k.reject)},u.prototype.u=function(S,k){var M=this.f();try{S.call(k,M.resolve,M.reject)}catch($){M.reject($)}},u.prototype.then=function(S,k){function M(xe,Wt){return typeof xe=="function"?function(eo){try{$(xe(eo))}catch(N_){fe(N_)}}:Wt}var $,fe,Ue=new u(function(xe,Wt){$=xe,fe=Wt});return this.Pa(M(S,$),M(k,fe)),Ue},u.prototype.catch=function(S){return this.then(void 0,S)},u.prototype.Pa=function(S,k){function M(){switch($.b){case 1:S($.c);break;case 2:k($.c);break;default:throw Error("Unexpected state: "+$.b)}}var $=this;this.a==null?w.b(M):this.a.push(M)},u.resolve=p,u.reject=function(S){return new u(function(k,M){M(S)})},u.race=function(S){return new u(function(k,M){for(var $=a(S),fe=$.next();!fe.done;fe=$.next())p(fe.value).Pa(k,M)})},u.all=function(S){var k=a(S),M=k.next();return M.done?p([]):new u(function($,fe){function Ue(eo){return function(N_){xe[eo]=N_,Wt--,Wt==0&&$(xe)}}var xe=[],Wt=0;do xe.push(void 0),Wt++,p(M.value).Pa(Ue(xe.length-1),fe),M=k.next();while(!M.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function g(){}function v(o){var u=typeof o;if(u=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return u;var f=Object.prototype.toString.call(o);if(f=="[object Window]")return"object";if(f=="[object Array]"||typeof o.length=="number"&&typeof o.splice!="undefined"&&typeof o.propertyIsEnumerable!="undefined"&&!o.propertyIsEnumerable("splice"))return"array";if(f=="[object Function]"||typeof o.call!="undefined"&&typeof o.propertyIsEnumerable!="undefined"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(u=="function"&&typeof o.call=="undefined")return"object";return u}function y(o){var u=v(o);return u=="array"||u=="object"&&typeof o.length=="number"}function _(o){return v(o)=="function"}function E(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function C(o){return Object.prototype.hasOwnProperty.call(o,b)&&o[b]||(o[b]=++I)}var b="closure_uid_"+(1e9*Math.random()>>>0),I=0;function T(o,u,f){return o.call.apply(o.bind,arguments)}function R(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function A(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A=T:A=R,A.apply(null,arguments)}function L(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var F=Date.now||function(){return+new Date};function P(o,u){function f(){}f.prototype=u.prototype,o.$a=u.prototype,o.prototype=new f,o.prototype.constructor=o}function N(o,u,f){this.code=oe+o,this.message=u||_e[o]||"",this.a=f||null}P(N,Error),N.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},N.prototype.toJSON=function(){return this.w()};function B(o){var u=o&&o.code;return u?new N(u.substring(oe.length),o.message,o.serverResponse):null}var oe="auth/",_e={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ne={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Oe(o){for(var u in Ne)if(Ne[u].id===o)return o=Ne[u],{firebaseEndpoint:o.Sa,secureTokenEndpoint:o.Ya,identityPlatformEndpoint:o.Va};return null}var qe;qe=Oe("__EID__")?"__EID__":void 0;function Fe(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Re(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Re);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}P(Re,Error),Re.prototype.name="CustomError";function q(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");Re.call(this,f+o[p])}P(q,Re),q.prototype.name="AssertionError";function le(o,u){throw new q("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function he(o,u){this.c=o,this.f=u,this.b=0,this.a=null}he.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function He(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function ut(){this.b=this.a=null}var qi=new he(function(){return new br},function(o){o.reset()});ut.prototype.add=function(o,u){var f=qi.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Zt(){var o=yT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function br(){this.next=this.b=this.a=null}br.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},br.prototype.reset=function(){this.next=this.b=this.a=null};var jn=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Le=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,w=0;w<p;w++)w in m&&u.call(f,m[w],w,o)};function qm(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Wr=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,w=typeof o=="string"?o.split(""):o,S=0;S<f;S++)if(S in w){var k=w[S];u.call(void 0,k,S,o)&&(p[m++]=k)}return p},tu=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,w=0;w<f;w++)w in m&&(p[w]=u.call(void 0,m[w],w,o));return p},Hm=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function Gm(o){e:{for(var u=oj,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function qr(o,u){return 0<=jn(o,u)}function nu(o,u){u=jn(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function tr(o,u){var f=0;qm(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function cc(o){return Array.prototype.concat.apply([],arguments)}function Hi(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var fp=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Km=/&/g,fc=/</g,hc=/>/g,Qm=/"/g,Ym=/'/g,ru=/\x00/g,Ps=/[\x00&<>"']/;function Be(o,u){return o.indexOf(u)!=-1}function pc(o,u){return o<u?-1:o>u?1:0}var Gi;e:{var hp=c.navigator;if(hp){var ve=hp.userAgent;if(ve){Gi=ve;break e}}Gi=""}function dt(o){return Be(Gi,o)}function pp(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function _i(o){for(var u in o)return!1;return!0}function Ki(o){var u={},f;for(f in o)u[f]=o[f];return u}var nT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $n(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var w=0;w<nT.length;w++)f=nT[w],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function Xm(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||c,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]!="undefined"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(E(o))try{var w=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{w="<object could not be stringified>"}else w=o===void 0?"undefined":o===null?"null":typeof o;le("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function wi(o,u){this.a=o===dc&&u||"",this.b=rT}wi.prototype.sa=!0,wi.prototype.ra=function(){return this.a},wi.prototype.toString=function(){return"Const{"+this.a+"}"};function Jm(o){return o instanceof wi&&o.constructor===wi&&o.b===rT?o.a:(le("expected object of type Const, got '"+o+"'"),"type_error:Const")}var rT={},dc={},DU=new wi(dc,"");function Ds(o,u){this.a=o===ty&&u||"",this.b=iT}Ds.prototype.sa=!0,Ds.prototype.ra=function(){return this.a.toString()},Ds.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Zm(o){return o instanceof Ds&&o.constructor===Ds&&o.b===iT?o.a:(le("expected object of type TrustedResourceUrl, got '"+o+"' of type "+v(o)),"type_error:TrustedResourceUrl")}function ey(o,u){var f=Jm(o);if(!MU.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(LU,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof wi?Jm(p):encodeURIComponent(String(p))}),new Ds(ty,o)}var LU=/%{(\w+)}/g,MU=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,iT={},ty={};function Hr(o,u){this.a=o===ny&&u||"",this.b=aT}Hr.prototype.sa=!0,Hr.prototype.ra=function(){return this.a.toString()},Hr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function dp(o){return o instanceof Hr&&o.constructor===Hr&&o.b===aT?o.a:(le("expected object of type SafeUrl, got '"+o+"' of type "+v(o)),"type_error:SafeUrl")}var oT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function sT(o){return o instanceof Hr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),oT.test(o)||(o="about:invalid#zClosurez"),new Hr(ny,o))}var aT={},ny={};function iu(){this.a="",this.b=lT}iu.prototype.sa=!0,iu.prototype.ra=function(){return this.a.toString()},iu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function uT(o){return o instanceof iu&&o.constructor===iu&&o.b===lT?o.a:(le("expected object of type SafeHtml, got '"+o+"' of type "+v(o)),"type_error:SafeHtml")}var lT={};function vp(o){var u=new iu;return u.a=o,u}vp("<!DOCTYPE html>");var FU=vp("");vp("<br>");function UU(o){var u=new Ds(ty,Jm(DU));Xm(o,"HTMLIFrameElement"),o.src=Zm(u).toString()}function jU(o,u){if(Xm(o,"HTMLScriptElement"),o.src=Zm(u),d===null)e:{if(u=c.document,(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&h.test(u)){d=u;break e}d=""}u=d,u&&o.setAttribute("nonce",u)}function cT(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function ry(o){return Ps.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Km,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(fc,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(hc,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Qm,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Ym,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(ru,"&#0;"))),o}function iy(o){return iy[" "](o),o}iy[" "]=g;function $U(o,u){var f=WU;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var VU=dt("Opera"),Gr=dt("Trident")||dt("MSIE"),fT=dt("Edge"),BU=fT||Gr,hT=dt("Gecko")&&!(Be(Gi.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),zU=Be(Gi.toLowerCase(),"webkit")&&!dt("Edge");function pT(){var o=c.document;return o?o.documentMode:void 0}var oy;e:{var sy="",ay=function(){var o=Gi;if(hT)return/rv:([^\);]+)(\)|;)/.exec(o);if(fT)return/Edge\/([\d\.]+)/.exec(o);if(Gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(zU)return/WebKit\/(\S+)/.exec(o);if(VU)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ay&&(sy=ay?ay[1]:""),Gr){var uy=pT();if(uy!=null&&uy>parseFloat(sy)){oy=String(uy);break e}}oy=sy}var WU={};function dT(o){return $U(o,function(){for(var u=0,f=fp(String(oy)).split("."),p=fp(String(o)).split("."),m=Math.max(f.length,p.length),w=0;u==0&&w<m;w++){var S=f[w]||"",k=p[w]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],S[0].length==0&&k[0].length==0)break;u=pc(S[1].length==0?0:parseInt(S[1],10),k[1].length==0?0:parseInt(k[1],10))||pc(S[2].length==0,k[2].length==0)||pc(S[2],k[2]),S=S[3],k=k[3]}while(u==0)}return 0<=u})}var Qi;Qi=c.document&&Gr?pT():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var qU=!Gr||9<=Number(Qi);function vc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function vT(o,u){pp(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:gT.hasOwnProperty(p)?o.setAttribute(gT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var gT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function HU(o,u,f){var p=arguments,m=document,w=String(p[0]),S=p[1];if(!qU&&S&&(S.name||S.type)){if(w=["<",w],S.name&&w.push(' name="',ry(S.name),'"'),S.type){w.push(' type="',ry(S.type),'"');var k={};$n(k,S),delete k.type,S=k}w.push(">"),w=w.join("")}return w=gp(m,w),S&&(typeof S=="string"?w.className=S:Array.isArray(S)?w.className=S.join(" "):vT(w,S)),2<p.length&&GU(m,w,p),w}function GU(o,u,f){function p(S){S&&u.appendChild(typeof S=="string"?o.createTextNode(S):S)}for(var m=2;m<f.length;m++){var w=f[m];!y(w)||E(w)&&0<w.nodeType?p(w):Le(KU(w)?Hi(w):w,p)}}function gp(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function KU(o){if(o&&typeof o.length=="number"){if(E(o))return typeof o.item=="function"||typeof o.item=="string";if(_(o))return typeof o.item=="function"}return!1}function mT(o){c.setTimeout(function(){throw o},0)}var ly;function QU(){var o=c.MessageChannel;if(typeof o=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(o=function(){var m=gp(document,"IFRAME");m.style.display="none",UU(m),document.documentElement.appendChild(m);var w=m.contentWindow;m=w.document,m.open(),m.write(uT(FU)),m.close();var S="callImmediate"+Math.random(),k=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;m=A(function(M){(k=="*"||M.origin==k)&&M.data==S&&this.port1.onmessage()},this),w.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(S,k)}}}),typeof o!="undefined"&&!dt("Trident")&&!dt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Fb;f.Fb=null,m()}},function(m){p.next={Fb:m},p=p.next,u.port2.postMessage(0)}}return function(m){c.setTimeout(m,0)}}function mp(o,u){yp||YU(),cy||(yp(),cy=!0),yT.add(o,u)}var yp;function YU(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);yp=function(){o.then(_T)}}else yp=function(){var u=_T;!_(c.setImmediate)||c.Window&&c.Window.prototype&&!dt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(ly||(ly=QU()),ly(u)):c.setImmediate(u)}}var cy=!1,yT=new ut;function _T(){for(var o;o=Zt();){try{o.a.call(o.b)}catch(u){mT(u)}He(qi,o)}cy=!1}function be(o,u){if(this.a=Ls,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){Ms(f,gc,p)},function(p){if(!(p instanceof ou))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Ms(f,Yi,p)})}catch(p){Ms(this,Yi,p)}}var Ls=0,gc=2,Yi=3;function wT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ET=new he(function(){return new wT},function(o){o.reset()});function fy(o,u,f){var p=ET.get();return p.g=o,p.b=u,p.f=f,p}function se(o){if(o instanceof be)return o;var u=new be(g);return Ms(u,gc,o),u}function rt(o){return new be(function(u,f){f(o)})}function bT(o,u,f){CT(o,u,f,null)||mp(L(u,o))}function XU(o){return new be(function(u,f){var p=o.length,m=[];if(p)for(var w=function($,fe){p--,m[$]=fe,p==0&&u(m)},S=function($){f($)},k=0,M;k<o.length;k++)M=o[k],bT(M,L(w,k),S);else u(m)})}function ST(o){return new be(function(u){var f=o.length,p=[];if(f)for(var m=function(k,M,$){f--,p[k]=M?{Ob:!0,value:$}:{Ob:!1,reason:$},f==0&&u(p)},w=0,S;w<o.length;w++)S=o[w],bT(S,L(m,w,!0),L(m,w,!1));else u(p)})}be.prototype.then=function(o,u,f){return TT(this,_(o)?o:null,_(u)?u:null,f)},be.prototype.$goog_Thenable=!0,t=be.prototype,t.na=function(o,u){return o=fy(o,o,u),o.c=!0,hy(this,o),this},t.s=function(o,u){return TT(this,null,o,u)},t.cancel=function(o){if(this.a==Ls){var u=new ou(o);mp(function(){IT(this,u)},this)}};function IT(o,u){if(o.a==Ls)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,w=null,S=f.b;S&&(S.c||(p++,S.a==o&&(m=S),!(m&&1<p)));S=S.next)m||(w=S);m&&(f.a==Ls&&p==1?IT(f,u):(w?(p=w,p.next==f.f&&(f.f=p),p.next=p.next.next):kT(f),AT(f,m,Yi,u)))}o.c=null}else Ms(o,Yi,u)}function hy(o,u){o.b||o.a!=gc&&o.a!=Yi||NT(o),o.f?o.f.next=u:o.b=u,o.f=u}function TT(o,u,f,p){var m=fy(null,null,null);return m.a=new be(function(w,S){m.g=u?function(k){try{var M=u.call(p,k);w(M)}catch($){S($)}}:w,m.b=f?function(k){try{var M=f.call(p,k);M===void 0&&k instanceof ou?S(k):w(M)}catch($){S($)}}:S}),m.a.c=o,hy(o,m),m.a}t.Zc=function(o){this.a=Ls,Ms(this,gc,o)},t.$c=function(o){this.a=Ls,Ms(this,Yi,o)};function Ms(o,u,f){o.a==Ls&&(o===f&&(u=Yi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,CT(f,o.Zc,o.$c,o)||(o.i=f,o.a=u,o.c=null,NT(o),u!=Yi||f instanceof ou||ZU(o,f)))}function CT(o,u,f,p){if(o instanceof be)return hy(o,fy(u||g,f||null,p)),!0;if(Fe(o))return o.then(u,f,p),!0;if(E(o))try{var m=o.then;if(_(m))return JU(o,m,u,f,p),!0}catch(w){return f.call(p,w),!0}return!1}function JU(o,u,f,p,m){function w(M){k||(k=!0,p.call(m,M))}function S(M){k||(k=!0,f.call(m,M))}var k=!1;try{u.call(o,S,w)}catch(M){w(M)}}function NT(o){o.h||(o.h=!0,mp(o.fc,o))}function kT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.fc=function(){for(var o;o=kT(this);)AT(this,o,this.a,this.i);this.h=!1};function AT(o,u,f,p){if(f==Yi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,RT(u,f,p);else try{u.c?u.g.call(u.f):RT(u,f,p)}catch(m){xT.call(null,m)}He(ET,u)}function RT(o,u,f){u==gc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function ZU(o,u){o.g=!0,mp(function(){o.g&&xT.call(null,u)})}var xT=mT;function ou(o){Re.call(this,o)}P(ou,Re),ou.prototype.name="cancel";function _p(){this.xa=this.xa,this.oa=this.oa}var e3=0;_p.prototype.xa=!1;function OT(o){!o.xa&&(o.xa=!0,o.Da(),e3!=0)&&C(o)}_p.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var t3=Object.freeze||function(o){return o},PT=!Gr||9<=Number(Qi),n3=Gr&&!dT("9"),r3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",g,u),c.removeEventListener("test",g,u)}catch{}return o}();function Vn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Vn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Fs(o,u){if(Vn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(hT){e:{try{iy(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:i3[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}P(Fs,Vn);var i3=t3({2:"touch",3:"pen",4:"mouse"});Fs.prototype.preventDefault=function(){Fs.$a.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,n3)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Fs.prototype.g=function(){return this.a};var mc="closure_listenable_"+(1e6*Math.random()|0),o3=0;function s3(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Ua=m,this.key=++o3,this.va=this.Oa=!1}function wp(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Ua=null}function Ep(o){this.src=o,this.a={},this.b=0}Ep.prototype.add=function(o,u,f,p,m){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.b++);var S=dy(o,u,p,m);return-1<S?(u=o[S],f||(u.Oa=!1)):(u=new s3(u,this.src,w,!!p,m),u.Oa=f,o.push(u)),u};function py(o,u){var f=u.type;f in o.a&&nu(o.a[f],u)&&(wp(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function dy(o,u,f,p){for(var m=0;m<o.length;++m){var w=o[m];if(!w.va&&w.listener==u&&w.capture==!!f&&w.Ua==p)return m}return-1}var vy="closure_lm_"+(1e6*Math.random()|0),gy={};function Sr(o,u,f,p,m){if(p&&p.once)my(o,u,f,p,m);else if(Array.isArray(u))for(var w=0;w<u.length;w++)Sr(o,u[w],f,p,m);else f=_y(f),o&&o[mc]?jT(o,u,f,E(p)?!!p.capture:!!p,m):DT(o,u,f,!1,p,m)}function DT(o,u,f,p,m,w){if(!u)throw Error("Invalid event type");var S=E(m)?!!m.capture:!!m,k=bp(o);if(k||(o[vy]=k=new Ep(o)),f=k.add(u,f,p,S,w),!f.proxy)if(p=a3(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)r3||(m=S),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(MT(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function a3(){var o=u3,u=PT?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function my(o,u,f,p,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)my(o,u[w],f,p,m);else f=_y(f),o&&o[mc]?wy(o,u,f,E(p)?!!p.capture:!!p,m):DT(o,u,f,!0,p,m)}function nr(o,u,f,p,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)nr(o,u[w],f,p,m);else p=E(p)?!!p.capture:!!p,f=_y(f),o&&o[mc]?(o=o.v,u=String(u).toString(),u in o.a&&(w=o.a[u],f=dy(w,f,p,m),-1<f&&(wp(w[f]),Array.prototype.splice.call(w,f,1),w.length==0&&(delete o.a[u],o.b--)))):o&&(o=bp(o))&&(u=o.a[u.toString()],o=-1,u&&(o=dy(u,f,p,m)),(f=-1<o?u[o]:null)&&LT(f))}function LT(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[mc])py(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(MT(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=bp(u))?(py(f,o),f.b==0&&(f.src=null,u[vy]=null)):wp(o)}}}function MT(o){return o in gy?gy[o]:gy[o]="on"+o}function FT(o,u,f,p){var m=!0;if((o=bp(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.va&&(w=UT(w,p),m=m&&w!==!1)}return m}function UT(o,u){var f=o.listener,p=o.Ua||o.src;return o.Oa&&LT(o),f.call(p,u)}function u3(o,u){if(o.va)return!0;if(!PT){if(!u)e:{u=["window","event"];for(var f=c,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Fs(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var w=FT(p[m],o,!0,u);f=f&&w}for(m=0;m<p.length;m++)u.b=p[m],w=FT(p[m],o,!1,u),f=f&&w}return f}return UT(o,new Fs(u,this))}function bp(o){return o=o[vy],o instanceof Ep?o:null}var yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function _y(o){return _(o)?o:(o[yy]||(o[yy]=function(u){return o.handleEvent(u)}),o[yy])}function Tn(){_p.call(this),this.v=new Ep(this),this.$b=this,this.fb=null}P(Tn,_p),Tn.prototype[mc]=!0,Tn.prototype.addEventListener=function(o,u,f,p){Sr(this,o,u,f,p)},Tn.prototype.removeEventListener=function(o,u,f,p){nr(this,o,u,f,p)},Tn.prototype.dispatchEvent=function(o){var u,f=this.fb;if(f)for(u=[];f;f=f.fb)u.push(f);f=this.$b;var p=o.type||o;if(typeof o=="string")o=new Vn(o,f);else if(o instanceof Vn)o.target=o.target||f;else{var m=o;o=new Vn(p,f),$n(o,m)}if(m=!0,u)for(var w=u.length-1;0<=w;w--){var S=o.b=u[w];m=Sp(S,p,!0,o)&&m}if(S=o.b=f,m=Sp(S,p,!0,o)&&m,m=Sp(S,p,!1,o)&&m,u)for(w=0;w<u.length;w++)S=o.b=u[w],m=Sp(S,p,!1,o)&&m;return m},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)wp(f[p]);delete o.a[u],o.b--}}this.fb=null};function jT(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function wy(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function Sp(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,w=0;w<u.length;++w){var S=u[w];if(S&&!S.va&&S.capture==f){var k=S.listener,M=S.Ua||S.src;S.Oa&&py(o.v,S),m=k.call(M,p)!==!1&&m}}return m&&!p.defaultPrevented}function Ey(o,u,f){if(_(o))f&&(o=A(o,f));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function su(o){var u=null;return new be(function(f,p){u=Ey(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).s(function(f){throw c.clearTimeout(u),f})}function $T(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof o=="string")return o.split("");if(y(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function VT(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.V||typeof o.V!="function"){if(y(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function l3(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(y(o)||typeof o=="string")Le(o,u,void 0);else for(var f=VT(o),p=$T(o),m=p.length,w=0;w<m;w++)u.call(void 0,p[w],f&&f[w],o)}function au(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof au)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=au.prototype,t.V=function(){by(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return by(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function by(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Us(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],Us(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}t.get=function(o,u){return Us(this.b,o)?this.b[o]:u},t.set=function(o,u){Us(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],w=this.get(m);o.call(u,w,m,this)}};function Us(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var BT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function c3(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var w=o[f].substring(0,p);m=o[f].substring(p+1)}else w=o[f];u(w,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Ro(o,u){this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1;var f;o instanceof Ro?(this.i=u!==void 0?u:o.i,yc(this,o.f),this.l=o.l,this.a=o.a,_c(this,o.g),this.c=o.c,Sy(this,HT(o.b)),this.h=o.h):o&&(f=String(o).match(BT))?(this.i=!!u,yc(this,f[1]||"",!0),this.l=wc(f[2]||""),this.a=wc(f[3]||"",!0),_c(this,f[4]),this.c=wc(f[5]||"",!0),Sy(this,f[6]||"",!0),this.h=wc(f[7]||"")):(this.i=!!u,this.b=new js(null,this.i))}Ro.prototype.toString=function(){var o=[],u=this.f;u&&o.push(Ec(u,zT,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Ec(u,zT,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.c)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Ec(f,f.charAt(0)=="/"?p3:h3,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Ec(f,v3)),o.join("")},Ro.prototype.resolve=function(o){var u=new Ro(this),f=!!o.f;f?yc(u,o.f):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.c;if(f)_c(u,o.g);else if(f=!!o.c){if(p.charAt(0)!="/")if(this.a&&!this.c)p="/"+p;else{var m=u.c.lastIndexOf("/");m!=-1&&(p=u.c.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(Be(m,"./")||Be(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var w=[],S=0;S<m.length;){var k=m[S++];k=="."?p&&S==m.length&&w.push(""):k==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),p&&S==m.length&&w.push("")):(w.push(k),p=!0)}p=w.join("/")}else p=m}return f?u.c=p:f=o.b.toString()!=="",f?Sy(u,HT(o.b)):f=!!o.h,f&&(u.h=o.h),u};function yc(o,u,f){o.f=f?wc(u,!0):u,o.f&&(o.f=o.f.replace(/:$/,""))}function _c(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Sy(o,u,f){u instanceof js?(o.b=u,g3(o.b,o.i)):(f||(u=Ec(u,d3)),o.b=new js(u,o.i))}function _t(o,u,f){o.b.set(u,f)}function Ir(o,u){return o.b.get(u)}function rr(o){return o instanceof Ro?new Ro(o):new Ro(o,void 0)}function Ip(o,u,f,p){var m=new Ro(null,void 0);return o&&yc(m,o),u&&(m.a=u),f&&_c(m,f),p&&(m.c=p),m}function wc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ec(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,f3),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function f3(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zT=/[#\/\?@]/g,h3=/[#\?:]/g,p3=/[#\?]/g,d3=/[#\?@]/g,v3=/#/g;function js(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function xo(o){o.a||(o.a=new au,o.b=0,o.c&&c3(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function WT(o){var u=VT(o);if(typeof u=="undefined")throw Error("Keys are undefined");var f=new js(null,void 0);o=$T(o);for(var p=0;p<u.length;p++){var m=u[p],w=o[p];Array.isArray(w)?qT(f,m,w):f.add(m,w)}return f}t=js.prototype,t.add=function(o,u){xo(this),this.c=null,o=uu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ei(o,u){xo(o),u=uu(o,u),Us(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Us(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&by(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function Iy(o,u){return xo(o),u=uu(o,u),Us(o.a.b,u)}t.forEach=function(o,u){xo(this),this.a.forEach(function(f,p){Le(f,function(m){o.call(u,m,p,this)},this)},this)},t.Y=function(){xo(this);for(var o=this.a.V(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],w=0;w<m.length;w++)f.push(u[p]);return f},t.V=function(o){xo(this);var u=[];if(typeof o=="string")Iy(this,o)&&(u=cc(u,this.a.get(uu(this,o))));else{o=this.a.V();for(var f=0;f<o.length;f++)u=cc(u,o[f])}return u},t.set=function(o,u){return xo(this),this.c=null,o=uu(this,o),Iy(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function qT(o,u,f){Ei(o,u),0<f.length&&(o.c=null,o.a.set(uu(o,u),Hi(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.V(p);for(var w=0;w<p.length;w++){var S=m;p[w]!==""&&(S+="="+encodeURIComponent(String(p[w]))),o.push(S)}}return this.c=o.join("&")};function HT(o){var u=new js;return u.c=o.c,o.a&&(u.a=new au(o.a),u.b=o.b),u}function uu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function g3(o,u){u&&!o.f&&(xo(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(Ei(this,p),qT(this,m,f))},o)),o.f=u}function GT(o){var u=[];return Ty(new m3,o,u),u.join("")}function m3(){}function Ty(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",w=0;w<u;w++)f.push(m),Ty(o,p[w],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(w=u[p],typeof w!="function"&&(f.push(m),QT(p,f),f.push(":"),Ty(o,w,f),m=","));f.push("}");return}}switch(typeof u){case"string":QT(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var KT={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},y3=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function QT(o,u){u.push('"',o.replace(y3,function(f){var p=KT[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),KT[f]=p),p}),'"')}function Cy(){var o=en();return Gr&&!!Qi&&Qi==11||/Edge\/\d+/.test(o)}function bc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function YT(o,u){u=u||c.window;var f="about:blank";o&&(f=dp(sT(o))),u.location.href=f}function XT(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<XT(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function _3(){var o=en();return o=lu(o)!=tC?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Gr||!Qi||9<Qi}function JT(o){return o=(o||en()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function $s(o){o=o||c.window;try{o.close()}catch{}}function ZT(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=en().toLowerCase(),p&&(u.target=p,Be(f,"crios/")&&(u.target="_blank")),lu(en())==Ay&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Hr?f:sT(typeof f.href!="undefined"?f.href:String(f)),f=o.target||f.target,m=[];for(S in o)switch(S){case"width":case"height":case"top":case"left":m.push(S+"="+o[S]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(S+"="+(o[S]?1:0))}var S=m.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(S=gp(document,"A"),Xm(S,"HTMLAnchorElement"),u instanceof Hr||u instanceof Hr||(u=typeof u=="object"&&u.sa?u.ra():String(u),oT.test(u)||(u="about:invalid#zClosurez"),u=new Hr(ny,u)),S.href=dp(u),S.setAttribute("target",f),o.noreferrer&&S.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),S.dispatchEvent(o),S={}):o.noreferrer?(S=p.open("",f,S),o=dp(u),S&&(BU&&Be(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),S.opener=null,o=vp('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ry(o)+'">'),p=S.document)&&(p.write(uT(o)),p.close())):(S=p.open(dp(u),f,S))&&o.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function w3(o){return new be(function(u){function f(){su(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var E3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b3=/^[^@]+@[^@]+$/;function Tp(){var o=null;return new be(function(u){c.document.readyState=="complete"?u():(o=function(){u()},my(window,"load",o))}).s(function(u){throw nr(window,"load",o),u})}function S3(){return Ny(void 0)?Tp().then(function(){return new be(function(o,u){var f=c.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):rt(Error("Cordova must run in an Android or iOS file scheme."))}function Ny(o){return o=o||en(),!(fu()!=="file:"&&fu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function ky(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Kr(){return typeof c.WorkerGlobalScope!="undefined"&&typeof c.importScripts=="function"}function bi(){return te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.INTERNAL.hasOwnProperty("node")?"Node":Kr()?"Worker":"Browser"}function eC(){var o=bi();return o==="ReactNative"||o==="Node"}function I3(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Ay="Firefox",tC="Chrome";function lu(o){var u=o.toLowerCase();if(Be(u,"opera/")||Be(u,"opr/")||Be(u,"opios/"))return"Opera";if(Be(u,"iemobile"))return"IEMobile";if(Be(u,"msie")||Be(u,"trident/"))return"IE";if(Be(u,"edge/"))return"Edge";if(Be(u,"firefox/"))return Ay;if(Be(u,"silk/"))return"Silk";if(Be(u,"blackberry"))return"Blackberry";if(Be(u,"webos"))return"Webos";if(!Be(u,"safari/")||Be(u,"chrome/")||Be(u,"crios/")||Be(u,"android"))if(!Be(u,"chrome/")&&!Be(u,"crios/")||Be(u,"edge/")){if(Be(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return tC;else return"Safari";return"Other"}var nC={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function cu(o,u){u=u||[];var f=[],p={},m;for(m in nC)p[nC[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]!="undefined"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=bi(),f==="Browser"?(p=en(),f=lu(p)):f==="Worker"&&(p=en(),f=lu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function en(){return c.navigator&&c.navigator.userAgent||""}function it(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Ry(){try{var o=c.localStorage,u=Bs();if(o)return o.setItem(u,"1"),o.removeItem(u),Cy()?!!c.indexedDB:!0}catch{return Kr()&&!!c.indexedDB}return!1}function Vs(){return(Cp()||fu()==="chrome-extension:"||Ny())&&!eC()&&Ry()&&!Kr()}function Cp(){return fu()==="http:"||fu()==="https:"}function fu(){return c.location&&c.location.protocol||null}function Sc(o){return o=o||en(),!(JT(o)||lu(o)==Ay)}function Ic(o){return typeof o=="undefined"?null:GT(o)}function rC(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function hu(o){if(o!==null)return JSON.parse(o)}function Bs(o){return o||Math.floor(1e9*Math.random()).toString()}function iC(o){return o=o||en(),!(lu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function oC(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Oo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=en(),u=bi(),this.b=JT(o)||u==="ReactNative"}Oo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(Cp()||fu()==="chrome-extension:"||typeof o.connection!="undefined"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function xy(){var o=c.document;return o&&typeof o.visibilityState!="undefined"?o.visibilityState=="visible":!0}function T3(){var o=c.document,u=null;return xy()||!o?se():new be(function(f){u=function(){xy()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).s(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function sC(o){typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(o)}function Tc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function aC(){return!(!it("fireauth.oauthhelper",c)&&!it("fireauth.iframe",c))}function C3(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function N3(){var o=c.navigator;return o&&o.serviceWorker?se().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).s(function(){return null}):se(null)}var uC={};function Oy(o){uC[o]||(uC[o]=!0,sC(o))}var Py;try{var Dy={};Object.defineProperty(Dy,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dy,"abcd",{configurable:!0,enumerable:!0,value:2}),Py=Dy.abcd==2}catch{Py=!1}function ee(o,u,f){Py?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Cn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ee(o,f,u[f])}function Po(o){var u={};return Cn(u,o),u}function k3(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function A3(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Ly(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ee(u,f,Ly(o[f]))}return u}function My(o){var u=o&&(o[$y]?"phone":null);if(u&&o&&o[jy]){ee(this,"uid",o[jy]),ee(this,"displayName",o[lC]||null);var f=null;o[Uy]&&(f=new Date(o[Uy]).toUTCString()),ee(this,"enrollmentTime",f),ee(this,"factorId",u)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}My.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Fy(o){try{var u=new Cc(o)}catch{u=null}return u}var lC="displayName",Uy="enrolledAt",jy="mfaEnrollmentId",$y="phoneInfo";function Cc(o){My.call(this,o),ee(this,"phoneNumber",o[$y])}P(Cc,My),Cc.prototype.w=function(){var o=Cc.$a.w.call(this);return o.phoneNumber=this.phoneNumber,o};function R3(o){var u={},f=o[x3],p=o[P3],m=o[D3];if(o=Fy(o[O3]),!m||m!=Np&&m!=Nc&&!f||m==Nc&&!p||m==Vy&&!o)throw Error("Invalid checkActionCode response!");m==Nc?(u[fC]=f||null,u[hC]=f||null,u[cC]=p):(u[fC]=p||null,u[hC]=p||null,u[cC]=f||null),u[L3]=o||null,ee(this,F3,m),ee(this,M3,Ly(u))}var Vy="REVERT_SECOND_FACTOR_ADDITION",Np="EMAIL_SIGNIN",Nc="VERIFY_AND_CHANGE_EMAIL",x3="email",O3="mfaInfo",P3="newEmail",D3="requestType",cC="email",fC="fromEmail",L3="multiFactorInfo",hC="previousEmail",M3="data",F3="operation";function By(o){o=rr(o);var u=Ir(o,pC)||null,f=Ir(o,dC)||null,p=Ir(o,vC)||null;if(p=p&&V3[p]||null,!u||!f||!p)throw new N("argument-error",pC+", "+dC+"and "+vC+" are required in a valid action code URL.");Cn(this,{apiKey:u,operation:p,code:f,continueUrl:Ir(o,U3)||null,languageCode:Ir(o,j3)||null,tenantId:Ir(o,$3)||null})}var pC="apiKey",dC="oobCode",U3="continueUrl",j3="languageCode",vC="mode",$3="tenantId",V3={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Vy,signIn:Np,verifyAndChangeEmail:Nc,verifyEmail:"VERIFY_EMAIL"};function gC(o){try{return new By(o)}catch{return null}}function kp(o){var u=o[B3];if(typeof u=="undefined")throw new N("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new N("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[mC];if(f&&typeof f=="object"){u=f[bC];var p=f[wC];if(f=f[EC],typeof u=="string"&&u.length){if(this.a=u,typeof p!="undefined"&&typeof p!="boolean")throw new N("argument-error",wC+" property must be a boolean when specified.");if(this.g=!!p,typeof f!="undefined"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new N("argument-error",EC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u!="undefined")throw new N("argument-error",bC+" property must be a non empty string when specified.");if(typeof p!="undefined"||typeof f!="undefined")throw new N("missing-android-pkg-name")}}else if(typeof f!="undefined")throw new N("argument-error",mC+" property must be a non null object when specified.");if(this.f=null,(u=o[_C])&&typeof u=="object"){if(u=u[SC],typeof u=="string"&&u.length)this.f=u;else if(typeof u!="undefined")throw new N("argument-error",SC+" property must be a non empty string when specified.")}else if(typeof u!="undefined")throw new N("argument-error",_C+" property must be a non null object when specified.");if(u=o[zy],typeof u!="undefined"&&typeof u!="boolean")throw new N("argument-error",zy+" property must be a boolean when specified.");if(this.c=!!u,o=o[yC],typeof o!="undefined"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new N("argument-error",yC+" property must be a non empty string when specified.");this.i=o||null}var mC="android",yC="dynamicLinkDomain",zy="handleCodeInApp",_C="iOS",B3="url",wC="installApp",EC="minimumVersion",bC="packageName",SC="bundleId";function Ap(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function z3(o){return tu(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var kc=null;function W3(o){var u="";return q3(o,function(f){u+=String.fromCharCode(f)}),u}function q3(o,u){function f(M){for(;p<o.length;){var $=o.charAt(p++),fe=kc[$];if(fe!=null)return fe;if(!/^[\s\xa0]*$/.test($))throw Error("Unknown base64 encoding at char: "+$)}return M}H3();for(var p=0;;){var m=f(-1),w=f(0),S=f(64),k=f(64);if(k===64&&m===-1)break;u(m<<2|w>>4),S!=64&&(u(w<<4&240|S>>2),k!=64&&u(S<<6&192|k))}}function H3(){if(!kc){kc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var w=p[m];kc[w]===void 0&&(kc[w]=m)}}}function Rp(o){var u=IC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.g=o,this.c=u.exp,this.h=u.sub,this.a=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.b=!!u.is_anonymous||this.a=="anonymous"}Rp.prototype.S=function(){return this.f},Rp.prototype.i=function(){return this.b},Rp.prototype.toString=function(){return this.g};function xp(o){try{return new Rp(o)}catch{return null}}function IC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{return JSON.parse(W3(o))}catch{}return null}var TC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Op=["client_id","response_type","scope","redirect_uri","state"],Wy={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Op},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Op},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Op},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:TC},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function qy(o){for(var u in Wy)if(Wy[u].fa==o)return Wy[u];return null}function CC(o){var u={};u["facebook.com"]=kC,u["google.com"]=RC,u["github.com"]=AC,u["twitter.com"]=xC;var f=o&&o[NC];try{if(f)return u[f]?new u[f](o):new Si(o);if(typeof o[Hy]!="undefined")return new Gy(o)}catch{}return null}var Hy="idToken",NC="providerId";function Gy(o){var u=o[NC];if(!u&&o[Hy]){var f=xp(o[Hy]);f&&f.a&&(u=f.a)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser!="undefined"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ee(this,"providerId",u),ee(this,"isNewUser",f)}function Si(o){Gy.call(this,o),o=hu(o.rawUserInfo||"{}"),ee(this,"profile",Ly(o||{}))}P(Si,Gy);function kC(o){if(Si.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(kC,Si);function AC(o){if(Si.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ee(this,"username",this.profile&&this.profile.login||null)}P(AC,Si);function RC(o){if(Si.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}P(RC,Si);function xC(o){if(Si.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ee(this,"username",o.screenName||null)}P(xC,Si);function OC(o){var u=rr(o),f=Ir(u,"link"),p=Ir(rr(f),"link");return u=Ir(u,"deep_link_id"),Ir(rr(u),"link")||u||p||f||o}function Pp(o,u){if(!o&&!u)throw new N("internal-error","Internal assert: no raw session string available");if(o&&u)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Ac:Dp}var Ac="enroll",Dp="signin";Pp.prototype.Ha=function(){return this.a?se(this.a):se(this.b)},Pp.prototype.w=function(){return this.type==Ac?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function pu(){}pu.prototype.ja=function(){},pu.prototype.b=function(){},pu.prototype.c=function(){},pu.prototype.w=function(){};function du(o,u){return o.then(function(f){if(f[Xr]){var p=xp(f[Xr]);if(!p||u!=p.h)throw new N("user-mismatch");return f}throw new N("user-mismatch")}).s(function(f){throw f&&f.code&&f.code==oe+"user-not-found"?new N("user-mismatch"):f})}function zs(o,u){if(u)this.a=u;else throw new N("internal-error","failed to construct a credential");ee(this,"providerId",o),ee(this,"signInMethod",o)}zs.prototype.ja=function(o){return y0(o,Ky(this))},zs.prototype.b=function(o,u){var f=Ky(this);return f.idToken=u,_0(o,f)},zs.prototype.c=function(o,u){return du(w0(o,Ky(this)),u)};function Ky(o){return{pendingToken:o.a,requestUri:"http://localhost"}}zs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function G3(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new zs(o.providerId,o.pendingToken)}catch{}return null}function Xi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ee(this,"idToken",u.idToken),u.accessToken&&ee(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ee(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ee(this,"accessToken",u.oauthToken),ee(this,"secret",u.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");ee(this,"providerId",o),ee(this,"signInMethod",f)}Xi.prototype.ja=function(o){return y0(o,Qy(this))},Xi.prototype.b=function(o,u){var f=Qy(this);return f.idToken=u,_0(o,f)},Xi.prototype.c=function(o,u){var f=Qy(this);return du(w0(o,f),u)};function Qy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:WT(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Xi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function K3(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Xi(o.providerId,u,o.signInMethod)}catch{}}return null}function Ws(o,u){this.Pc=u||[],Cn(this,{providerId:o,isOAuthProvider:!0}),this.Hb={},this.ob=(qy(o)||{}).Ja||null,this.nb=null}Ws.prototype.Ka=function(o){return this.Hb=Ki(o),this};function PC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');Ws.call(this,o,[])}P(PC,Ws);function ir(o){Ws.call(this,o,Op),this.a=[]}P(ir,Ws),ir.prototype.Ca=function(o){return qr(this.a,o)||this.a.push(o),this},ir.prototype.Pb=function(){return Hi(this.a)},ir.prototype.credential=function(o,u){var f;if(E(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xi(this.providerId,f,this.providerId)};function qs(){ir.call(this,"facebook.com")}P(qs,ir),ee(qs,"PROVIDER_ID","facebook.com"),ee(qs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function DC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return E(o)&&(u=o.accessToken),new qs().credential({accessToken:u})}function Hs(){ir.call(this,"github.com")}P(Hs,ir),ee(Hs,"PROVIDER_ID","github.com"),ee(Hs,"GITHUB_SIGN_IN_METHOD","github.com");function LC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return E(o)&&(u=o.accessToken),new Hs().credential({accessToken:u})}function Gs(){ir.call(this,"google.com"),this.Ca("profile")}P(Gs,ir),ee(Gs,"PROVIDER_ID","google.com"),ee(Gs,"GOOGLE_SIGN_IN_METHOD","google.com");function MC(o,u){var f=o;return E(o)&&(f=o.idToken,u=o.accessToken),new Gs().credential({idToken:f,accessToken:u})}function vu(){Ws.call(this,"twitter.com",TC)}P(vu,Ws),ee(vu,"PROVIDER_ID","twitter.com"),ee(vu,"TWITTER_SIGN_IN_METHOD","twitter.com");function FC(o,u){var f=o;if(E(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xi("twitter.com",f,"twitter.com")}function Do(o,u,f){this.a=o,this.f=u,ee(this,"providerId","password"),ee(this,"signInMethod",f===Tr.EMAIL_LINK_SIGN_IN_METHOD?Tr.EMAIL_LINK_SIGN_IN_METHOD:Tr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Do.prototype.ja=function(o){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Oj,{email:this.a,oobCode:this.f}):Se(o,fN,{email:this.a,password:this.f})},Do.prototype.b=function(o,u){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Pj,{idToken:u,email:this.a,oobCode:this.f}):Se(o,cN,{idToken:u,email:this.a,password:this.f})},Do.prototype.c=function(o,u){return du(this.ja(o),u)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Q3(o){return o&&o.email&&o.password?new Do(o.email,o.password,o.signInMethod):null}function Tr(){Cn(this,{providerId:"password",isOAuthProvider:!1})}function UC(o,u){if(u=Yy(u),!u)throw new N("argument-error","Invalid email link!");return new Do(o,u.code,Tr.EMAIL_LINK_SIGN_IN_METHOD)}function Yy(o){return o=OC(o),(o=gC(o))&&o.operation===Np?o:null}Cn(Tr,{PROVIDER_ID:"password"}),Cn(Tr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Cn(Tr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Lo(o){if(!(o.cb&&o.bb||o.La&&o.ea))throw new N("internal-error");this.a=o,ee(this,"providerId","phone"),this.fa="phone",ee(this,"signInMethod","phone")}Lo.prototype.ja=function(o){return o.eb(Rc(this))},Lo.prototype.b=function(o,u){var f=Rc(this);return f.idToken=u,Se(o,Zj,f)},Lo.prototype.c=function(o,u){var f=Rc(this);return f.operation="REAUTH",o=Se(o,e$,f),du(o,u)},Lo.prototype.w=function(){var o={providerId:"phone"};return this.a.cb&&(o.verificationId=this.a.cb),this.a.bb&&(o.verificationCode=this.a.bb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function Y3(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Le(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Lo(u)}return null}function Rc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.cb,code:o.a.bb}}function Ji(o){try{this.a=o||te.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Cn(this,{providerId:"phone",isOAuthProvider:!1})}Ji.prototype.eb=function(o,u){var f=this.a.a;return se(u.verify()).then(function(p){if(typeof p!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=E(o)?o.session:null,w=E(o)?o.phoneNumber:o,S;return m&&m.type==Ac?S=m.Ha().then(function(k){return Sj(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:p}})}):m&&m.type==Dp?S=m.Ha().then(function(k){return Ij(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):S=bj(f,{phoneNumber:w,recaptchaToken:p}),S.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function jC(o,u){if(!o)throw new N("missing-verification-id");if(!u)throw new N("missing-verification-code");return new Lo({cb:o,bb:u})}Cn(Ji,{PROVIDER_ID:"phone"}),Cn(Ji,{PHONE_SIGN_IN_METHOD:"phone"});function Xy(o){if(o.temporaryProof&&o.phoneNumber)return new Lo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,w=o&&o.oauthIdToken,S=o&&o.pendingToken;try{switch(u){case"google.com":return MC(w,f);case"facebook.com":return DC(f);case"github.com":return LC(f);case"twitter.com":return FC(f,p);default:return f||p||w||S?S?u.indexOf("saml.")==0?new zs(u,S):new Xi(u,{pendingToken:S,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new ir(u).credential({idToken:w,accessToken:f,rawNonce:m}):null}}catch{return null}}function Jy(o){if(!o.isOAuthProvider)throw new N("invalid-oauth-provider")}function Qr(o,u,f,p,m,w,S){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=w||null,this.h=S||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Qr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Qr.prototype.S=function(){return this.h},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function $C(o){return o=o||{},o.type?new Qr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&B(o.error),o.postBody,o.tenantId):null}function X3(){this.b=null,this.a=[]}var Zy=null;function J3(o){var u=Zy;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=it("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function e0(o){var u="unauthorized-domain",f=void 0,p=rr(o);o=p.a,p=p.f,p=="chrome-extension"?f=cT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=cT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",N.call(this,u,f)}P(e0,N);function xc(o,u,f){N.call(this,o,f),o=u||{},o.Ib&&ee(this,"email",o.Ib),o.ea&&ee(this,"phoneNumber",o.ea),o.credential&&ee(this,"credential",o.credential),o.Yb&&ee(this,"tenantId",o.Yb)}P(xc,N),xc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&$n(o,u),o},xc.prototype.toJSON=function(){return this.w()};function Lp(o){if(o.code){var u=o.code||"";u.indexOf(oe)==0&&(u=u.substring(oe.length));var f={credential:Xy(o),Yb:o.tenantId};if(o.email)f.Ib=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new N(u,o.message||void 0);return new xc(u,f,o.message)}return null}function Oc(){}Oc.prototype.c=null;function VC(o){return o.c||(o.c=o.b())}var t0;function Mp(){}P(Mp,Oc),Mp.prototype.a=function(){var o=BC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Mp.prototype.b=function(){var o={};return BC(this)&&(o[0]=!0,o[1]=!0),o};function BC(o){if(!o.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}t0=new Mp;function Fp(){}P(Fp,Oc),Fp.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest!="undefined")return new zC;throw Error("Unsupported browser")},Fp.prototype.b=function(){return{}};function zC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.pc,this),this.a.onerror=A(this.Rb,this),this.a.onprogress=A(this.qc,this),this.a.ontimeout=A(this.uc,this)}t=zC.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,n0(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",n0(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,n0(this,1)};function n0(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function r0(o,u,f){this.reset(o,u,f,void 0,void 0)}r0.prototype.a=null,r0.prototype.reset=function(o,u,f,p,m){delete this.a};function i0(o){this.f=o,this.b=this.c=this.a=null}function Pc(o,u){this.name=o,this.value=u}Pc.prototype.toString=function(){return this.name};var WC=new Pc("SEVERE",1e3),o0=new Pc("WARNING",900),Z3=new Pc("CONFIG",700),ej=new Pc("FINE",500);function qC(o){return o.c?o.c:o.a?qC(o.a):(le("Root logger has no level set."),null)}i0.prototype.log=function(o,u,f){if(o.value>=qC(this).value)for(_(u)&&(u=u()),o=new r0(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var s0={},Up=null;function a0(o){Up||(Up=new i0(""),s0[""]=Up,Up.c=Z3);var u;if(!(u=s0[o])){u=new i0(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=a0(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,s0[o]=u}return u}function Cr(o,u){o&&o.log(ej,u,void 0)}function jp(o){this.f=o}P(jp,Oc),jp.prototype.a=function(){return new u0(this.f)},jp.prototype.b=function(o){return function(){return o}}({});function u0(o){Tn.call(this),this.o=o,this.readyState=l0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=a0("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}P(u0,Tn);var l0=0;t=u0.prototype,t.open=function(o,u){if(this.readyState!=l0)throw this.abort(),Error("Error reopening a connection");this.m=o,this.g=u,this.readyState=1,Lc(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.i,method:this.m,credentials:void 0,cache:void 0};o&&(u.body=o),this.o.fetch(new Request(this.g,u)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Dc(this,!1)),this.readyState=l0},t.tc=function(o){this.a&&(this.f=o,this.b||(this.b=o.headers,this.readyState=2,Lc(this)),this.a&&(this.readyState=3,Lc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):typeof c.ReadableStream!="undefined"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.l=new TextDecoder,HC(this)):o.text().then(this.sc.bind(this),this.Ta.bind(this)))))};function HC(o){o.c.read().then(o.oc.bind(o)).catch(o.Ta.bind(o))}t.oc=function(o){if(this.a){var u=this.l.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Dc(this,!0):Lc(this),this.readyState==3&&HC(this)}},t.sc=function(o){this.a&&(this.response=this.responseText=o,Dc(this,!0))},t.rc=function(o){this.a&&(this.response=o,Dc(this,!0))},t.Ta=function(o){var u=this.h;u&&u.log(o0,"Failed to fetch url "+this.g,o instanceof Error?o:Error(o)),this.a&&Dc(this,!0)};function Dc(o,u){u&&o.f&&(o.status=o.f.status,o.statusText=o.f.statusText),o.readyState=4,o.f=null,o.c=null,o.l=null,Lc(o)}t.setRequestHeader=function(o,u){this.i.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.h)&&o.log(o0,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.h;return o&&o.log(o0,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Lc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}function Mc(o){Tn.call(this),this.headers=new au,this.O=o||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=GC,this.u=this.R=!1}P(Mc,Tn);var GC="";Mc.prototype.b=a0("goog.net.XhrIo");var tj=/^https?$/i,nj=["POST","PUT"];function rj(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.G=!1,o.c=!0,o.a=o.O?o.O.a():t0.a(),o.A=o.O?VC(o.O):VC(t0),o.a.onreadystatechange=A(o.Ub,o);try{Cr(o.b,Zi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(S){Cr(o.b,Zi(o,"Error opening Xhr: "+S.message)),KC(o,S);return}u=p||"";var w=new au(o.headers);m&&l3(m,function(S,k){w.set(k,S)}),m=Gm(w.Y()),p=c.FormData&&u instanceof c.FormData,!qr(nj,f)||m||p||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(S,k){this.a.setRequestHeader(k,S)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.R&&(o.a.withCredentials=o.R);try{XC(o),0<o.g&&(o.u=ij(o.a),Cr(o.b,Zi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=A(o.Ma,o)):o.o=Ey(o.Ma,o.g,o)),Cr(o.b,Zi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(S){Cr(o.b,Zi(o,"Send error: "+S.message)),KC(o,S)}}function ij(o){return Gr&&dT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function oj(o){return o.toLowerCase()=="content-type"}t=Mc.prototype,t.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Cr(this.b,Zi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function KC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,QC(o),$p(o)}function QC(o){o.G||(o.G=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Cr(this.b,Zi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$p(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),$p(this,!0)),Mc.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?YC(this):this.Ic())},t.Ic=function(){YC(this)};function YC(o){if(o.c&&typeof l!="undefined"){if(o.A[1]&&Fc(o)==4&&Vp(o)==2)Cr(o.b,Zi(o,"Local request error detected and ignored"));else if(o.i&&Fc(o)==4)Ey(o.Ub,0,o);else if(o.dispatchEvent("readystatechange"),Fc(o)==4){Cr(o.b,Zi(o,"Request complete")),o.c=!1;try{var u=Vp(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var w=String(o.l).match(BT)[1]||null;if(!w&&c.self&&c.self.location){var S=c.self.location.protocol;w=S.substr(0,S.length-1)}m=!tj.test(w?w.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Fc(o)?o.a.statusText:""}catch(M){Cr(o.b,"Can not get status: "+M.message),k=""}o.h=k+" ["+Vp(o)+"]",QC(o)}}finally{$p(o)}}}}function $p(o,u){if(o.a){XC(o);var f=o.a,p=o.A[0]?g:null;o.a=null,o.A=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(WC,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function XC(o){o.a&&o.u&&(o.a.ontimeout=null),o.o&&(c.clearTimeout(o.o),o.o=null)}function Fc(o){return o.a?o.a.readyState:0}function Vp(o){try{return 2<Fc(o)?o.a.status:-1}catch{return-1}}function sj(o){try{return o.a?o.a.responseText:""}catch(u){return Cr(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case GC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(WC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Cr(this.b,"Can not get response: "+u.message),null}};function Zi(o,u){return u+" ["+o.P+" "+o.l+" "+Vp(o)+"]"}function Ks(o){var u=lj;this.g=[],this.u=u,this.o=o||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}Ks.prototype.cancel=function(o){if(this.a)this.c instanceof Ks&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(o=new jc,Bp(this),Uc(this,!1,o))}},Ks.prototype.v=function(o,u){this.i=!1,Uc(this,o,u)};function Uc(o,u,f){o.a=!0,o.c=f,o.f=!u,ZC(o)}function Bp(o){if(o.a){if(!o.m)throw new zp;o.m=!1}}function aj(o,u){c0(o,null,u,void 0)}function c0(o,u,f,p){o.g.push([u,f,p]),o.a&&ZC(o)}Ks.prototype.then=function(o,u,f){var p,m,w=new be(function(S,k){p=S,m=k});return c0(this,p,function(S){S instanceof jc?w.cancel():m(S)}),w.then(o,u,f)},Ks.prototype.$goog_Thenable=!0;function JC(o){return Hm(o.g,function(u){return _(u[1])})}function ZC(o){if(o.h&&o.a&&JC(o)){var u=o.h,f=Wp[u];f&&(c.clearTimeout(f.a),delete Wp[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),w=m[0],S=m[1];if(m=m[2],w=o.f?S:w)try{var k=w.call(m||o.o,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(Fe(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(p=!0,o.i=!0)}catch(M){u=M,o.f=!0,JC(o)||(f=!0)}}o.c=u,p&&(k=A(o.v,o,!0),p=A(o.v,o,!1),u instanceof Ks?(c0(u,k,p),u.A=!0):u.then(k,p)),f&&(u=new eN(u),Wp[u.a]=u,o.h=u.a)}function zp(){Re.call(this)}P(zp,Re),zp.prototype.message="Deferred has already fired",zp.prototype.name="AlreadyCalledError";function jc(){Re.call(this)}P(jc,Re),jc.prototype.message="Deferred was canceled",jc.prototype.name="CanceledError";function eN(o){this.a=c.setTimeout(A(this.c,this),0),this.b=o}eN.prototype.c=function(){throw delete Wp[this.a],this.b};var Wp={};function f0(o){var u={},f=u.document||document,p=Zm(o).toString(),m=gp(document,"SCRIPT"),w={Vb:m,Ma:void 0},S=new Ks(w),k=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(k=window.setTimeout(function(){qp(m,!0);var $=new h0(fj,"Timeout reached for loading script "+p);Bp(S),Uc(S,!1,$)},M),w.Ma=k),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(qp(m,u.wd||!1,k),Bp(S),Uc(S,!0,null))},m.onerror=function(){qp(m,!0,k);var $=new h0(cj,"Error while loading script "+p);Bp(S),Uc(S,!1,$)},w=u.attributes||{},$n(w,{type:"text/javascript",charset:"UTF-8"}),vT(m,w),jU(m,o),uj(f).appendChild(m),S}function uj(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function lj(){if(this&&this.Vb){var o=this.Vb;o&&o.tagName=="SCRIPT"&&qp(o,!0,this.Ma)}}function qp(o,u,f){f!=null&&c.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var cj=0,fj=1;function h0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Re.call(this,f),this.code=o}P(h0,Re);function Hp(o){this.f=o}P(Hp,Oc),Hp.prototype.a=function(){return new this.f},Hp.prototype.b=function(){return{}};function Yr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=o.secureTokenTimeout||hj,this.g=Ki(o.secureTokenHeaders||pj),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=o.firebaseTimeout||dj,this.a=Ki(o.firebaseHeaders||vj),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=bi()=="Node",f=c.XMLHttpRequest||f&&te.INTERNAL.node&&te.INTERNAL.node.XMLHttpRequest,!f&&!Kr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Kr()?this.f=new jp(self):eC()?this.f=new Hp(f):this.f=new Fp,this.b=null}var p0,Xr="idToken",hj=new Oo(3e4,6e4),pj={"Content-Type":"application/x-www-form-urlencoded"},dj=new Oo(3e4,6e4),vj={"Content-Type":"application/json"};function tN(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function gu(o,u){u&&(o.l=d0("https://securetoken.googleapis.com/v1/token",u),o.h=d0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=d0("https://identitytoolkit.googleapis.com/v2/",u))}function d0(o,u){return o=rr(o),u=rr(u.url),o.c=o.a+o.c,yc(o,u.f),o.a=u.a,_c(o,u.g),o.toString()}function nN(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Yr.prototype.S=function(){return this.b};function rN(o,u,f,p,m,w,S){_3()||Kr()?o=A(o.u,o):(p0||(p0=new be(function(k,M){mj(k,M)})),o=A(o.o,o)),o(u,f,p,m,w,S)}Yr.prototype.u=function(o,u,f,p,m,w){if(Kr()&&(typeof c.fetch=="undefined"||typeof c.Headers=="undefined"||typeof c.Request=="undefined"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new Mc(this.f);if(w){S.g=Math.max(0,w);var k=setTimeout(function(){S.dispatchEvent("timeout")},w)}jT(S,"complete",function(){k&&clearTimeout(k);var M=null;try{M=JSON.parse(sj(this))||null}catch{M=null}u&&u(M)}),wy(S,"ready",function(){k&&clearTimeout(k),OT(this)}),wy(S,"timeout",function(){k&&clearTimeout(k),OT(this),u&&u(null)}),rj(S,o,f,p,m)};var gj=new wi(dc,"https://apis.google.com/js/client.js?onload=%{onload}"),iN="__fcb"+Math.floor(1e6*Math.random()).toString();function mj(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[iN]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=ey(gj,{onload:iN});aj(f0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Yr.prototype.o=function(o,u,f,p,m){var w=this;p0.then(function(){window.gapi.client.setApiKey(w.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(k){window.gapi.auth.setToken(S),u&&u(k)}})}).s(function(S){u&&u({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function yj(o,u){return new be(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?rN(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(b0(m)):m.access_token&&m.refresh_token?f(m):p(new N("internal-error")):p(new N("network-request-failed"))},"POST",WT(u).toString(),o.g,o.v.get()):p(new N("internal-error"))})}function oN(o,u,f,p,m,w,S){var k=rr(u+f);_t(k,"key",o.c),S&&_t(k,"cb",F().toString());var M=p=="GET";if(M)for(var $ in m)m.hasOwnProperty($)&&_t(k,$,m[$]);return new be(function(fe,Ue){rN(o,k.toString(),function(xe){xe?xe.error?Ue(b0(xe,w||{})):fe(xe):Ue(new N("network-request-failed"))},p,M?void 0:GT(rC(m)),o.a,o.m.get())})}function Qs(o){if(o=o.email,typeof o!="string"||!b3.test(o))throw new N("invalid-email")}function sN(o){"email"in o&&Qs(o)}function _j(o,u){return Se(o,Aj,{identifier:u,continueUri:Cp()?bc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function wj(o){return Se(o,Vj,{}).then(function(u){return u.authorizedDomains||[]})}function Bn(o){if(!o[Xr])throw o.mfaPendingCredential?new N("multi-factor-auth-required",null,Ki(o)):new N("internal-error")}function v0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new N("internal-error")}else{if(!o.sessionInfo)throw new N("missing-verification-id");if(!o.code)throw new N("missing-verification-code")}}Yr.prototype.yb=function(){return Se(this,qj,{})},Yr.prototype.Ab=function(o,u){return Se(this,lN,{idToken:o,email:u})},Yr.prototype.Bb=function(o,u){return Se(this,cN,{idToken:o,password:u})};var Ej={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Yr.prototype,t.Cb=function(o,u){var f={idToken:o},p=[];return pp(Ej,function(m,w){var S=u[w];S===null?p.push(m):w in u&&(f[w]=S)}),p.length&&(f.deleteAttribute=p),Se(this,lN,f)},t.ub=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},$n(o,u),Se(this,$j,o)},t.vb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},$n(o,u),Se(this,Fj,o)},t.tb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},$n(o,u),Se(this,Uj,o)},t.Db=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},$n(o,f),Se(this,jj,o)};function bj(o,u){return Se(o,Wj,u)}t.eb=function(o){return Se(this,Jj,o)};function Sj(o,u){return Se(o,Hj,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function aN(o){if(!o.phoneVerificationInfo)throw new N("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new N("missing-verification-code")}function Ij(o,u){return Se(o,Gj,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function Tj(o,u,f){return Se(o,xj,{idToken:u,deleteProvider:f})}function g0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new N("internal-error")}function m0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new js(o.postBody),Iy(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function uN(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Lp(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Lp(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Lp(o)):o.errorMessage&&(u=hN(o.errorMessage)),u)throw u;Bn(o)}function y0(o,u){return u.returnIdpCredential=!0,Se(o,Kj,u)}function _0(o,u){return u.returnIdpCredential=!0,Se(o,Yj,u)}function w0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Se(o,Qj,u)}function E0(o){if(!o.oobCode)throw new N("invalid-action-code")}t.mb=function(o,u){return Se(this,zj,{oobCode:o,newPassword:u})},t.Qa=function(o){return Se(this,Nj,{oobCode:o})},t.ib=function(o){return Se(this,Cj,{oobCode:o})};var Cj={endpoint:"setAccountInfo",B:E0,Z:"email",C:!0},Nj={endpoint:"resetPassword",B:E0,F:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},C:!0},kj={endpoint:"signupNewUser",B:function(o){if(Qs(o),!o.password)throw new N("weak-password")},F:Bn,U:!0,C:!0},Aj={endpoint:"createAuthUri",C:!0},Rj={endpoint:"deleteAccount",M:["idToken"]},xj={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(o){if(v(o.deleteProvider)!="array")throw new N("internal-error")}},Oj={endpoint:"emailLinkSignin",M:["email","oobCode"],B:Qs,F:Bn,U:!0,C:!0},Pj={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:Qs,F:Bn,U:!0},Dj={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:aN,F:Bn,C:!0,Na:!0},Lj={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:aN,F:Bn,C:!0,Na:!0},Mj={endpoint:"getAccountInfo"},Fj={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new N("internal-error");Qs(o)},Z:"email",C:!0},Uj={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(o){if(o.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",C:!0},jj={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",C:!0},$j={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if(o.requestType!="PASSWORD_RESET")throw new N("internal-error");Qs(o)},Z:"email",C:!0},Vj={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Bj={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(o){if(!o.recaptchaSiteKey)throw new N("internal-error")}},zj={endpoint:"resetPassword",B:E0,Z:"email",C:!0},Wj={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},lN={endpoint:"setAccountInfo",M:["idToken"],B:sN,U:!0},cN={endpoint:"setAccountInfo",M:["idToken"],B:function(o){if(sN(o),!o.password)throw new N("weak-password")},F:Bn,U:!0},qj={endpoint:"signupNewUser",F:Bn,U:!0,C:!0},Hj={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(o){if(!o.phoneEnrollmentInfo)throw new N("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},Gj={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},Kj={endpoint:"verifyAssertion",B:g0,Xa:m0,F:uN,U:!0,C:!0},Qj={endpoint:"verifyAssertion",B:g0,Xa:m0,F:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(o.errorMessage)throw hN(o.errorMessage);Bn(o)},U:!0,C:!0},Yj={endpoint:"verifyAssertion",B:function(o){if(g0(o),!o.idToken)throw new N("internal-error")},Xa:m0,F:uN,U:!0},Xj={endpoint:"verifyCustomToken",B:function(o){if(!o.token)throw new N("invalid-custom-token")},F:Bn,U:!0,C:!0},fN={endpoint:"verifyPassword",B:function(o){if(Qs(o),!o.password)throw new N("wrong-password")},F:Bn,U:!0,C:!0},Jj={endpoint:"verifyPhoneNumber",B:v0,F:Bn,C:!0},Zj={endpoint:"verifyPhoneNumber",B:function(o){if(!o.idToken)throw new N("internal-error");v0(o)},F:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Lp(o);Bn(o)}},e$={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:v0,F:Bn,C:!0},t$={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(o){if(!!o[Xr]^!!o.refreshToken)throw new N("internal-error")},C:!0,Na:!0};function Se(o,u,f){if(!A3(f,u.M))return rt(new N("internal-error"));var p=!!u.Na,m=u.Tb||"POST",w;return se(f).then(u.B).then(function(){return u.U&&(f.returnSecureToken=!0),u.C&&o.b&&typeof f.tenantId=="undefined"&&(f.tenantId=o.b),p?oN(o,o.i,u.endpoint,m,f,u.Gb,u.kb||!1):oN(o,o.h,u.endpoint,m,f,u.Gb,u.kb||!1)}).then(function(S){return w=S,u.Xa?u.Xa(f,w):w}).then(u.F).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new N("internal-error");return w[u.Z]})}function hN(o){return b0({error:{errors:[{message:o}],code:400,message:o}})}function b0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new N(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},$n(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new N(p[m],u);return!u&&o&&(u=Ic(o)),new N("internal-error",u)}function n$(o){this.b=o,this.a=null,this.qb=r$(this)}function r$(o){return l$().then(function(){return new be(function(u,f){it("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:it("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(w),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){f(Error("Network Error"))},u$.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function i$(o,u){return o.qb.then(function(){return new be(function(f){o.a.send(u.type,u,f,it("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function o$(o,u){o.qb.then(function(){o.a.register("authEvent",u,it("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var s$=new wi(dc,"https://apis.google.com/js/api.js?onload=%{onload}"),a$=new Oo(3e4,6e4),u$=new Oo(5e3,15e3),Gp=null;function l$(){return Gp||(Gp=new be(function(o,u){function f(){oC(),it("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){oC(),u(Error("Network Error"))},timeout:a$.get()})}if(it("gapi.iframes.Iframe"))o();else if(it("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[p]=function(){it("gapi.load")?f():u(Error("Network Error"))},p=ey(s$,{onload:p}),se(f0(p)).s(function(){u(Error("Network Error"))})}}).s(function(o){throw Gp=null,o}))}function pN(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=rr(this.g.url),o=Ip(o.f,o.a,o.g,"/emulator/auth/iframe")):o=Ip("https",this.l,null,"/__/auth/iframe"),this.a=o,_t(this.a,"apiKey",this.h),_t(this.a,"appName",this.i),this.b=null,this.c=[]}pN.prototype.toString=function(){return this.f?_t(this.a,"v",this.f):Ei(this.a.b,"v"),this.b?_t(this.a,"eid",this.b):Ei(this.a.b,"eid"),this.c.length?_t(this.a,"fw",this.c.join(",")):Ei(this.a.b,"fw"),this.a.toString()};function S0(o,u,f,p,m,w){this.u=o,this.o=u,this.c=f,this.v=p,this.m=w,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}S0.prototype.xb=function(o){return this.h=o,this},S0.prototype.toString=function(){if(this.m){var o=rr(this.m.url);o=Ip(o.f,o.a,o.g,"/emulator/auth/handler")}else o=Ip("https",this.u,null,"/__/auth/handler");if(_t(o,"apiKey",this.o),_t(o,"appName",this.c),_t(o,"authType",this.v),this.a.isOAuthProvider){var u=this.a;try{var f=te.app(this.c).auth().ka()}catch{f=null}u.nb=f,_t(o,"providerId",this.a.providerId),f=this.a,u=rC(f.Hb);for(var p in u)u[p]=u[p].toString();p=f.Pc,u=Ki(u);for(var m=0;m<p.length;m++){var w=p[m];w in u&&delete u[w]}f.ob&&f.nb&&!u[f.ob]&&(u[f.ob]=f.nb),_i(u)||_t(o,"customParameters",Ic(u))}if(typeof this.a.Pb=="function"&&(f=this.a.Pb(),f.length&&_t(o,"scopes",f.join(","))),this.l?_t(o,"redirectUrl",this.l):Ei(o.b,"redirectUrl"),this.g?_t(o,"eventId",this.g):Ei(o.b,"eventId"),this.i?_t(o,"v",this.i):Ei(o.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!Ir(o,S)&&_t(o,S,this.b[S]);return this.h?_t(o,"tid",this.h):Ei(o.b,"tid"),this.f?_t(o,"eid",this.f):Ei(o.b,"eid"),S=I0(this.c),S.length&&_t(o,"fw",S.join(",")),o.toString()};function I0(o){try{return te.app(o).auth().Ga()}catch{return[]}}function dN(o,u,f,p,m,w){this.o=o,this.g=u,this.b=f,this.f=w,this.c=p||null,this.i=m||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function vN(o){var u=bc();return wj(o).then(function(f){e:{var p=rr(u),m=p.f;p=p.a;for(var w=0;w<f.length;w++){var S=f[w],k=p,M=m;if(S.indexOf("chrome-extension://")==0?k=rr(S).a==k&&M=="chrome-extension":M!="http"&&M!="https"?k=!1:E3.test(S)?k=k==S:(S=S.split(".").join("\\."),k=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new e0(bc())})}function gN(o){return o.v||(o.v=Tp().then(function(){if(!o.u){var u=o.c,f=o.i,p=I0(o.b),m=new pN(o.o,o.g,o.b,o.f);m.f=u,m.b=f,m.c=Hi(p||[]),o.u=m.toString()}o.m=new n$(o.u),c$(o)})),o.v}t=dN.prototype,t.Nb=function(o,u,f){var p=new N("popup-closed-by-user"),m=new N("web-storage-unsupported"),w=this,S=!1;return this.la().then(function(){f$(w).then(function(k){k||(o&&$s(o),u(m),S=!0)})}).s(function(){}).then(function(){if(!S)return w3(o)}).then(function(){if(!S)return su(f).then(function(){u(p)})})},t.Wb=function(){var o=en();return!Sc(o)&&!iC(o)},t.Sb=function(){return!1},t.Lb=function(o,u,f,p,m,w,S,k){if(!o)return rt(new N("popup-blocked"));if(S&&!Sc())return this.la().s(function($){$s(o),m($)}),p(),se();this.a||(this.a=vN(mN(this)));var M=this;return this.a.then(function(){var $=M.la().s(function(fe){throw $s(o),m(fe),fe});return p(),$}).then(function(){if(Jy(f),!S){var $=$c(M.o,M.g,M.b,u,f,null,w,M.c,void 0,M.i,k,M.f);YT($,o)}}).s(function($){throw $.code=="auth/network-request-failed"&&(M.a=null),$})};function mN(o){return o.l||(o.A=o.c?cu(o.c,I0(o.b)):null,o.l=new Yr(o.g,Oe(o.i),o.A),o.f&&gu(o.l,o.f)),o.l}t.Mb=function(o,u,f,p){this.a||(this.a=vN(mN(this)));var m=this;return this.a.then(function(){Jy(u);var w=$c(m.o,m.g,m.b,o,u,bc(),f,m.c,void 0,m.i,p,m.f);YT(w)}).s(function(w){throw w.code=="auth/network-request-failed"&&(m.a=null),w})},t.la=function(){var o=this;return gN(this).then(function(){return o.m.qb}).s(function(){throw o.a=null,new N("network-request-failed")})},t.Zb=function(){return!0};function $c(o,u,f,p,m,w,S,k,M,$,fe,Ue){return o=new S0(o,u,f,p,m,Ue),o.l=w,o.g=S,o.i=k,o.b=Ki(M||null),o.f=$,o.xb(fe).toString()}function c$(o){if(!o.m)throw Error("IfcHandler must be initialized!");o$(o.m,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=$C(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",se(f)}return f.status="ERROR",se(f)})}function f$(o){var u={type:"webStorageSupport"};return gN(o).then(function(){return i$(o.m,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport!="undefined")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Ra=function(o){tr(this.h,function(u){return u==o})};function yN(o){if(this.a=o||te.INTERNAL.reactNative&&te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=yN.prototype,t.get=function(o){return se(this.a.getItem(o)).then(function(u){return u&&hu(u)})},t.set=function(o,u){return se(this.a.setItem(o,Ic(u)))},t.T=function(o){return se(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function _N(o){this.b=o,this.a={},this.f=A(this.c,this)}var wN=[];function h$(){var o=Kr()?self:null;if(Le(wN,function(f){f.b==o&&(u=f)}),!u){var u=new _N(o);wN.push(u)}return u}_N.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];Le(p,function(w){m.push(se().then(function(){return w(o.origin,o.data.data)}))}),ST(m).then(function(w){var S=[];Le(w,function(k){S.push({fulfilled:k.Ob,value:k.value,reason:k.reason?k.reason.message:void 0})}),Le(S,function(k){for(var M in k)typeof k[M]=="undefined"&&delete k[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:S})})}};function EN(o,u,f){_i(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]=="undefined"&&(o.a[u]=[]),o.a[u].push(f)}function bN(o){this.a=o}bN.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function SN(o){this.c=o,this.b=!1,this.a=[]}function IN(o,u,f,p){var m,w=f||{},S,k,M,$=null;if(o.b)return rt(Error("connection_unavailable"));var fe=p?800:50,Ue=typeof MessageChannel!="undefined"?new MessageChannel:null;return new be(function(xe,Wt){Ue?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ue.port1.start(),k=setTimeout(function(){Wt(Error("unsupported_event"))},fe),S=function(eo){eo.data.eventId===m&&(eo.data.status==="ack"?(clearTimeout(k),M=setTimeout(function(){Wt(Error("timeout"))},3e3)):eo.data.status==="done"?(clearTimeout(M),typeof eo.data.response!="undefined"?xe(eo.data.response):Wt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(M),Wt(Error("invalid_response"))))},$={messageChannel:Ue,onMessage:S},o.a.push($),Ue.port1.addEventListener("message",S),o.c.postMessage({eventType:u,eventId:m,data:w},[Ue.port2])):Wt(Error("connection_unavailable"))}).then(function(xe){return T0(o,$),xe}).s(function(xe){throw T0(o,$),xe})}function T0(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),tr(o.a,function(m){return m==u})}}SN.prototype.close=function(){for(;0<this.a.length;)T0(this,this.a[0]);this.b=!0};function TN(){if(!N0())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var o=this;Kr()&&self?(this.l=h$(),EN(this.l,"keyChanged",function(u,f){return kN(o).then(function(p){return 0<p.length&&Le(o.a,function(m){m(p)}),{keyProcessed:qr(p,f.key)}})}),EN(this.l,"ping",function(){return se(["keyChanged"])})):N3().then(function(u){(o.h=u)&&(o.g=new SN(new bN(u)),IN(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&qr(f[0].value,"keyChanged")&&(o.o=!0)}).s(function(){}))})}var C0;function p$(o){return new be(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function CN(o){return new be(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){f(w)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):p$(o).then(function(){return CN(o)}).then(function(w){u(w)}).s(function(w){f(w)})}})}function Kp(o){return o.v||(o.v=CN(o)),o.v}function N0(){try{return!!c.indexedDB}catch{return!1}}function Vc(o){return o.objectStore("firebaseLocalStorage")}function Bc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function mu(o){return new be(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=TN.prototype,t.set=function(o,u){var f=!1,p,m=this;return Kp(this).then(function(w){return p=w,w=Vc(Bc(p,!0)),mu(w.get(o))}).then(function(w){var S=Vc(Bc(p,!0));return w?(w.value=u,mu(S.put(w))):(m.b++,f=!0,w={},w.fbase_key=o,w.value=u,mu(S.add(w)))}).then(function(){return m.c[o]=u,NN(m,o)}).na(function(){f&&m.b--})};function NN(o,u){return o.g&&o.h&&C3()===o.h?IN(o.g,"keyChanged",{key:u},o.o).then(function(){}).s(function(){}):se()}t.get=function(o){return Kp(this).then(function(u){return mu(Vc(Bc(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.T=function(o){var u=!1,f=this;return Kp(this).then(function(p){return u=!0,f.b++,mu(Vc(Bc(p,!0)).delete(o))}).then(function(){return delete f.c[o],NN(f,o)}).na(function(){u&&f.b--})};function kN(o){return Kp(o).then(function(u){var f=Vc(Bc(u,!1));return f.getAll?mu(f.getAll()):new be(function(p,m){var w=[],S=f.openCursor();S.onsuccess=function(k){(k=k.target.result)?(w.push(k.value),k.continue()):p(w)},S.onerror=function(k){m(k.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=XT(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&d$(this),this.a.push(o)},t.ia=function(o){tr(this.a,function(u){return u==o}),this.a.length==0&&AN(this)};function d$(o){function u(){o.f=setTimeout(function(){o.i=kN(o).then(function(f){0<f.length&&Le(o.a,function(p){p(f)})}).then(function(){u()}).s(function(f){f.message!="STOP_EVENT"&&u()})},800)}AN(o),u()}function AN(o){o.i&&o.i.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function RN(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=se().then(function(){if(N0()){var p=Bs(),m="__sak"+p;return C0||(C0=new TN),f=C0,f.set(m,p).then(function(){return f.get(m)}).then(function(w){if(w!==p)throw Error("indexedDB not supported!");return f.T(m)}).then(function(){return f}).s(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){Le(u.a,function(w){w(m)})}),p})}t=RN.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.T=function(o){return this.b.then(function(u){return u.T(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){tr(this.a,function(u){return u==o})};function zc(){this.a={},this.type="inMemory"}t=zc.prototype,t.get=function(o){return se(this.a[o])},t.set=function(o,u){return this.a[o]=u,se()},t.T=function(o){return delete this.a[o],se()},t.ca=function(){},t.ia=function(){};function Qp(){if(!v$())throw bi()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=xN()||te.INTERNAL.node.localStorage,this.type="localStorage"}function xN(){try{var o=c.localStorage,u=Bs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function v$(){var o=bi()=="Node";if(o=xN()||o&&te.INTERNAL.node&&te.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=Qp.prototype,t.get=function(o){var u=this;return se().then(function(){var f=u.a.getItem(o);return hu(f)})},t.set=function(o,u){var f=this;return se().then(function(){var p=Ic(u);p===null?f.T(o):f.a.setItem(o,p)})},t.T=function(o){var u=this;return se().then(function(){u.a.removeItem(o)})},t.ca=function(o){c.window&&Sr(c.window,"storage",o)},t.ia=function(o){c.window&&nr(c.window,"storage",o)};function k0(){this.type="nullStorage"}t=k0.prototype,t.get=function(){return se(null)},t.set=function(){return se()},t.T=function(){return se()},t.ca=function(){},t.ia=function(){};function A0(){if(!g$())throw bi()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=ON()||te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ON(){try{var o=c.sessionStorage,u=Bs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function g$(){var o=bi()=="Node";if(o=ON()||o&&te.INTERNAL.node&&te.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=A0.prototype,t.get=function(o){var u=this;return se().then(function(){var f=u.a.getItem(o);return hu(f)})},t.set=function(o,u){var f=this;return se().then(function(){var p=Ic(u);p===null?f.T(o):f.a.setItem(o,p)})},t.T=function(o){var u=this;return se().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function m$(){var o={};o.Browser=y$,o.Node=_$,o.ReactNative=w$,o.Worker=E$,this.a=o[bi()]}var R0,y$={D:Qp,ab:A0},_$={D:Qp,ab:A0},w$={D:yN,ab:k0},E$={D:Qp,ab:k0},yu={qd:"local",NONE:"none",sd:"session"};function b$(o){var u=new N("invalid-persistence-type"),f=new N("unsupported-persistence-type");e:{for(p in yu)if(yu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(bi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!N0()&&o!=="none")throw f;break;default:if(!Ry()&&o!=="none")throw f}}function PN(){var o=!!(!iC(en())&&ky()),u=Sc(),f=Ry();this.v=o,this.h=u,this.l=f,this.a={},R0||(R0=new m$),o=R0;try{this.g=!Cy()&&aC()||!c.indexedDB?new o.a.D:new RN(Kr()?new zc:new o.a.D)}catch{this.g=new zc,this.h=!0}try{this.i=new o.a.ab}catch{this.i=new zc}this.m=new zc,this.f=A(this.Xb,this),this.b={}}var x0;function Wc(){return x0||(x0=new PN),x0}function Ys(o,u){switch(u){case"session":return o.i;case"none":return o.m;default:return o.g}}function _u(o,u){return"firebase:"+o.name+(u?":"+u:"")}function S$(o,u,f){var p=_u(u,f),m=Ys(o,u.D);return o.get(u,f).then(function(w){var S=null;try{S=hu(c.localStorage.getItem(p))}catch{}if(S&&!w)return c.localStorage.removeItem(p),o.set(u,S,f);S&&w&&m.type!="localStorage"&&c.localStorage.removeItem(p)})}t=PN.prototype,t.get=function(o,u){return Ys(this,o.D).get(_u(o,u))};function wu(o,u,f){return f=_u(u,f),u.D=="local"&&(o.b[f]=null),Ys(o,u.D).T(f)}t.set=function(o,u,f){var p=_u(o,f),m=this,w=Ys(this,o.D);return w.set(p,u).then(function(){return w.get(p)}).then(function(S){o.D=="local"&&(m.b[p]=S)})},t.addListener=function(o,u,f){o=_u(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),_i(this.a)&&(Ys(this,"local").ca(this.f),this.h||(Cy()||!aC())&&c.indexedDB||!this.l||I$(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=_u(o,u),this.a[o]&&(tr(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),_i(this.a)&&(Ys(this,"local").ia(this.f),O0(this))};function I$(o){O0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Fs({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Xb(f))}},1e3)}function O0(o){o.c&&(clearInterval(o.c),o.c=null)}t.Xb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p=="undefined"&&(p=null);var m=c.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.lb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a!="undefined"?Ys(this,"local").ia(this.f):O0(this),this.v){if(f=c.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?c.localStorage.setItem(u,p):c.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a=="undefined")return}var w=this;f=function(){(typeof o.a.a!="undefined"||w.b[u]!==c.localStorage.getItem(u))&&(w.b[u]=c.localStorage.getItem(u),w.lb(u))},Gr&&Qi&&Qi==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Le(o,A(this.lb,this))},t.lb=function(o){this.a[o]&&Le(this.a[o],function(u){u()})};function T$(o){this.a=o,this.b=Wc()}var P0={name:"authEvent",D:"local"};function C$(o){return o.b.get(P0,o.a).then(function(u){return $C(u)})}function N$(){this.a=Wc()}function k$(){this.b=-1}function Yp(o,u){this.b=DN,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Xp===void 0&&(c.Int32Array?Xp=new Int32Array(FN):Xp=FN),this.reset()}var Xp;P(Yp,k$);for(var DN=64,A$=DN-1,LN=[],D0=0;D0<A$;D0++)LN[D0]=0;var MN=cc(128,LN);Yp.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Hi(this.h)};function L0(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var w=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,S=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=w+S|0}p=o.a[0]|0,m=o.a[1]|0;var k=o.a[2]|0,M=o.a[3]|0,$=o.a[4]|0,fe=o.a[5]|0,Ue=o.a[6]|0;for(w=o.a[7]|0,u=0;64>u;u++){var xe=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&k^m&k)|0;S=$&fe^~$&Ue,w=w+(($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))|0,S=S+(Xp[u]|0)|0,S=w+(S+(f[u]|0)|0)|0,w=Ue,Ue=fe,fe=$,$=M+S|0,M=k,k=m,m=p,p=S+xe|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+$|0,o.a[5]=o.a[5]+fe|0,o.a[6]=o.a[6]+Ue|0,o.a[7]=o.a[7]+w|0}function M0(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(L0(o),m=0);else if(y(u))for(;p<f;){var w=u[p++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");o.f[m++]=w,m==o.b&&(L0(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var FN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function UN(){Yp.call(this,8,R$)}P(UN,Yp);var R$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function jN(o,u,f,p,m,w){this.m=o,this.i=u,this.l=f,this.v=p||null,this.u=m||null,this.o=w,this.h=u+":"+f,this.A=new N$,this.g=new T$(this.h),this.f=null,this.b=[],this.a=this.c=null}function Jp(o){return new N("invalid-cordova-configuration",o)}t=jN.prototype,t.la=function(){return this.Ia?this.Ia:this.Ia=S3().then(function(){if(typeof it("universalLinks.subscribe",c)!="function")throw Jp("cordova-universal-links-plugin-fix is not installed");if(typeof it("BuildInfo.packageName",c)=="undefined")throw Jp("cordova-plugin-buildinfo is not installed");if(typeof it("cordova.plugins.browsertab.openUrl",c)!="function")throw Jp("cordova-plugin-browsertab is not installed");if(typeof it("cordova.InAppBrowser.open",c)!="function")throw Jp("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function x$(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function O$(o){var u=new UN;M0(u,o),o=[];var f=8*u.g;56>u.c?M0(u,MN,56-u.c):M0(u,MN,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(L0(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return z3(o)}t.Nb=function(o,u){return u(new N("operation-not-supported-in-this-environment")),se()},t.Lb=function(){return rt(new N("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(o,u,f,p){if(this.c)return rt(new N("redirect-operation-pending"));var m=this,w=c.document,S=null,k=null,M=null,$=null;return this.c=se().then(function(){return Jy(u),VN(m)}).then(function(){return P$(m,o,u,f,p)}).then(function(){return new be(function(fe,Ue){k=function(){var xe=it("cordova.plugins.browsertab.close",c);return fe(),typeof xe=="function"&&xe(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(k),M=function(){S||(S=su(2e3).then(function(){Ue(new N("redirect-cancelled-by-user"))}))},$=function(){xy()&&M()},w.addEventListener("resume",M,!1),en().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",$,!1)}).s(function(fe){return F0(m).then(function(){throw fe})})}).na(function(){M&&w.removeEventListener("resume",M,!1),$&&w.removeEventListener("visibilitychange",$,!1),S&&S.cancel(),k&&m.Ra(k),m.c=null})};function P$(o,u,f,p,m){var w=x$(),S=new Qr(u,p,null,w,new N("no-auth-event"),null,m),k=it("BuildInfo.packageName",c);if(typeof k!="string")throw new N("invalid-cordova-configuration");var M=it("BuildInfo.displayName",c),$={};if(en().toLowerCase().match(/iphone|ipad|ipod/))$.ibi=k;else if(en().toLowerCase().match(/android/))$.apn=k;else return rt(new N("operation-not-supported-in-this-environment"));M&&($.appDisplayName=M),w=O$(w),$.sessionId=w;var fe=$c(o.m,o.i,o.l,u,f,null,p,o.v,$,o.u,m,o.o);return o.la().then(function(){var Ue=o.h;return o.A.a.set(P0,S.w(),Ue)}).then(function(){var Ue=it("cordova.plugins.browsertab.isAvailable",c);if(typeof Ue!="function")throw new N("invalid-cordova-configuration");var xe=null;Ue(function(Wt){if(Wt){if(xe=it("cordova.plugins.browsertab.openUrl",c),typeof xe!="function")throw new N("invalid-cordova-configuration");xe(fe)}else{if(xe=it("cordova.InAppBrowser.open",c),typeof xe!="function")throw new N("invalid-cordova-configuration");Wt=en(),o.a=xe(fe,Wt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function $N(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function VN(o){return o.f||(o.f=o.la().then(function(){return new be(function(u){function f(p){return u(p),o.Ra(f),!1}o.Ea(f),D$(o)})})),o.f}function F0(o){var u=null;return C$(o.g).then(function(f){return u=f,f=o.g,wu(f.b,P0,f.a)}).then(function(){return u})}function D$(o){function u(S){p=!0,m&&m.cancel(),F0(o).then(function(k){var M=f;if(k&&S&&S.url){var $=null;M=OC(S.url),M.indexOf("/__/auth/callback")!=-1&&($=rr(M),$=hu(Ir($,"firebaseError")||null),$=($=typeof $=="object"?B($):null)?new Qr(k.c,k.b,null,null,$,null,k.S()):new Qr(k.c,k.b,M,k.f,null,null,k.S())),M=$||f}$N(o,M)})}var f=new Qr("unknown",null,null,null,new N("no-auth-event")),p=!1,m=su(500).then(function(){return F0(o).then(function(){p||$N(o,f)})}),w=c.handleOpenURL;c.handleOpenURL=function(S){if(S.toLowerCase().indexOf(it("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:S}),typeof w=="function")try{w(S)}catch(k){console.error(k)}},Zy||(Zy=new X3),J3(u)}t.Ea=function(o){this.b.push(o),VN(this).s(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Qr("unknown",null,null,null,new N("no-auth-event")),o(u))})},t.Ra=function(o){tr(this.b,function(u){return u==o})};function L$(o){this.a=o,this.b=Wc()}var U0={name:"pendingRedirect",D:"session"};function M$(o){return o.b.set(U0,"pending",o.a)}function j0(o){return wu(o.b,U0,o.a)}function F$(o){return o.b.get(U0,o.a).then(function(u){return u=="pending"})}function Zp(o,u,f,p){this.i={},this.u=0,this.O=o,this.m=u,this.v=f,this.G=p,this.h=[],this.f=!1,this.l=A(this.o,this),this.b=new ed,this.A=new ZN,this.g=new L$(QN(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=BN(this.O,this.m,this.v,qe,this.G)}function BN(o,u,f,p,m){var w=te.SDK_VERSION||null;return Ny()?new jN(o,u,f,w,p,m):new dN(o,u,f,w,p,m)}Zp.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=BN(this.O,this.m,this.v,null,this.G),this.i={}};function zN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.la().s(function(f){throw o.a==u&&o.reset(),f})}function WN(o){o.a.Wb()&&zN(o).s(function(u){var f=new Qr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));V0(u)&&o.o(f)}),o.a.Sb()||XN(o.b)}function $0(o,u){qr(o.h,u)||o.h.push(u),o.f||F$(o.g).then(function(f){f?j0(o.g).then(function(){zN(o).s(function(p){var m=new Qr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));V0(p)&&o.o(m)})}):WN(o)}).s(function(){WN(o)})}function qN(o,u){tr(o.h,function(f){return f==u})}Zp.prototype.o=function(o){if(!o)throw new N("invalid-auth-event");if(6e5<=F()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Eb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=F())),u=!0;break}}return XN(this.b),u};var U$=new Oo(2e3,1e4),j$=new Oo(3e4,6e4);Zp.prototype.qa=function(){return this.b.qa()};function HN(o,u,f,p,m,w,S){return o.a.Lb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,w,S)}function V0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function GN(o,u,f,p,m){var w;return M$(o.g).then(function(){return o.a.Mb(u,f,p,m).s(function(S){if(V0(S))throw new N("operation-not-supported-in-this-environment");return w=S,j0(o.g).then(function(){throw w})}).then(function(){return o.a.Zb()?new be(function(){}):j0(o.g).then(function(){return o.qa()}).then(function(){}).s(function(){})})})}function KN(o,u,f,p,m){return o.a.Nb(p,function(w){u.ma(f,null,w,m)},U$.get())}var B0={};function QN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function YN(o,u,f,p){var m=QN(u,f,p);return B0[m]||(B0[m]=new Zp(o,u,f,p)),B0[m]}function ed(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ed.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ed.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",w=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!w),f!="unknown"||m||w?o.a?(Xs(this,!0,null,o.a),se()):u.Fa(f,p)?$$(this,o,u):rt(new N("invalid-auth-event")):(Xs(this,!1,null,null),se())}else rt(new N("invalid-auth-event"))};function XN(o){o.g||(o.g=!0,Xs(o,!1,null,null))}function td(o){o.g&&!o.i&&Xs(o,!1,null,null)}function $$(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,w=u.i,S=u.S(),k=!!u.c.match(/Redirect$/);f(p,m,S,w).then(function(M){Xs(o,k,M,null)}).s(function(M){Xs(o,k,null,M)})}function V$(o,u){if(o.b=function(){return rt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function JN(o,u){if(o.b=function(){return se(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Xs(o,u,f,p){u?p?V$(o,p):JN(o,f):JN(o,{user:null}),o.f=[],o.c=[]}ed.prototype.qa=function(){var o=this;return new be(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),B$(o))})};function B$(o){var u=new N("timeout");o.a&&o.a.cancel(),o.a=su(j$.get()).then(function(){o.b||(o.g=!0,Xs(o,!0,null,u))})}function ZN(){}ZN.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.ma(o.c,null,o.a,o.b),se()):u.Fa(f,p)?z$(o,u):rt(new N("invalid-auth-event"))}else rt(new N("invalid-auth-event"))};function z$(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.S(),o.i).then(function(m){u.ma(p,m,null,f)}).s(function(m){u.ma(p,null,m,f)})}function ek(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(o){this.hb=o},enumerable:!1})}function z0(o,u){this.a=u,ee(this,"verificationId",o)}z0.prototype.confirm=function(o){return o=jC(this.verificationId,o),this.a(o)};function W0(o,u,f,p){return new Ji(o).eb(u,f).then(function(m){return new z0(m,p)})}function W$(o){var u=IC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Cn(this,{token:o,expirationTime:Tc(1e3*u.exp),authTime:Tc(1e3*u.auth_time),issuedAtTime:Tc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function q0(o,u,f){var p=u&&u[nk];if(!p)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Ki(u),this.g=f,this.c=new Pp(null,p),this.b=[];var m=this;Le(u[tk]||[],function(w){(w=Fy(w))&&m.b.push(w)}),ee(this,"auth",this.a),ee(this,"session",this.c),ee(this,"hints",this.b)}var tk="mfaInfo",nk="mfaPendingCredential";q0.prototype.Qc=function(o){var u=this;return o.rb(this.a.a,this.c).then(function(f){var p=Ki(u.f);return delete p[tk],delete p[nk],$n(p,f),u.g(p)})};function H0(o,u,f,p){N.call(this,"multi-factor-auth-required",p,u),this.b=new q0(o,u,f),ee(this,"resolver",this.b)}P(H0,N);function rk(o,u,f){if(o&&E(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new H0(u,o.serverResponse,f,o.message)}catch{}return null}function ik(){}ik.prototype.rb=function(o,u,f){return u.type==Ac?q$(this,o,u,f):H$(this,o,u)};function q$(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p!="undefined"&&(m.displayName=p),$n(m,{phoneVerificationInfo:Rc(o.a)}),Se(u,Dj,m)})}function H$(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},$n(p,{phoneVerificationInfo:Rc(o.a)}),Se(u,Lj,p)})}function G0(o){ee(this,"factorId",o.fa),this.a=o}P(G0,ik);function ok(o){if(G0.call(this,o),this.a.fa!=Ji.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P(ok,G0);function Eu(o,u){Vn.call(this,o);for(var f in u)this[f]=u[f]}P(Eu,Vn);function K0(o,u){this.a=o,this.b=[],this.c=A(this.xc,this),Sr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Le(u.multiFactor.enrolledFactors,function(p){var m=null,w={};if(p){p.uid&&(w[jy]=p.uid),p.displayName&&(w[lC]=p.displayName),p.enrollmentTime&&(w[Uy]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(w[$y]=p.phoneNumber);try{m=new Cc(w)}catch{}p=m}else p=null;p&&f.push(p)}),nd(this,f)}function G$(o){var u=[];return Le(o.mfaInfo||[],function(f){(f=Fy(f))&&u.push(f)}),u}t=K0.prototype,t.xc=function(o){nd(this,G$(o.gd))};function nd(o,u){o.b=u,ee(o,"enrolledFactors",u)}t.Qb=function(){return this.a.I().then(function(o){return new Pp(o,null)})},t.ec=function(o,u){var f=this,p=this.a.a;return this.Qb().then(function(m){return o.rb(p,m,u)}).then(function(m){return Ii(f.a,m),f.a.reload()})},t.ad=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return Se(p,t$,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var w=Wr(u.b,function(S){return S.uid!=f});return nd(u,w),Ii(u.a,m),u.a.reload().s(function(S){if(S.code!="auth/user-token-expired")throw S})})},t.w=function(){return{multiFactor:{enrolledFactors:tu(this.b,function(o){return o.w()})}}};function Q0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Q0.prototype.start=function(){this.a=this.c,Y0(this,!0)};function K$(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Y0(o,u){o.stop(),o.b=su(K$(o,u)).then(function(){return T3()}).then(function(){return o.h()}).then(function(){Y0(o,!0)}).s(function(f){o.i(f)&&Y0(o,!1)})}Q0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function X0(o){this.c=o,this.b=this.a=null}X0.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:J0(this)}};function J0(o){return o.b&&1e3*o.b.c||0}function sk(o,u){var f=u.refreshToken;o.b=xp(u[Xr]||""),o.a=f}function Q$(o,u){o.b=u.b,o.a=u.a}function Y$(o,u){return yj(o.c,u).then(function(f){return o.b=xp(f.access_token),o.a=f.refresh_token,{accessToken:o.b.toString(),refreshToken:o.a}}).s(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}X0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?rt(new N("user-token-expired")):o||!this.b||F()>J0(this)-3e4?this.a?Y$(this,{grant_type:"refresh_token",refresh_token:this.a}):se(null):se({accessToken:this.b.toString(),refreshToken:this.a})};function rd(o,u){this.a=o||null,this.b=u||null,Cn(this,{lastSignInTime:Tc(u||null),creationTime:Tc(o||null)})}function X$(o){return new rd(o.a,o.b)}rd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function J$(o,u,f,p,m,w){Cn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:w||null,providerId:u})}function or(o,u,f){this.G=[],this.l=o.apiKey,this.m=o.appName,this.o=o.authDomain||null;var p=te.SDK_VERSION?cu(te.SDK_VERSION):null;this.a=new Yr(this.l,Oe(qe),p),o.emulatorConfig&&gu(this.a,o.emulatorConfig),this.b=new X0(this.a),i_(this,u[Xr]),sk(this.b,u),ee(this,"refreshToken",this.b.a),uk(this,f||{}),Tn.call(this),this.P=!1,this.o&&Vs()&&(this.i=YN(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=Z$(this),this.$=A(this.gb,this);var m=this;this.pa=null,this.Ba=function(w){m.wa(w.h)},this.ba=null,this.za=function(w){gu(m.a,w.c)},this.W=null,this.X=[],this.Aa=function(w){qc(m,w.f)},this.aa=null,this.N=new K0(this,f),ee(this,"multiFactor",this.N)}P(or,Tn),or.prototype.wa=function(o){this.pa=o,tN(this.a,o)},or.prototype.ka=function(){return this.pa};function Z0(o,u){o.ba&&nr(o.ba,"languageCodeChanged",o.Ba),(o.ba=u)&&Sr(u,"languageCodeChanged",o.Ba)}function e_(o,u){o.W&&nr(o.W,"emulatorConfigChanged",o.za),(o.W=u)&&Sr(u,"emulatorConfigChanged",o.za)}function qc(o,u){o.X=u,nN(o.a,te.SDK_VERSION?cu(te.SDK_VERSION,o.X):null)}or.prototype.Ga=function(){return Hi(this.X)};function t_(o,u){o.aa&&nr(o.aa,"frameworkChanged",o.Aa),(o.aa=u)&&Sr(u,"frameworkChanged",o.Aa)}or.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())};function n_(o){try{return te.app(o.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function Z$(o){return new Q0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=J0(o.b)-F()-3e5;return 0<u?u:0})}function ak(o){o.A||o.u.b||(o.u.start(),nr(o,"tokenChanged",o.$),Sr(o,"tokenChanged",o.$))}function r_(o){nr(o,"tokenChanged",o.$),o.u.stop()}function i_(o,u){o.ya=u,ee(o,"_lat",u)}function eV(o,u){tr(o.R,function(f){return f==u})}function Js(o){for(var u=[],f=0;f<o.R.length;f++)u.push(o.R[f](o));return ST(u).then(function(){return o})}function Hc(o){o.i&&!o.P&&(o.P=!0,$0(o.i,o))}function uk(o,u){Cn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new rd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ee(or.prototype,"providerId","firebase");function lk(){}function o_(o){return se().then(function(){if(o.A)throw new N("app-deleted")})}function s_(o){return tu(o.providerData,function(u){return u.providerId})}function a_(o,u){u&&(ck(o,u.providerId),o.providerData.push(u))}function ck(o,u){tr(o.providerData,function(f){return f.providerId==u})}function Mo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ee(o,u,f)}function id(o,u){o!=u&&(Cn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ee(o,"metadata",X$(u.metadata)):ee(o,"metadata",new rd),Le(u.providerData,function(f){a_(o,f)}),Q$(o.b,u.b),ee(o,"refreshToken",o.b.a),nd(o.N,u.N.b))}t=or.prototype,t.reload=function(){var o=this;return Pt(this,o_(this).then(function(){return u_(o).then(function(){return Js(o)}).then(lk)}))};function u_(o){return o.I().then(function(u){var f=o.isAnonymous;return tV(o,u).then(function(){return f||Mo(o,"isAnonymous",!1),u})})}t.nc=function(o){return this.I(o).then(function(u){return new W$(u)})},t.I=function(o){var u=this;return Pt(this,o_(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new N("internal-error");return f.accessToken!=u.ya&&(i_(u,f.accessToken),u.dispatchEvent(new Eu("tokenChanged"))),Mo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Ii(o,u){u[Xr]&&o.ya!=u[Xr]&&(sk(o.b,u),o.dispatchEvent(new Eu("tokenChanged")),i_(o,u[Xr]),Mo(o,"refreshToken",o.b.a))}function tV(o,u){return Se(o.a,Mj,{idToken:u}).then(A(o.Jc,o))}t.Jc=function(o){if(o=o.users,!o||!o.length)throw new N("internal-error");o=o[0],uk(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=nV(o),f=0;f<u.length;f++)a_(this,u[f]);Mo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Eu("userReloaded",{gd:o}))};function nV(o){return(o=o.providerUserInfo)&&o.length?tu(o,function(u){return new J$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Kc=function(o){return Oy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(o)},t.sb=function(o){var u=this,f=null;return Pt(this,o.c(this.a,this.uid).then(function(p){return Ii(u,p),f=Gc(u,p,"reauthenticate"),u.f=null,u.reload()}).then(function(){return f}),!0)};function od(o,u){return u_(o).then(function(){if(qr(s_(o),u))return Js(o).then(function(){throw new N("provider-already-linked")})})}t.Bc=function(o){return Oy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(o)},t.pb=function(o){var u=this,f=null;return Pt(this,od(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Gc(u,p,"link"),fk(u,p)}).then(function(){return f}))},t.Cc=function(o,u){var f=this;return Pt(this,od(this,"phone").then(function(){return W0(n_(f),o,u,A(f.pb,f))}))},t.Lc=function(o,u){var f=this;return Pt(this,se().then(function(){return W0(n_(f),o,u,A(f.sb,f))}),!0)};function Gc(o,u,f){var p=Xy(u);return u=CC(u),Po({user:o,credential:p,additionalUserInfo:u,operationType:f})}function fk(o,u){return Ii(o,u),o.reload().then(function(){return o})}t.Ab=function(o){var u=this;return Pt(this,this.I().then(function(f){return u.a.Ab(f,o)}).then(function(f){return Ii(u,f),u.reload()}))},t.dd=function(o){var u=this;return Pt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Ii(u,f),u.reload()}))},t.Bb=function(o){var u=this;return Pt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Ii(u,f),u.reload()}))},t.Cb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return o_(this);var u=this;return Pt(this,this.I().then(function(f){return u.a.Cb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Ii(u,f),Mo(u,"displayName",f.displayName||null),Mo(u,"photoURL",f.photoUrl||null),Le(u.providerData,function(p){p.providerId==="password"&&(ee(p,"displayName",u.displayName),ee(p,"photoURL",u.photoURL))}),Js(u)}).then(lk))},t.bd=function(o){var u=this;return Pt(this,u_(this).then(function(f){return qr(s_(u),o)?Tj(u.a,f,[o]).then(function(p){var m={};return Le(p.providerUserInfo||[],function(w){m[w.providerId]=!0}),Le(s_(u),function(w){m[w]||ck(u,w)}),m[Ji.PROVIDER_ID]||ee(u,"phoneNumber",null),Js(u)}):Js(u).then(function(){throw new N("no-such-provider")})}))},t.delete=function(){var o=this;return Pt(this,this.I().then(function(u){return Se(o.a,Rj,{idToken:u})}).then(function(){o.dispatchEvent(new Eu("userDeleted"))})).then(function(){for(var u=0;u<o.G.length;u++)o.G[u].cancel("app-deleted");Z0(o,null),e_(o,null),t_(o,null),o.G=[],o.A=!0,r_(o),ee(o,"refreshToken",null),o.i&&qN(o.i,o)})},t.Eb=function(o,u){return!!(o=="linkViaPopup"&&(this.h||null)==u&&this.g||o=="reauthViaPopup"&&(this.h||null)==u&&this.g||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.ma=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.h||null)||(f&&this.O?this.O(f):u&&!f&&this.g&&this.g(u),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.h||null)?A(this.Jb,this):o=="reauthViaPopup"&&u==(this.h||null)?A(this.Kb,this):o=="linkViaRedirect"&&(this.ga||null)==u?A(this.Jb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?A(this.Kb,this):null},t.Dc=function(o){var u=this;return hk(this,"linkViaPopup",o,function(){return od(u,o.providerId).then(function(){return Js(u)})},!1)},t.Mc=function(o){return hk(this,"reauthViaPopup",o,function(){return se()},!0)};function hk(o,u,f,p,m){if(!Vs())return rt(new N("operation-not-supported-in-this-environment"));if(o.f&&!m)return rt(o.f);var w=qy(f.providerId),S=Bs(o.uid+":::"),k=null;(!Sc()||ky())&&o.o&&f.isOAuthProvider&&(k=$c(o.o,o.l,o.m,u,f,null,S,te.SDK_VERSION||null,null,null,o.tenantId));var M=ZT(k,w&&w.ua,w&&w.ta);return p=p().then(function(){if(dk(o),!m)return o.I().then(function(){})}).then(function(){return HN(o.i,M,u,f,S,!!k,o.tenantId)}).then(function(){return new be(function($,fe){o.ma(u,null,new N("cancelled-popup-request"),o.h||null),o.g=$,o.O=fe,o.h=S,o.c=KN(o.i,o,u,M,S)})}).then(function($){return M&&$s(M),$?Po($):null}).s(function($){throw M&&$s(M),$}),Pt(o,p,m)}t.Ec=function(o){var u=this;return pk(this,"linkViaRedirect",o,function(){return od(u,o.providerId)},!1)},t.Nc=function(o){return pk(this,"reauthViaRedirect",o,function(){return se()},!0)};function pk(o,u,f,p,m){if(!Vs())return rt(new N("operation-not-supported-in-this-environment"));if(o.f&&!m)return rt(o.f);var w=null,S=Bs(o.uid+":::");return p=p().then(function(){if(dk(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=S,Js(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(l_,o.w(),k.a)),k}).then(function(){return GN(o.i,u,f,S,o.tenantId)}).s(function(k){if(w=k,o.ha)return gk(o.ha);throw w}).then(function(){if(w)throw w}),Pt(o,p,m)}function dk(o){if(!o.i||!o.P)throw o.i&&!o.P?new N("internal-error"):new N("auth-domain-config-required")}t.Jb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return f=this.I().then(function(S){return _0(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:S})}).then(function(S){return w=Gc(m,S,"link"),fk(m,S)}).then(function(){return w}),Pt(this,f)},t.Kb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null,S=se().then(function(){return du(w0(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(k){return w=Gc(m,k,"reauthenticate"),Ii(m,k),m.f=null,m.reload()}).then(function(){return w});return Pt(this,S,!0)},t.tb=function(o){var u=this,f=null;return Pt(this,this.I().then(function(p){return f=p,typeof o=="undefined"||_i(o)?{}:Ap(new kp(o))}).then(function(p){return u.a.tb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Db=function(o,u){var f=this,p=null;return Pt(this,this.I().then(function(m){return p=m,typeof u=="undefined"||_i(u)?{}:Ap(new kp(u))}).then(function(m){return f.a.Db(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Pt(o,u,f){var p=rV(o,u,f);return o.G.push(p),p.na(function(){nu(o.G,p)}),p.s(function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=rk(m.w(),n_(o),A(o.ic,o))),w||m})}t.ic=function(o){var u=null,f=this;return o=du(se(o),f.uid).then(function(p){return u=Gc(f,p,"reauthenticate"),Ii(f,p),f.f=null,f.reload()}).then(function(){return u}),Pt(this,o,!0)};function rV(o,u,f){return o.f&&!f?(u.cancel(),rt(o.f)):u.s(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.f||o.dispatchEvent(new Eu("userInvalidated")),o.f=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&$n(o,this.metadata.w()),Le(this.providerData,function(u){o.providerData.push(k3(u))}),$n(o,this.N.w()),o};function vk(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken)f[Xr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;else return null;var p=new or(u,f,o);return o.providerData&&Le(o.providerData,function(m){m&&a_(p,Po(m))}),o.redirectEventId&&(p.ga=o.redirectEventId),p}function iV(o,u,f,p){var m=new or(o,u);return f&&(m.ha=f),p&&qc(m,p),m.reload().then(function(){return m})}function oV(o,u,f,p){var m=o.b,w={};return w[Xr]=m.b&&m.b.toString(),w.refreshToken=m.a,u=new or(u||{apiKey:o.l,authDomain:o.o,appName:o.m},w),f&&(u.ha=f),p&&qc(u,p),id(u,o),u}function sV(o){this.a=o,this.b=Wc()}var l_={name:"redirectUser",D:"session"};function gk(o){return wu(o.b,l_,o.a)}function aV(o,u){return o.b.get(l_,o.a).then(function(f){return f&&u&&(f.authDomain=u),vk(f||{})})}function c_(o){this.a=o,this.b=Wc(),this.c=null,this.f=uV(this),this.b.addListener(Ti("local"),this.a,A(this.g,this))}c_.prototype.g=function(){var o=this,u=Ti("local");bu(this,function(){return se().then(function(){return o.c&&o.c.D!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return f_(o,"local").then(function(){o.c=u})})})};function f_(o,u){var f=[],p;for(p in yu)yu[p]!==u&&f.push(wu(o.b,Ti(yu[p]),o.a));return f.push(wu(o.b,h_,o.a)),XU(f)}function uV(o){var u=Ti("local"),f=Ti("session"),p=Ti("none");return S$(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(w){return w?p:o.b.get(u,o.a).then(function(S){return S?u:o.b.get(h_,o.a).then(function(k){return k?Ti(k):u})})})}).then(function(m){return o.c=m,f_(o,m.D)}).s(function(){o.c||(o.c=u)})}var h_={name:"persistence",D:"session"};function Ti(o){return{name:"authUser",D:o}}c_.prototype.wb=function(o){var u=null,f=this;return b$(o),bu(this,function(){return o!=f.c.D?f.b.get(f.c,f.a).then(function(p){return u=p,f_(f,o)}).then(function(){if(f.c=Ti(o),u)return f.b.set(f.c,u,f.a)}):se()})};function lV(o){return bu(o,function(){return o.b.set(h_,o.c.D,o.a)})}function mk(o,u){return bu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function yk(o){return bu(o,function(){return wu(o.b,o.c,o.a)})}function _k(o,u,f){return bu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),vk(p||{})})})}function bu(o,u){return o.f=o.f.then(u,u),o.f}function Jr(o){if(this.m=!1,ee(this,"settings",new ek),ee(this,"app",o),ze(this).options&&ze(this).options.apiKey)o=te.SDK_VERSION?cu(te.SDK_VERSION):null,this.a=new Yr(ze(this).options&&ze(this).options.apiKey,Oe(qe),o);else throw new N("invalid-api-key");this.R=[],this.u=[],this.P=[],this.ac=te.INTERNAL.createSubscribe(A(this.yc,this)),this.X=void 0,this.bc=te.INTERNAL.createSubscribe(A(this.zc,this)),Su(this,null),this.l=new c_(ze(this).options.apiKey+":"+ze(this).name),this.G=new sV(ze(this).options.apiKey+":"+ze(this).name),this.$=vt(this,vV(this)),this.i=vt(this,gV(this)),this.ba=!1,this.pa=A(this.Yc,this),this.Ba=A(this.da,this),this.ya=A(this.kc,this),this.za=A(this.vc,this),this.Aa=A(this.wc,this),this.b=null,hV(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Fc,this),this.A=0,Tn.call(this),fV(this),this.N=[],this.f=null}P(Jr,Tn);function wk(o){Vn.call(this,"languageCodeChanged"),this.h=o}P(wk,Vn);function Ek(o){Vn.call(this,"emulatorConfigChanged"),this.c=o}P(Ek,Vn);function bk(o){Vn.call(this,"frameworkChanged"),this.f=o}P(bk,Vn),t=Jr.prototype,t.wb=function(o){return o=this.l.wb(o),vt(this,o)},t.wa=function(o){this.aa===o||this.m||(this.aa=o,tN(this.a,this.aa),this.dispatchEvent(new wk(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.fd=function(o){if(!this.f){if(!/^https?:\/\//.test(o))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");cV(),this.f={url:o},this.settings.hb=!0,gu(this.a,this.f),this.dispatchEvent(new Ek(this.f))}};function cV(){sC("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&Tp().then(function(){var o=c.document.createElement("div");o.innerText="Running in emulator mode. Do not use with production credentials.",o.style.position="fixed",o.style.width="100%",o.style.backgroundColor="#ffffff",o.style.border=".1em solid #000000",o.style.color="#ff0000",o.style.bottom="0px",o.style.left="0px",o.style.margin="0px",o.style.zIndex=1e4,o.style.textAlign="center",o.classList.add("firebase-emulator-warning"),c.document.body.appendChild(o)})}t.Fc=function(o){this.N.push(o),nN(this.a,te.SDK_VERSION?cu(te.SDK_VERSION,this.N):null),this.dispatchEvent(new bk(this.N))},t.Ga=function(){return Hi(this.N)},t.xb=function(o){this.W===o||this.m||(this.W=o,this.a.b=this.W)},t.S=function(){return this.W};function fV(o){Object.defineProperty(o,"lc",{get:function(){return this.ka()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.S()},set:function(u){this.xb(u)},enumerable:!1}),o.W=null}t.toJSON=function(){return{apiKey:ze(this).options.apiKey,authDomain:ze(this).options.authDomain,appName:ze(this).name,currentUser:me(this)&&me(this).w()}};function p_(o){return o.gb||rt(new N("auth-domain-config-required"))}function hV(o){var u=ze(o).options.authDomain,f=ze(o).options.apiKey;u&&Vs()&&(o.gb=o.$.then(function(){if(!o.m){if(o.b=YN(u,f,ze(o).name,o.f),$0(o.b,o),me(o)&&Hc(me(o)),o.o){Hc(o.o);var p=o.o;p.wa(o.ka()),Z0(p,o),p=o.o,qc(p,o.N),t_(p,o),p=o.o,gu(p.a,o.f),e_(p,o),o.o=null}return o.b}}))}t.Eb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==u&&!!this.g;default:return!1}},t.ma=function(o,u,f,p){o=="signInViaPopup"&&this.h==p&&(f&&this.O?this.O(f):u&&!f&&this.g&&this.g(u),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.h==u&&this.g?A(this.hc,this):null},t.hc=function(o,u,f,p){var m=this,w={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Zs(m,y0(m.a,w))})},t.Wc=function(o){if(!Vs())return rt(new N("operation-not-supported-in-this-environment"));var u=this,f=qy(o.providerId),p=Bs(),m=null;(!Sc()||ky())&&ze(this).options.authDomain&&o.isOAuthProvider&&(m=$c(ze(this).options.authDomain,ze(this).options.apiKey,ze(this).name,"signInViaPopup",o,null,p,te.SDK_VERSION||null,null,null,this.S(),this.f));var w=ZT(m,f&&f.ua,f&&f.ta);return f=p_(this).then(function(S){return HN(S,w,"signInViaPopup",o,p,!!m,u.S())}).then(function(){return new be(function(S,k){u.ma("signInViaPopup",null,new N("cancelled-popup-request"),u.h),u.g=S,u.O=k,u.h=p,u.c=KN(u.b,u,"signInViaPopup",w,p)})}).then(function(S){return w&&$s(w),S?Po(S):null}).s(function(S){throw w&&$s(w),S}),vt(this,f)},t.Xc=function(o){if(!Vs())return rt(new N("operation-not-supported-in-this-environment"));var u=this,f=p_(this).then(function(){return lV(u.l)}).then(function(){return GN(u.b,"signInViaRedirect",o,void 0,u.S())});return vt(this,f)};function Sk(o){if(!Vs())return rt(new N("operation-not-supported-in-this-environment"));var u=p_(o).then(function(){return o.b.qa()}).then(function(f){return f?Po(f):null});return vt(o,u)}t.qa=function(){var o=this;return Sk(this).then(function(u){return o.b&&td(o.b.b),u}).s(function(u){throw o.b&&td(o.b.b),u})},t.cd=function(o){if(!o)return rt(new N("null-user"));if(this.W!=o.tenantId)return rt(new N("tenant-id-mismatch"));var u=this,f={};f.apiKey=ze(this).options.apiKey,f.authDomain=ze(this).options.authDomain,f.appName=ze(this).name;var p=oV(o,f,u.G,u.Ga());return vt(this,this.i.then(function(){if(ze(u).options.apiKey!=o.l)return p.reload()}).then(function(){return me(u)&&o.uid==me(u).uid?(id(me(u),o),u.da(o)):(Su(u,p),Hc(p),u.da(p))}).then(function(){Kc(u)}))};function pV(o,u){var f={};return f.apiKey=ze(o).options.apiKey,f.authDomain=ze(o).options.authDomain,f.appName=ze(o).name,o.f&&(f.emulatorConfig=o.f),o.$.then(function(){return iV(f,u,o.G,o.Ga())}).then(function(p){return me(o)&&p.uid==me(o).uid?(id(me(o),p),o.da(p)):(Su(o,p),Hc(p),o.da(p))}).then(function(){Kc(o)})}function Su(o,u){me(o)&&(eV(me(o),o.Ba),nr(me(o),"tokenChanged",o.ya),nr(me(o),"userDeleted",o.za),nr(me(o),"userInvalidated",o.Aa),r_(me(o))),u&&(u.R.push(o.Ba),Sr(u,"tokenChanged",o.ya),Sr(u,"userDeleted",o.za),Sr(u,"userInvalidated",o.Aa),0<o.A&&ak(u)),ee(o,"currentUser",u),u&&(u.wa(o.ka()),Z0(u,o),qc(u,o.N),t_(u,o),gu(u.a,o.f),e_(u,o))}t.zb=function(){var o=this,u=this.i.then(function(){return o.b&&td(o.b.b),me(o)?(Su(o,null),yk(o.l).then(function(){Kc(o)})):se()});return vt(this,u)};function dV(o){var u=aV(o.G,ze(o).options.authDomain).then(function(f){return(o.o=f)&&(f.ha=o.G),gk(o.G)});return vt(o,u)}function vV(o){var u=ze(o).options.authDomain,f=dV(o).then(function(){return _k(o.l,u,o.f)}).then(function(p){return p?(p.ha=o.G,o.o&&(o.o.ga||null)==(p.ga||null)?p:p.reload().then(function(){return mk(o.l,p).then(function(){return p})}).s(function(m){return m.code=="auth/network-request-failed"?p:yk(o.l)})):null}).then(function(p){Su(o,p||null)});return vt(o,f)}function gV(o){return o.$.then(function(){return Sk(o)}).s(function(){}).then(function(){if(!o.m)return o.pa()}).s(function(){}).then(function(){if(!o.m){o.ba=!0;var u=o.l;u.b.addListener(Ti("local"),u.a,o.pa)}})}t.Yc=function(){var o=this;return _k(this.l,ze(this).options.authDomain).then(function(u){if(!o.m){var f;if(f=me(o)&&u){f=me(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return id(me(o),u),me(o).I();(me(o)||u)&&(Su(o,u),u&&(Hc(u),u.ha=o.G),o.b&&$0(o.b,o),Kc(o))}})},t.da=function(o){return mk(this.l,o)},t.kc=function(){Kc(this),this.da(me(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()};function Zs(o,u){var f=null,p=null;return vt(o,u.then(function(m){return f=Xy(m),p=CC(m),pV(o,m)},function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=rk(m.w(),o,A(o.jc,o))),w||m}).then(function(){return Po({user:me(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.jc=function(o){var u=this;return this.i.then(function(){return Zs(u,se(o))})},t.yc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(me(u))})},t.zc=function(o){var u=this;mV(this,function(){o.next(me(u))})},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(me(p)):typeof o.next=="function"&&o.next(me(p))}),this.ac(o,u,f)},t.Gc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(me(p)):typeof o.next=="function"&&o.next(me(p))}),this.bc(o,u,f)},t.mc=function(o){var u=this,f=this.i.then(function(){return me(u)?me(u).I(o).then(function(p){return{accessToken:p}}):null});return vt(this,f)},t.Sc=function(o){var u=this;return this.i.then(function(){return Zs(u,Se(u.a,Xj,{token:o}))}).then(function(f){var p=f.user;return Mo(p,"isAnonymous",!1),u.da(p),f})},t.Tc=function(o,u){var f=this;return this.i.then(function(){return Zs(f,Se(f.a,fN,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.i.then(function(){return Zs(f,Se(f.a,kj,{email:o,password:u}))})},t.Za=function(o){var u=this;return this.i.then(function(){return Zs(u,o.ja(u.a))})},t.Rc=function(o){return Oy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(o)},t.yb=function(){var o=this;return this.i.then(function(){var u=me(o);if(u&&u.isAnonymous){var f=Po({providerId:null,isNewUser:!1});return Po({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Zs(o,o.a.yb()).then(function(p){var m=p.user;return Mo(m,"isAnonymous",!0),o.da(m),p})})};function ze(o){return o.app}function me(o){return o.currentUser}t.getUid=function(){return me(this)&&me(this).uid||null};function sd(o){return me(o)&&me(o)._lat||null}function Kc(o){if(o.ba){for(var u=0;u<o.u.length;u++)o.u[u]&&o.u[u](sd(o));if(o.X!==o.getUid()&&o.P.length)for(o.X=o.getUid(),u=0;u<o.P.length;u++)o.P[u]&&o.P[u](sd(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.A++,0<this.A&&me(this)&&ak(me(this))},t.Oc=function(o){var u=this;Le(this.u,function(f){f==o&&u.A--}),0>this.A&&(this.A=0),this.A==0&&me(this)&&r_(me(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.u.push(o),vt(this,this.i.then(function(){u.m||qr(u.u,o)&&o(sd(u))}))},t.removeAuthTokenListener=function(o){tr(this.u,function(u){return u==o})};function mV(o,u){o.P.push(u),vt(o,o.i.then(function(){!o.m&&qr(o.P,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(sd(o)))}))}t.delete=function(){this.m=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.l&&(o=this.l,o.b.removeListener(Ti("local"),o.a,this.pa)),this.b&&(qN(this.b,this),td(this.b.b)),Promise.resolve()};function vt(o,u){return o.R.push(u),u.na(function(){nu(o.R,u)}),u}t.gc=function(o){return vt(this,_j(this.a,o))},t.Ac=function(o){return!!Yy(o)},t.vb=function(o,u){var f=this;return vt(this,se().then(function(){var p=new kp(u);if(!p.c)throw new N("argument-error",zy+" must be true when sending sign in link to email");return Ap(p)}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},t.hd=function(o){return this.Qa(o).then(function(u){return u.data.email})},t.mb=function(o,u){return vt(this,this.a.mb(o,u).then(function(){}))},t.Qa=function(o){return vt(this,this.a.Qa(o).then(function(u){return new R3(u)}))},t.ib=function(o){return vt(this,this.a.ib(o).then(function(){}))},t.ub=function(o,u){var f=this;return vt(this,se().then(function(){return typeof u=="undefined"||_i(u)?{}:Ap(new kp(u))}).then(function(p){return f.a.ub(o,p)}).then(function(){}))},t.Vc=function(o,u){return vt(this,W0(this,o,u,A(this.Za,this)))},t.Uc=function(o,u){var f=this;return vt(this,se().then(function(){var p=u||bc(),m=UC(o,p);if(p=Yy(p),!p)throw new N("argument-error","Invalid email link!");if(p.tenantId!==f.S())throw new N("tenant-id-mismatch");return f.Za(m)}))};function Qc(){}Qc.prototype.render=function(){},Qc.prototype.reset=function(){},Qc.prototype.getResponse=function(){},Qc.prototype.execute=function(){};function Iu(){this.a={},this.b=1e12}var d_=null;Iu.prototype.render=function(o,u){return this.a[this.b.toString()]=new ad(o,u),this.b++},Iu.prototype.reset=function(o){var u=v_(this,o);o=Ik(o),u&&o&&(u.delete(),delete this.a[o])},Iu.prototype.getResponse=function(o){return(o=v_(this,o))?o.getResponse():null},Iu.prototype.execute=function(o){(o=v_(this,o))&&o.execute()};function v_(o,u){return(u=Ik(u))&&o.a[u]||null}function Ik(o){return(o=typeof o=="undefined"?1e12:o)?o.toString():null}function ad(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=vc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Sr(this.f,"click",this.i)}ad.prototype.getResponse=function(){return g_(this),this.b},ad.prototype.execute=function(){g_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=I3();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},ad.prototype.delete=function(){g_(this),this.g=!0,clearTimeout(this.a),this.a=null,nr(this.f,"click",this.i)};function g_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function m_(){}ee(m_,"FACTOR_ID","phone");function y_(){}y_.prototype.g=function(){return d_||(d_=new Iu),se(d_)},y_.prototype.c=function(){};var __=null;function w_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yV=new wi(dc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_V=new Oo(3e4,6e4);w_.prototype.g=function(o){var u=this;return new be(function(f,p){var m=setTimeout(function(){p(new N("network-request-failed"))},_V.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var S=c.grecaptcha.render;c.grecaptcha.render=function(k,M){return k=S(k,M),u.b++,k},clearTimeout(m),f(c.grecaptcha)}else clearTimeout(m),p(new N("internal-error"));delete c[u.a]};var w=ey(yV,{onload:u.a,hl:o||""});se(f0(w)).s(function(){clearTimeout(m),p(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(c.grecaptcha)})},w_.prototype.c=function(){this.b--};var E_=null;function b_(o,u,f,p,m,w,S){if(ee(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=u,this.g=null,S?(__||(__=new y_),S=__):(E_||(E_=new w_),S=E_),this.v=S,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[Nk])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[wV]==="invisible",!c.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!vc(u)||!this.i&&vc(u).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Yr(o,w||null,m||null),this.u=p||function(){return null};var k=this;this.l=[];var M=this.a[Tk];this.a[Tk]=function(fe){if(kk(k,fe),typeof M=="function")M(fe);else if(typeof M=="string"){var Ue=it(M,c);typeof Ue=="function"&&Ue(fe)}};var $=this.a[Ck];this.a[Ck]=function(){if(kk(k,null),typeof $=="function")$();else if(typeof $=="string"){var fe=it($,c);typeof fe=="function"&&fe()}}}var Tk="callback",Ck="expired-callback",Nk="sitekey",wV="size";function kk(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function EV(o,u){tr(o.l,function(f){return f==u})}function S_(o,u){return o.h.push(u),u.na(function(){nu(o.h,u)}),u}t=b_.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=S_(this,se().then(function(){if(Cp()&&!Kr())return Tp();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.v.g(o.u())}).then(function(u){return o.g=u,Se(o.o,Bj,{})}).then(function(u){o.a[Nk]=u.recaptchaSiteKey}).s(function(u){throw o.f=null,u}))},t.render=function(){ud(this);var o=this;return S_(this,this.Ia().then(function(){if(o.c===null){var u=o.m;if(!o.i){var f=vc(u);u=HU("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){ud(this);var o=this;return S_(this,this.render().then(function(u){return new be(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(w){w&&(EV(o,m),f(w))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){ud(this),this.c!==null&&this.g.reset(this.c)};function ud(o){if(o.A)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){ud(this),this.A=!0,this.v.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=vc(this.m);for(var u;u=o.firstChild;)o.removeChild(u)}};function I_(o,u,f){var p=!1;try{this.b=f||te.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new N("invalid-api-key");var m=this,w=null;try{w=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=te.SDK_VERSION?cu(te.SDK_VERSION,w):null,b_.call(this,f,o,u,function(){try{var S=m.b.auth().ka()}catch{S=null}return S},w,Oe(qe),p)}P(I_,b_);function Ak(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,w=!1,S=0;S<u.length;S++)if(u[S].optional)w=!0;else{if(w)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(w=u.length,f.length<m||w<f.length)p="Expected "+(m==w?m==1?"1 argument":m+" arguments":m+"-"+w+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(w=u[m].optional&&f[m]===void 0,!u[m].K(f[m])&&!w){if(u=u[m],0>m||m>=Rk.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");f=Rk[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.J+".";break e}p=null}}if(p)throw new N("argument-error",o+" failed: "+p)}var Rk="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Z(o,u){return{name:o||"",J:"a valid string",optional:!!u,K:function(f){return typeof f=="string"}}}function T_(o,u){return{name:o||"",J:"a boolean",optional:!!u,K:function(f){return typeof f=="boolean"}}}function Dt(o,u){return{name:o||"",J:"a valid object",optional:!!u,K:E}}function Tu(o,u){return{name:o||"",J:"a function",optional:!!u,K:function(f){return typeof f=="function"}}}function Ci(o,u){return{name:o||"",J:"null",optional:!!u,K:function(f){return f===null}}}function bV(){return{name:"",J:"an HTML element",optional:!1,K:function(o){return!!(o&&o instanceof Element)}}}function SV(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(o){return!!(o&&o instanceof Jr)}}}function IV(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(o){return!!(o&&o instanceof te.app.App)}}}function Fo(o){return{name:o?o+"Credential":"credential",J:o?"a valid "+o+" credential":"a valid credential",optional:!1,K:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ja||!f)}}}function xk(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(o){return o?!!o.rb:!1}}}function Cu(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function C_(o,u){return E(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function Ok(o){return E(o)&&typeof o.uid=="string"}function ld(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function wt(o,u,f,p){return{name:f||"",J:o.J+" or "+u.J,optional:!!p,K:function(m){return o.K(m)||u.K(m)}}}function lt(o,u){for(var f in u){var p=u[f].name;o[p]=Dk(p,o[f],u[f].j)}}function Pk(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:L(function(m){return this[m]},f),set:L(function(m,w,S,k){Ak(m,[S],[k],!0),this[w]=k},p,f,u[f].jb),enumerable:!0})}}function Et(o,u,f,p){o[u]=Dk(u,f,p)}function Dk(o,u,f){function p(){var S=Array.prototype.slice.call(arguments);return Ak(m,f,S),u.apply(this,S)}if(!f)return u;var m=TV(o),w;for(w in u)p[w]=u[w];for(w in u.prototype)p.prototype[w]=u.prototype[w];return p}function TV(o){return o=o.split("."),o[o.length-1]}lt(Jr.prototype,{ib:{name:"applyActionCode",j:[Z("code")]},Qa:{name:"checkActionCode",j:[Z("code")]},mb:{name:"confirmPasswordReset",j:[Z("code"),Z("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Z("email"),Z("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Z("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Z("emailLink")]},Gc:{name:"onAuthStateChanged",j:[wt(Dt(),Tu(),"nextOrObserver"),Tu("opt_error",!0),Tu("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[wt(Dt(),Tu(),"nextOrObserver"),Tu("opt_error",!0),Tu("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Z("email"),wt(Dt("opt_actionCodeSettings",!0),Ci(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Z("email"),Dt("actionCodeSettings")]},wb:{name:"setPersistence",j:[Z("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Fo()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Fo()]},Sc:{name:"signInWithCustomToken",j:[Z("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Z("email"),Z("password")]},Uc:{name:"signInWithEmailLink",j:[Z("email"),Z("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Z("phoneNumber"),ld()]},Wc:{name:"signInWithPopup",j:[Cu()]},Xc:{name:"signInWithRedirect",j:[Cu()]},cd:{name:"updateCurrentUser",j:[wt(function(o){return{name:"user",J:"an instance of Firebase User",optional:!!o,K:function(u){return!!(u&&u instanceof or)}}}(),Ci(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Z(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Z("url")]},hd:{name:"verifyPasswordResetCode",j:[Z("code")]}}),Pk(Jr.prototype,{lc:{name:"languageCode",jb:wt(Z(),Ci(),"languageCode")},ti:{name:"tenantId",jb:wt(Z(),Ci(),"tenantId")}}),Jr.Persistence=yu,Jr.Persistence.LOCAL="local",Jr.Persistence.SESSION="session",Jr.Persistence.NONE="none",lt(or.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[T_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[T_("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Fo()]},pb:{name:"linkWithCredential",j:[Fo()]},Cc:{name:"linkWithPhoneNumber",j:[Z("phoneNumber"),ld()]},Dc:{name:"linkWithPopup",j:[Cu()]},Ec:{name:"linkWithRedirect",j:[Cu()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fo()]},sb:{name:"reauthenticateWithCredential",j:[Fo()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Z("phoneNumber"),ld()]},Mc:{name:"reauthenticateWithPopup",j:[Cu()]},Nc:{name:"reauthenticateWithRedirect",j:[Cu()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[wt(Dt("opt_actionCodeSettings",!0),Ci(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Z(null,!0)]},bd:{name:"unlink",j:[Z("provider")]},Ab:{name:"updateEmail",j:[Z("email")]},Bb:{name:"updatePassword",j:[Z("password")]},dd:{name:"updatePhoneNumber",j:[Fo("phone")]},Cb:{name:"updateProfile",j:[Dt("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Z("email"),wt(Dt("opt_actionCodeSettings",!0),Ci(null,!0),"opt_actionCodeSettings",!0)]}}),lt(Iu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lt(Qc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lt(be.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Pk(ek.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:T_("appVerificationDisabledForTesting")}}),lt(z0.prototype,{confirm:{name:"confirm",j:[Z("verificationCode")]}}),Et(pu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[K3,Q3,Y3,G3],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[wt(Z(),Dt(),"json")]),Et(Tr,"credential",function(o,u){return new Do(o,u)},[Z("email"),Z("password")]),lt(Do.prototype,{w:{name:"toJSON",j:[Z(null,!0)]}}),lt(qs.prototype,{Ca:{name:"addScope",j:[Z("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Et(qs,"credential",DC,[wt(Z(),Dt(),"token")]),Et(Tr,"credentialWithLink",UC,[Z("email"),Z("emailLink")]),lt(Hs.prototype,{Ca:{name:"addScope",j:[Z("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Et(Hs,"credential",LC,[wt(Z(),Dt(),"token")]),lt(Gs.prototype,{Ca:{name:"addScope",j:[Z("scope")]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Et(Gs,"credential",MC,[wt(Z(),wt(Dt(),Ci()),"idToken"),wt(Z(),Ci(),"accessToken",!0)]),lt(vu.prototype,{Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),Et(vu,"credential",FC,[wt(Z(),Dt(),"token"),Z("secret",!0)]),lt(ir.prototype,{Ca:{name:"addScope",j:[Z("scope")]},credential:{name:"credential",j:[wt(Z(),wt(Dt(),Ci()),"optionsOrIdToken"),wt(Z(),Ci(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dt("customOAuthParameters")]}}),lt(Xi.prototype,{w:{name:"toJSON",j:[Z(null,!0)]}}),lt(zs.prototype,{w:{name:"toJSON",j:[Z(null,!0)]}}),Et(Ji,"credential",jC,[Z("verificationId"),Z("verificationCode")]),lt(Ji.prototype,{eb:{name:"verifyPhoneNumber",j:[wt(Z(),function(o,u){return{name:o||"phoneInfoOptions",J:"valid phone info options",optional:!!u,K:function(f){return f?f.session&&f.phoneNumber?C_(f.session,Ac)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?C_(f.session,Dp)&&Ok(f.multiFactorHint):f.session&&f.multiFactorUid?C_(f.session,Dp)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),ld()]}}),lt(Lo.prototype,{w:{name:"toJSON",j:[Z(null,!0)]}}),lt(N.prototype,{toJSON:{name:"toJSON",j:[Z(null,!0)]}}),lt(xc.prototype,{toJSON:{name:"toJSON",j:[Z(null,!0)]}}),lt(e0.prototype,{toJSON:{name:"toJSON",j:[Z(null,!0)]}}),lt(H0.prototype,{toJSON:{name:"toJSON",j:[Z(null,!0)]}}),lt(q0.prototype,{Qc:{name:"resolveSignIn",j:[xk()]}}),lt(K0.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[xk(),Z("displayName",!0)]},ad:{name:"unenroll",j:[wt({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ok},Z(),"multiFactorInfoIdentifier")]}}),lt(I_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Et(By,"parseLink",gC,[Z("link")]),Et(m_,"assertion",function(o){return new ok(o)},[Fo("phone")]),function(){if(typeof te!="undefined"&&te.INTERNAL&&te.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Np,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Vy,VERIFY_AND_CHANGE_EMAIL:Nc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jr,AuthCredential:pu,Error:N};Et(o,"EmailAuthProvider",Tr,[]),Et(o,"FacebookAuthProvider",qs,[]),Et(o,"GithubAuthProvider",Hs,[]),Et(o,"GoogleAuthProvider",Gs,[]),Et(o,"TwitterAuthProvider",vu,[]),Et(o,"OAuthProvider",ir,[Z("providerId")]),Et(o,"SAMLAuthProvider",PC,[Z("providerId")]),Et(o,"PhoneAuthProvider",Ji,[SV()]),Et(o,"RecaptchaVerifier",I_,[wt(Z(),bV(),"recaptchaContainer"),Dt("recaptchaParameters",!0),IV()]),Et(o,"ActionCodeURL",By,[]),Et(o,"PhoneMultiFactorGenerator",m_,[]),te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Jr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:A(u.getUid,u),getToken:A(u.mc,u),addAuthTokenListener:A(u.cc,u),removeAuthTokenListener:A(u.Oc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.registerVersion("@firebase/auth","0.15.0"),te.INTERNAL.extendNamespace({User:or})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w8=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Kt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ch(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E8=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return er(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w8(e)}}catch{}return new E8},ca=rL("localStorage"),XE=rL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl=new Ql("@firebase/database"),iL=function(){var t=1;return function(){return t++}}(),oL=function(t){var e=$G(t),n=new MG;n.update(e);var r=n.digest();return Zb.encodeByteArray(r)},$h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=$h.apply(null,i):typeof i=="object"?n+=Kt(i):n+=i,n+=" "}return n},ga=null,AR=!0,sL=function(t,e){z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fl.logLevel=pe.VERBOSE,ga=fl.log.bind(fl),e&&XE.set("logging_enabled",!0)):typeof t=="function"?ga=t:(ga=null,XE.remove("logging_enabled"))},on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(AR===!0&&(AR=!1,ga===null&&XE.get("logging_enabled")===!0&&sL(!0)),ga){var n=$h.apply(null,t);ga(n)}},Vh=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];on.apply(void 0,ko([t],e))}},JE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+$h.apply(void 0,ko(t));fl.error(n)},co=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+$h.apply(void 0,ko(t));throw fl.error(n),new Error(n)},mn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+$h.apply(void 0,ko(t));fl.warn(n)},b8=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},S8=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ka="[MIN_NAME]",ds="[MAX_NAME]",za=function(t,e){if(t===e)return 0;if(t===ka||e===ds)return-1;if(e===ka||t===ds)return 1;var n=RR(t),r=RR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},I8=function(t,e){return t===e?0:t<e?-1:1},lf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Kt(e))},sS=function(t){if(typeof t!="object"||t===null)return Kt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Kt(e[i]),r+=":",r+=sS(t[e[i]]);return r+="}",r},aL=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ut(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var uL=function(t){z(!hm(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,l,c;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),g="";for(c=0;c<64;c+=8){var v=parseInt(d.substr(c,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},T8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},N8=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},k8=new RegExp("^-?(0*)\\d{1,10}$"),RR=function(t){if(k8.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Yl=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw mn("Exception was thrown by user callback.",n),e},Math.floor(0))}},A8=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=za(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),R8=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=cv(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=cv(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=cv(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aS="5",lL="v",cL="s",fL="r",hL="f",pL="firebaseio.com",dL="ls",x8="p",vL="websocket",gL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mL=function(){function t(e,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ca.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ca.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");var r;if(e===vL)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===gL)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return Ut(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function P8(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=St(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):mn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var ZE=function(t,e){var n=D8(t),r=n.namespace;n.domain==="firebase.com"&&co(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&co("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||b8();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mL(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new K(n.pathString)}},D8=function(t){var e="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(l=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(d,g)),d<g&&(i=O8(t.substring(d,g)));var v=P8(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in v&&(s=v.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8=/[\[\].#$\/\u0000-\u001F\u007F]/,M8=/[\[\].#$\u0000-\u001F\u007F]/,rw=10*1024*1024,pm=function(t){return typeof t=="string"&&t.length!==0&&!L8.test(t)},yL=function(t){return typeof t=="string"&&t.length!==0&&!M8.test(t)},F8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yL(t)},fh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hm(t)||t&&typeof t=="object"&&er(t,".sv")},ss=function(t,e,n,r,i){i&&n===void 0||Bh(Vr(t,e,i),n,r)},Bh=function(t,e,n){var r=n instanceof K?new R8(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(hm(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>rw/3&&cv(e)>rw)throw new Error(t+"contains a string greater than "+rw+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(Ut(e,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!pm(a)))throw new Error(t+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),Bh(t,l,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},U8=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!pm(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(K.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},_L=function(t,e,n,r,i){if(!(i&&n===void 0)){var s=Vr(t,e,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];Ut(n,function(l,c){var h=new K(l);if(Bh(s,c,r.child(h)),h.getBack()===".priority"&&!fh(c))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),U8(s,a)}},e1=function(t,e,n,r){if(!(r&&n===void 0)){if(hm(n))throw new Error(Vr(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fh(n))throw new Error(Vr(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},iw=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Vr(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ow=function(t,e,n,r){if(!(r&&n===void 0)&&!pm(n))throw new Error(Vr(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},hh=function(t,e,n,r){if(!(r&&n===void 0)&&!yL(n))throw new Error(Vr(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},j8=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hh(t,e,n,r)},Nr=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},wL=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!pm(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!F8(r))throw new Error(Vr(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},$8=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Vr(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V8=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){ce("OnDisconnect.cancel",0,1,arguments.length),Gt("OnDisconnect.cancel",1,e,!0);var n=new Or;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){ce("OnDisconnect.remove",0,1,arguments.length),Nr("OnDisconnect.remove",this.path_),Gt("OnDisconnect.remove",1,e,!0);var n=new Or;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){ce("OnDisconnect.set",1,2,arguments.length),Nr("OnDisconnect.set",this.path_),ss("OnDisconnect.set",1,e,this.path_,!1),Gt("OnDisconnect.set",2,n,!0);var r=new Or;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){ce("OnDisconnect.setWithPriority",2,3,arguments.length),Nr("OnDisconnect.setWithPriority",this.path_),ss("OnDisconnect.setWithPriority",1,e,this.path_,!1),e1("OnDisconnect.setWithPriority",2,n,!1),Gt("OnDisconnect.setWithPriority",3,r,!0);var i=new Or;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,i.wrapCallback(r)),i.promise},t.prototype.update=function(e,n){if(ce("OnDisconnect.update",1,2,arguments.length),Nr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,mn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_L("OnDisconnect.update",1,e,this.path_,!1),Gt("OnDisconnect.update",2,n,!0);var s=new Or;return this.repo_.onDisconnectUpdate(this.path_,e,s.wrapCallback(n)),s.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B8=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return ce("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z8=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var s,a=new Array(8);for(s=7;s>=0;s--)a[s]=t.charAt(r%64),r=Math.floor(r/64);z(r===0,"Cannot push at time == 0");var l=a.join("");if(i){for(s=11;s>=0&&n[s]===63;s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=t.charAt(n[s]);return z(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dm=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Ie(ka,e),i=new Ie(ka,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Ie.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd,EL=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return xd},set:function(n){xd=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return za(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Kl("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Ie.MIN},e.prototype.maxPost=function(){return new Ie(ds,xd)},e.prototype.makePost=function(n,r){return z(typeof n=="string","KeyIndex indexValue must always be a string."),new Ie(n,xd)},e.prototype.toString=function(){return".key"},e}(dm),as=new EL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t1;function W8(t){t1=t}var bL=function(t){return typeof t=="number"?"number:"+uL(t):"string:"+t},SL=function(t){if(t.isLeafNode()){var e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&er(e,".sv"),"Priority must be a string or number.")}else z(t===t1||t.isEmpty(),"priority of unexpected type.");z(t===t1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xR,Al=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SL(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return xR},set:function(e){xR=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+bL(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=uL(this.value_):e+=this.value_,this.lazyHash_=oL(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL,TL;function q8(t){IL=t}function H8(t){TL=t}var G8=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?za(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Ie.MIN},e.prototype.maxPost=function(){return new Ie(ds,new Al("[PRIORITY-POST]",TL))},e.prototype.makePost=function(n,r){var i=IL(n);return new Ie(r,new Al("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(dm),We=new G8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),ri=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:fo.EMPTY_NODE,this.right=s!=null?s:fo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return fo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return fo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),K8=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new ri(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),fo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Od(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Od(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Od(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Od(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new K8,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q8=Math.log(2),Y8=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/Q8,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Gv=function(t,e,n,r){t.sort(e);var i=function(c,h){var d=h-c,g,v;if(d===0)return null;if(d===1)return g=t[c],v=n?n(g):g,new ri(v,g.node,ri.BLACK,null,null);var y=parseInt(d/2,10)+c,_=i(c,y),E=i(y+1,h);return g=t[y],v=n?n(g):g,new ri(v,g.node,ri.BLACK,_,E)},s=function(c){for(var h=null,d=null,g=t.length,v=function(b,I){var T=g-b,R=g;g-=b;var A=i(T+1,R),L=t[T],F=n?n(L):L;y(new ri(F,L.node,I,null,A))},y=function(b){h?(h.left=b,h=b):(d=b,h=b)},_=0;_<c.count;++_){var E=c.nextBitIsOne(),C=Math.pow(2,c.count-(_+1));E?v(C,ri.BLACK):(v(C,ri.BLACK),v(C,ri.RED))}return d},a=new Y8(t.length),l=s(a);return new fo(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw,Pu={},Kv=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return z(Pu&&We,"ChildrenNode.ts has not been loaded"),sw=sw||new t({".priority":Pu},{".priority":We}),sw},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=li(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fo?n:null},t.prototype.hasIndex=function(e){return er(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){z(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ie.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Gv(r,e.getCompare()):l=Pu;var c=e.toString(),h=nt({},this.indexSet_);h[c]=e;var d=nt({},this.indexes_);return d[c]=l,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=qv(this.indexes_,function(s,a){var l=li(r.indexSet_,a);if(z(l,"Missing index implementation for "+a),s===Pu)if(l.isDefinedOn(e.node)){for(var c=[],h=n.getIterator(Ie.Wrap),d=h.getNext();d;)d.name!==e.name&&c.push(d),d=h.getNext();return c.push(e),Gv(c,l.getCompare())}else return Pu;else{var g=n.get(e.name),v=s;return g&&(v=v.remove(new Ie(e.name,g))),v.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=qv(this.indexes_,function(i){if(i===Pu)return i;var s=n.get(e.name);return s?i.remove(new Ie(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e){return za(t.name,e.name)}function uS(t,e){return za(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf,de=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SL(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return cf||(cf=new t(new fo(uS),null,Kv.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||cf},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?cf:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Ie(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?cf:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;z(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(We,function(c,h){n[c]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!e&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+bL(this.getPriority().val())+":"),this.forEachChild(We,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":oL(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zh?-1:0},t.prototype.withIndex=function(e){if(e===as||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===as||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(We),i=n.getIterator(We),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===as?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),J8=function(t){re(e,t);function e(){return t.call(this,new fo(uS),de.EMPTY_NODE,Kv.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return de.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(de),zh=new J8;Object.defineProperties(Ie,{MIN:{value:new Ie(ka,de.EMPTY_NODE)},MAX:{value:new Ie(ds,zh)}});EL.__EMPTY_NODE=de.EMPTY_NODE;Al.__childrenNodeConstructor=de;W8(zh);H8(zh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z8=!0;function gt(t,e){if(e===void 0&&(e=null),t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Al(n,gt(e))}if(!(t instanceof Array)&&Z8){var r=[],i=!1,s=t;if(Ut(s,function(h,d){if(h.substring(0,1)!=="."){var g=gt(d);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),r.push(new Ie(h,g)))}}),r.length===0)return de.EMPTY_NODE;var a=Gv(r,X8,function(h){return h.name},uS);if(i){var l=Gv(r,We.getCompare());return new de(a,gt(e),new Kv({".priority":l},{".priority":We}))}else return new de(a,gt(e),Kv.Default)}else{var c=de.EMPTY_NODE;return Ut(t,function(h,d){if(er(t,h)&&h.substring(0,1)!=="."){var g=gt(d);(g.isLeafNode()||!g.isEmpty())&&(c=c.updateImmediateChild(h,g))}}),c.updatePriority(gt(e))}}q8(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?za(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Ie.MIN},e.prototype.maxPost=function(){return Ie.MAX},e.prototype.makePost=function(n,r){var i=gt(n);return new Ie(r,i)},e.prototype.toString=function(){return".value"},e}(dm),n1=new eK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r1=function(t){re(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,z(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?za(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=gt(n),s=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(r,s)},e.prototype.maxPost=function(){var n=de.EMPTY_NODE.updateChild(this.indexPath_,zh);return new Ie(ds,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(dm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return ce("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return ce("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return ce("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return ce("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){ce("DataSnapshot.child",0,1,arguments.length),e=String(e),hh("DataSnapshot.child",1,e,!1);var n=new K(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,We)},t.prototype.hasChild=function(e){ce("DataSnapshot.hasChild",1,1,arguments.length),hh("DataSnapshot.hasChild",1,e,!1);var n=new K(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return ce("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(ce("DataSnapshot.forEach",1,1,arguments.length),Gt("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return e(new t(s,n.ref_.child(i),We))})},t.prototype.hasChildren=function(){return ce("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return ce("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return ce("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Kt(this.snapshot.exportVal())},t}(),NL=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OR=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new CL("value",this,new Xl(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){z(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callback_;return function(){i.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new NL(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),PR=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,er(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new NL(this,e,n):null},t.prototype.createEvent=function(e,n){z(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),i=n.getQueryParams().getIndex();return new CL(e.type,this,new Xl(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){z(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callbacks_[e.eventType];return function(){i.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var l=r[0],c=i[0];return c===l&&(!e.callbacks_[l]||!this.callbacks_[c]||e.callbacks_[l]===this.callbacks_[c])}else return i.every(function(h){return e.callbacks_[h]===n.callbacks_[h]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aw,lS=function(){function t(e,n,r,i){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return z(aw,"Reference.ts has not been loaded"),aw},set:function(e){aw=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===as){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==ka)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var l=e.getIndexEndName();if(l!==ds)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===We){if(n!=null&&!fh(n)||r!=null&&!fh(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(e.getIndex()instanceof r1||e.getIndex()===n1,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return ce("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){ce("Query.on",2,4,arguments.length),iw("Query.on",1,e,!1),Gt("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if(e==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(e,n,r){var i=new OR(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(e,n,r){var i=new PR(e,n,r);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(e,n,r){ce("Query.off",0,3,arguments.length),iw("Query.off",1,e,!0),Gt("Query.off",2,n,!0),NR("Query.off",3,r,!0);var i=null,s=null;if(e==="value"){var a=n||null;i=new OR(a,null,r||null)}else e&&(n&&(s={},s[e]=n),i=new PR(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,r,i){var s=this;ce("Query.once",1,4,arguments.length),iw("Query.once",1,e,!1),Gt("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=!0,c=new Or;c.promise.catch(function(){});var h=function(d){l&&(l=!1,s.off(e,h),n&&n.bind(a.context)(d),c.resolve(d))};return this.on(e,h,function(d){s.off(e,h),a.cancel&&a.cancel.bind(a.context)(d),c.reject(d)}),c.promise},t.prototype.limitToFirst=function(e){if(ce("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(ce("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(ce("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');hh("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new K(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new r1(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){ce("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(as);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){ce("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(We);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){ce("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(n1);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),ce("Query.startAt",0,2,arguments.length),ss("Query.startAt",1,e,this.path,!0),ow("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),ce("Query.endAt",0,2,arguments.length),ss("Query.endAt",1,e,this.path,!0),ow("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(ce("Query.equalTo",1,2,arguments.length),ss("Query.equalTo",1,e,this.path,!1),ow("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return ce("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return ce("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=sS(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(ce("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,Gt(e,3,i.cancel,!0),i.context=r,NR(e,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Vr(e,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tK=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),nK=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),rK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},DR=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return oK(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},oK=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);var i=e.node();if(z(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},LR=function(t,e,n,r){return fS(e,new nK(n,t),r)},cS=function(t,e,n){return fS(t,new tK(e),n)};function fS(t,e,n){var r=t.getPriority().val(),i=DR(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,l=DR(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Al(l,gt(i)):t}else{var c=t;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new Al(i))),c.forEachChild(We,function(h,d){var g=fS(d,e.getImmediateChild(h),n);g!==d&&(s=s.updateImmediateChild(h,g))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(We,function(a,l){r.remember(new K(a),l)}),this.forget(e)}else if(this.children.size>0){var i=e.getFront();if(e=e.popFront(),this.children.has(i)){var s=this.children.get(i).forget(e);s&&this.children.delete(i)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,i){var s=new K(e.toString()+"/"+r);i.forEachTree(s,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ci||(ci={}));var no=function(){function t(e,n,r,i){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=i,z(!i||n,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sK=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ci.ACK_USER_WRITE,this.source=no.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new K(e));return new t(K.Empty,n,this.revert)}else return z(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lw,aK=function(){return lw||(lw=new fo(I8)),lw},cr=function(){function t(e,n){n===void 0&&(n=aK()),this.value=e,this.children=n}return t.fromObject=function(e){var n=t.Empty;return Ut(e,function(r,i){n=n.set(new K(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:K.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(e.popFront(),n);if(s!=null){var a=new K(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,s=i.set(e.popFront(),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?t.Empty:new t(this.value,s)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,s=i.setTree(e.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(K.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(e.child(i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,K.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(e.isEmpty())return null;var s=e.getFront(),a=this.children.get(s);return a?a.findOnPath_(e.popFront(),n.child(s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,K.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(e){this.foreach_(K.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t.Empty=new t(null),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MR=function(){function t(e,n){this.source=e,this.path=n,this.type=ci.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ci.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,K.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cw=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ci.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new hv(this.source,K.Empty,n.value):new t(this.source,K.Empty,n)}else return z(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ho(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ho(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ho(de.EMPTY_NODE,!1,!1),new ho(de.EMPTY_NODE,!1,!1)),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){function t(e,n,r,i,s){this.type=e,this.snapshotNode=n,this.childName=r,this.oldSnap=i,this.prevName=s}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hS=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(we.childRemovedChange(n,l)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(we.childAddedChange(n,r)):a.trackChildChange(we.childChangedChange(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(We,function(i,s){n.hasChild(i)||r.trackChildChange(we.childRemovedChange(i,s))}),n.isLeafNode()||n.forEachChild(We,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(we.childChangedChange(i,s,a))}else r.trackChildChange(we.childAddedChange(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uK=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;z(n===we.CHILD_ADDED||n===we.CHILD_CHANGED||n===we.CHILD_REMOVED,"Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n===we.CHILD_ADDED&&s===we.CHILD_REMOVED)this.changeMap.set(r,we.childChangedChange(r,e.snapshotNode,i.snapshotNode));else if(n===we.CHILD_REMOVED&&s===we.CHILD_ADDED)this.changeMap.delete(r);else if(n===we.CHILD_REMOVED&&s===we.CHILD_CHANGED)this.changeMap.set(r,we.childRemovedChange(r,i.oldSnap));else if(n===we.CHILD_CHANGED&&s===we.CHILD_ADDED)this.changeMap.set(r,we.childAddedChange(r,e.snapshotNode));else if(n===we.CHILD_CHANGED&&s===we.CHILD_CHANGED)this.changeMap.set(r,we.childChangedChange(r,e.snapshotNode,i.oldSnap));else throw Kl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lK=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),FR=new lK,fw=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ho(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),fK=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){z(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),z(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s=new uK,a,l;if(n.type===ci.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,s):(z(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,l,s))}else if(n.type===ci.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(e,h.path,h.children,r,i,s):(z(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,h.path,h.children,r,i,l,s))}else if(n.type===ci.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(e,d.path,r,i,s):a=this.ackUserWrite_(e,d.path,d.affectedTree,r,i,s)}else if(n.type===ci.LISTEN_COMPLETE)a=this.listenComplete_(e,n.path,r,s);else throw Kl("Unknown operation type: "+n.type);var g=s.getChanges();return t.maybeAddValueEvent_(e,a,g),new cK(a,g)},t.maybeAddValueEvent_=function(e,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(we.valueChange(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,i,s){var a=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var l=void 0,c=void 0;if(n.isEmpty())if(z(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var h=e.getCompleteServerSnap(),d=h instanceof de?h:de.EMPTY_NODE,g=r.calcCompleteEventChildren(d);l=this.filter_.updateFullNode(e.getEventCache().getNode(),g,s)}else{var v=r.calcCompleteEventCache(e.getCompleteServerSnap());l=this.filter_.updateFullNode(e.getEventCache().getNode(),v,s)}else{var y=n.getFront();if(y===".priority"){z(n.getLength()===1,"Can't have a priority with additional path components");var _=a.getNode();c=e.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,_,c);E!=null?l=this.filter_.updatePriority(_,E):l=a.getNode()}else{var C=n.popFront(),b=void 0;if(a.isCompleteForChild(y)){c=e.getServerCache().getNode();var I=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),c);I!=null?b=a.getNode().getImmediateChild(y).updateChild(C,I):b=a.getNode().getImmediateChild(y)}else b=r.calcCompleteChild(y,e.getServerCache());b!=null?l=this.filter_.updateChild(a.getNode(),y,b,C,i,s):l=a.getNode()}}return e.updateEventSnap(l,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,i,s,a,l){var c=e.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var g=c.getNode().updateChild(n,r);h=d.updateFullNode(c.getNode(),g,null)}else{var v=n.getFront();if(!c.isCompleteForPath(n)&&n.getLength()>1)return e;var y=n.popFront(),_=c.getNode().getImmediateChild(v),E=_.updateChild(y,r);v===".priority"?h=d.updatePriority(c.getNode(),E):h=d.updateChild(c.getNode(),v,E,y,FR,null)}var C=e.updateServerSnap(h,c.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),b=new fw(i,C,s);return this.generateEventCacheAfterServerEvent_(C,n,i,b,l)},t.prototype.applyUserOverwrite_=function(e,n,r,i,s,a){var l=e.getEventCache(),c,h,d=new fw(i,e,s);if(n.isEmpty())h=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a),c=e.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var g=n.getFront();if(g===".priority")h=this.filter_.updatePriority(e.getEventCache().getNode(),r),c=e.updateEventSnap(h,l.isFullyInitialized(),l.isFiltered());else{var v=n.popFront(),y=l.getNode().getImmediateChild(g),_=void 0;if(v.isEmpty())_=r;else{var E=d.getCompleteChild(g);E!=null?v.getBack()===".priority"&&E.getChild(v.parent()).isEmpty()?_=E:_=E.updateChild(v,r):_=de.EMPTY_NODE}if(y.equals(_))c=e;else{var C=this.filter_.updateChild(l.getNode(),g,_,v,d,a);c=e.updateEventSnap(C,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return c},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,i,s,a){var l=this,c=e;return r.foreach(function(h,d){var g=n.child(h);t.cacheHasChild_(e,g.getFront())&&(c=l.applyUserOverwrite_(c,g,d,i,s,a))}),r.foreach(function(h,d){var g=n.child(h);t.cacheHasChild_(e,g.getFront())||(c=l.applyUserOverwrite_(c,g,d,i,s,a))}),c},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e},t.prototype.applyServerMerge_=function(e,n,r,i,s,a,l){var c=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var h=e,d;n.isEmpty()?d=r:d=cr.Empty.setTree(n,r);var g=e.getServerCache().getNode();return d.children.inorderTraversal(function(v,y){if(g.hasChild(v)){var _=e.getServerCache().getNode().getImmediateChild(v),E=c.applyMerge_(_,y);h=c.applyServerOverwrite_(h,new K(v),E,i,s,a,l)}}),d.children.inorderTraversal(function(v,y){var _=!e.getServerCache().isCompleteForChild(v)&&y.value==null;if(!g.hasChild(v)&&!_){var E=e.getServerCache().getNode().getImmediateChild(v),C=c.applyMerge_(E,y);h=c.applyServerOverwrite_(h,new K(v),C,i,s,a,l)}}),h},t.prototype.ackUserWrite_=function(e,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return e;var l=e.getServerCache().isFiltered(),c=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&c.isFullyInitialized()||c.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,c.getNode().getChild(n),i,s,l,a);if(n.isEmpty()){var h=cr.Empty;return c.getNode().forEachChild(as,function(g,v){h=h.set(new K(g),v)}),this.applyServerMerge_(e,n,h,i,s,l,a)}else return e}else{var d=cr.Empty;return r.foreach(function(g,v){var y=n.child(g);c.isCompleteForPath(y)&&(d=d.set(g,c.getNode().getChild(y)))}),this.applyServerMerge_(e,n,d,i,s,l,a)}},t.prototype.listenComplete_=function(e,n,r,i){var s=e.getServerCache(),a=e.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,FR,i)},t.prototype.revertUserWrite_=function(e,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return e;var l=new fw(r,e,i),c=e.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(e.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var g=e.getServerCache().getNode();z(g instanceof de,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(g)}d=d,h=this.filter_.updateFullNode(c,d,s)}else{var v=n.getFront(),y=r.calcCompleteChild(v,e.getServerCache());y==null&&e.getServerCache().isCompleteForChild(v)&&(y=c.getImmediateChild(v)),y!=null?h=this.filter_.updateChild(c,v,y,n.popFront(),l,s):e.getEventCache().getNode().hasChild(v)?h=this.filter_.updateChild(c,v,de.EMPTY_NODE,n.popFront(),l,s):h=c,h.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=e.getServerCache().isFullyInitialized()||r.shadowingWrite(K.Empty)!=null,e.updateEventSnap(h,a,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hK=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var i=this,s=[],a=[];return e.forEach(function(l){l.type===we.CHILD_CHANGED&&i.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(we.childMovedChange(l.childName,l.snapshotNode))}),this.generateEventsForType_(s,we.CHILD_REMOVED,e,r,n),this.generateEventsForType_(s,we.CHILD_ADDED,e,r,n),this.generateEventsForType_(s,we.CHILD_MOVED,a,r,n),this.generateEventsForType_(s,we.CHILD_CHANGED,e,r,n),this.generateEventsForType_(s,we.VALUE,e,r,n),s},t.prototype.generateEventsForType_=function(e,n,r,i,s){var a=this,l=r.filter(function(c){return c.type===n});l.sort(this.compareChanges_.bind(this)),l.forEach(function(c){var h=a.materializeSingleChange_(c,s);i.forEach(function(d){d.respondsTo(c.type)&&e.push(d.createEvent(h,a.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw Kl("Should only compare child_ events.");var r=new Ie(e.childName,e.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return this.index_.compare(r,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pK=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new hS(r.getIndex()),s=r.getNodeFilter();this.processor_=new fK(s);var a=n.getServerCache(),l=n.getEventCache(),c=i.updateFullNode(de.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(de.EMPTY_NODE,l.getNode(),null),d=new ho(c,a.isFullyInitialized(),i.filtersNodes()),g=new ho(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=new kL(g,d),this.eventGenerator_=new hK(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){z(e==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(c){n=n;var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var l=this.eventRegistrations_[a];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===ci.MERGE&&e.source.queryId!==null&&(z(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),z(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,e,n,r);return this.processor_.assertIndexed(s.viewCache),z(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(We,function(s,a){r.push(we.childAddedChange(s,a))})}return n.isFullyInitialized()&&r.push(we.valueChange(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd,AL=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return z(Pd,"Reference.ts has not been loaded"),Pd},set:function(e){z(!Pd,"__referenceConstructor has already been defined"),Pd=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var i,s,a=e.source.queryId;if(a!==null){var l=this.views.get(a);return z(l!=null,"SyncTree gave us an op for an invalid query."),l.applyOperation(e,n,r)}else{var c=[];try{for(var h=St(this.views.values()),d=h.next();!d.done;d=h.next()){var l=d.value;c=c.concat(l.applyOperation(e,n,r))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}},t.prototype.addEventRegistration=function(e,n,r,i,s){var a=e.queryIdentifier(),l=this.views.get(a);if(!l){var c=r.calcCompleteEventCache(s?i:null),h=!1;c?h=!0:i instanceof de?(c=r.calcCompleteEventChildren(i),h=!1):(c=de.EMPTY_NODE,h=!1);var d=new kL(new ho(c,h,!1),new ho(i,s,!1));l=new pK(e,d),this.views.set(a,l)}return l.addEventRegistration(n),l.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),l=[],c=[],h=this.hasCompleteView();if(a==="default")try{for(var d=St(this.views.entries()),g=d.next();!g.done;g=d.next()){var v=uh(g.value,2),y=v[0],_=v[1];c=c.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(y),_.getQuery().getQueryParams().loadsAllData()||l.push(_.getQuery()))}}catch(E){i={error:E}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var _=this.views.get(a);_&&(c=c.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(a),_.getQuery().getQueryParams().loadsAllData()||l.push(_.getQuery())))}return h&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:c}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var i=St(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,i=null;try{for(var s=St(this.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||l.getCompleteServerCache(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=St(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UR=function(){function t(e){this.writeTree_=e}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new cr(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=K.relativePath(i,e);return s=s.updateChild(a,n),new t(this.writeTree_.set(i,s))}else{var l=new cr(n),c=this.writeTree_.setTree(e,l);return new t(c)}},t.prototype.addWrites=function(e,n){var r=this;return Ut(n,function(i,s){r=r.addWrite(e.child(i),s)}),r},t.prototype.removeWrite=function(e){if(e.isEmpty())return t.Empty;var n=this.writeTree_.setTree(e,cr.Empty);return new t(n)},t.prototype.hasCompleteWrite=function(e){return this.getCompleteNode(e)!=null},t.prototype.getCompleteNode=function(e){var n=this.writeTree_.findRootMostValueAndPath(e);return n!=null?this.writeTree_.get(n.path).getChild(K.relativePath(n.path,e)):null},t.prototype.getCompleteChildren=function(){var e=[],n=this.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,function(r,i){e.push(new Ie(r,i))}):this.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Ie(r,i.value))}),e},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return n!=null?new t(new cr(n)):new t(this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return RL(K.Empty,this.writeTree_,e)},t.Empty=new t(new cr(null)),t}();function RL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=RL(t.child(i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dK=function(){function t(){this.visibleWrites_=UR.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new vK(e,this)},t.prototype.addOverwrite=function(e,n,r,i){z(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){z(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===e});z(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,l=this.allWrites_.length-1;s&&l>=0;){var c=this.allWrites_[l];c.visible&&(l>=r&&this.recordContainsPath_(c,i.path)?s=!1:i.path.contains(c.path)&&(a=!0)),l--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var h=i.children;Ut(h,function(d){n.visibleWrites_=n.visibleWrites_.removeWrite(i.path.child(d))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(!r&&!i){var s=this.visibleWrites_.getCompleteNode(e);if(s!=null)return s;var a=this.visibleWrites_.childCompoundWrite(e);if(a.isEmpty())return n;if(n==null&&!a.hasCompleteWrite(K.Empty))return null;var l=n||de.EMPTY_NODE;return a.apply(l)}else{var c=this.visibleWrites_.childCompoundWrite(e);if(!i&&c.isEmpty())return n;if(!i&&n==null&&!c.hasCompleteWrite(K.Empty))return null;var h=function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(v.path.contains(e)||e.contains(v.path))},d=t.layerTree_(this.allWrites_,h,e),l=n||de.EMPTY_NODE;return d.apply(l)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=de.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(e);if(i)return i.isLeafNode()||i.forEachChild(We,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=this.visibleWrites_.childCompoundWrite(e);return n.forEachChild(We,function(l,c){var h=s.childCompoundWrite(new K(l)).apply(c);r=r.updateImmediateChild(l,h)}),s.getCompleteChildren().forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=this.visibleWrites_.childCompoundWrite(e);return a.getCompleteChildren().forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=e.child(n);if(this.visibleWrites_.hasCompleteWrite(s))return null;var a=this.visibleWrites_.childCompoundWrite(s);return a.isEmpty()?i.getChild(n):a.apply(i.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var i=e.child(n),s=this.visibleWrites_.getCompleteNode(i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=this.visibleWrites_.childCompoundWrite(i);return a.apply(r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},t.prototype.calcIndexedSlice=function(e,n,r,i,s,a){var l,c=this.visibleWrites_.childCompoundWrite(e),h=c.getCompleteNode(K.Empty);if(h!=null)l=h;else if(n!=null)l=c.apply(n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var d=[],g=a.getCompare(),v=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=v.getNext();y&&d.length<i;)g(y,r)!==0&&d.push(y),y=v.getNext();return d}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,K.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var i=UR.Empty,s=0;s<e.length;++s){var a=e[s];if(n(a)){var l=a.path,c=void 0;if(a.snap)r.contains(l)?(c=K.relativePath(r,l),i=i.addWrite(c,a.snap)):l.contains(r)&&(c=K.relativePath(l,r),i=i.addWrite(K.Empty,a.snap.getChild(c)));else if(a.children){if(r.contains(l))c=K.relativePath(r,l),i=i.addWrites(c,a.children);else if(l.contains(r))if(c=K.relativePath(l,r),c.isEmpty())i=i.addWrites(K.Empty,a.children);else{var h=li(a.children,c.getFront());if(h){var d=h.getChild(c.popFront());i=i.addWrite(K.Empty,d)}}}else throw Kl("WriteRecord should have .snap or .children")}}return i},t}(),vK=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,i,s)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jR=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=cr.Empty,this.pendingWriteTree_=new dK,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,i){return this.pendingWriteTree_.addOverwrite(e,n,r,i),i?this.applyOperationToSyncPoints_(new hv(no.User,e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var i=cr.fromObject(n);return this.applyOperationToSyncPoints_(new cw(no.User,e,i))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var s=cr.Empty;return r.snap!=null?s=s.set(K.Empty,!0):Ut(r.children,function(a,l){s=s.set(new K(a),l)}),this.applyOperationToSyncPoints_(new sK(r.path,s,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new hv(no.Server,e,n))},t.prototype.applyServerMerge=function(e,n){var r=cr.fromObject(n);return this.applyOperationToSyncPoints_(new cw(no.Server,e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new MR(no.Server,e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=t.parseQueryKey_(i),a=s.path,l=s.queryId,c=K.relativePath(a,e),h=new hv(no.forServerTaggedQuery(l),c,n);return this.applyTaggedOperation_(a,h)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var s=t.parseQueryKey_(i),a=s.path,l=s.queryId,c=K.relativePath(a,e),h=cr.fromObject(n),d=new cw(no.forServerTaggedQuery(l),c,h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),s=i.path,a=i.queryId,l=K.relativePath(s,e),c=new MR(no.forServerTaggedQuery(a),l);return this.applyTaggedOperation_(s,c)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,C){var b=K.relativePath(E,r);i=i||C.getCompleteServerCache(b),s=s||C.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(K.Empty)):(a=new AL,this.syncPointTree_=this.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=de.EMPTY_NODE;var c=this.syncPointTree_.subtree(r);c.foreachChild(function(E,C){var b=C.getCompleteServerCache(K.Empty);b&&(i=i.updateImmediateChild(E,b))})}var h=a.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var d=t.makeQueryKey_(e);z(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var g=t.getNextQueryTag_();this.queryToTagMap.set(d,g),this.tagToQueryMap.set(g,d)}var v=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(e,n,v,i,l);if(!h&&!s){var _=a.viewForQuery(e);y=y.concat(this.setupListener_(e,_))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,s=e.path,a=this.syncPointTree_.get(s),l=[];if(a&&(e.queryIdentifier()==="default"||a.viewExistsForQuery(e))){var c=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=c.removed;l=c.events;var d=h.findIndex(function(T){return T.getQueryParams().loadsAllData()})!==-1,g=this.syncPointTree_.findOnPath(s,function(T,R){return R.hasCompleteView()});if(d&&!g){var v=this.syncPointTree_.subtree(s);if(!v.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(v),_=0;_<y.length;++_){var E=y[_],C=E.getQuery(),b=this.createListenerForView_(E);this.listenProvider_.startListening(t.queryForListening_(C),this.tagForQuery_(C),b.hashFn,b.onComplete)}}if(!g&&h.length>0&&!r)if(d){var I=null;this.listenProvider_.stopListening(t.queryForListening_(e),I)}else h.forEach(function(T){var R=i.queryToTagMap.get(t.makeQueryKey_(T));i.listenProvider_.stopListening(t.queryForListening_(T),R)});this.removeTags_(h)}return l},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(e,function(a,l){var c=K.relativePath(a,e),h=l.getCompleteServerCache(c);if(h)return h});return i.calcCompleteEventCache(e,s,n,r)},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),Ut(i,function(l,c){a=a.concat(c)}),a}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(r);if(i)z(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(g,v,y){if(!g.isEmpty()&&v&&v.hasCompleteView())return[v.getCompleteView().getQuery()];var _=[];return v&&(_=_.concat(v.getQueryViews().map(function(E){return E.getQuery()}))),Ut(y,function(E,C){_=_.concat(C)}),_}),h=0;h<c.length;++h){var d=c[h];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return a},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=e.getServerCache()||de.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=N8(s,r);return n.removeEventRegistration(r,null,a)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return z(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new K(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,i,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(K.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,i);var s=n.get(K.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(K.Empty));var a=[],l=e.path.getFront(),c=e.operationForChild(l),h=n.children.get(l);if(h&&c){var d=r?r.getImmediateChild(l):null,g=i.child(l);a=a.concat(this.applyOperationHelper_(c,h,d,g))}return s&&(a=a.concat(s.applyOperation(e,i,r))),a},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,i){var s=this,a=n.get(K.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(K.Empty));var l=[];return n.children.inorderTraversal(function(c,h){var d=r?r.getImmediateChild(c):null,g=i.child(c),v=e.operationForChild(c);v&&(l=l.concat(s.applyOperationDescendantsHelper_(v,h,d,g)))}),a&&(l=l.concat(a.applyOperation(e,i,r))),l},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gK=function(){function t(){this.rootNode_=de.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mK=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),er(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return QD(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new mK),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=nt({},e);return this.last_&&Ut(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $R=10*1e3,yK=30*1e3,_K=5*60*1e3,wK=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xL(e);var r=$R+(yK-$R)*Math.random();Pf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Ut(n,function(s,a){a>0&&er(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),Pf(this.reportStats_.bind(this),Math.floor(Math.random()*2*_K))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EK=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new bK(s)),n.add(i)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();e(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),bK=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();ga&&on("event: "+n.toString()),Yl(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function t(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=ko(this.listeners_[e]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){z(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SK=function(t){re(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return z(n==="visible","Unknown event type: "+n),[this.visible_]},e}(OL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VR=function(t){re(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!eS()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return z(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(OL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IK=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(d){l[d]&&Yl(function(){r.onMessage_(l[d])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BR="start",TK="close",CK="pLPCommand",NK="pRTLPCB",PL="id",DL="pw",LL="ser",kK="cb",AK="seg",RK="ts",xK="d",OK="dframe",ML=1870,FL=30,PK=ML-FL,DK=25e3,LK=3e4,pS=function(){function t(e,n,r,i,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vh(e),this.stats_=Qv.getCollection(n),this.urlFn=function(a){return n.connectionURL(gL,a)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new IK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(LK)),S8(function(){if(!r.isClosed_){r.scriptTagHolder=new MK(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=uh(a,5),h=c[0],d=c[1],g=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===BR)r.id=d,r.password=g;else if(h===TK)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=uh(a,2),h=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[BR]="t",i[LL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[kK]=r.scriptTagHolder.uniqueCallbackIdentifier),i[lL]=aS,r.transportSessionId&&(i[cL]=r.transportSessionId),r.lastSessionId&&(i[dL]=r.lastSessionId),r.applicationId&&(i[x8]=r.applicationId),typeof location!="undefined"&&location.href&&location.href.indexOf(pL)!==-1&&(i[fL]=hL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!T8()&&!C8()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Kt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=IG(n),i=aL(r,PK),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[OK]="t",r[PL]=e,r[DL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=Kt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),MK=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iL(),window[CK+this.uniqueCallbackIdentifier]=e,window[NK+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){on("frame writing exception"),c.stack&&on(c.stack),on(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||on("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[PL]=this.myID,e[DL]=this.myPW,e[LL]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+FL+r.length<=ML){var a=this.pendingSegs.shift();r=r+"&"+AK+i+"="+a.seg+"&"+RK+i+"="+a.ts+"&"+xK+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(DK)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){on("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UL="";function FK(t){UL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UK=16384,jK=45e3,Yv=null;typeof MozWebSocket!="undefined"?Yv=MozWebSocket:typeof WebSocket!="undefined"&&(Yv=WebSocket);var ia=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vh(this.connId),this.stats_=Qv.getCollection(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var i={};return i[lL]=aS,typeof location!="undefined"&&location.href&&location.href.indexOf(pL)!==-1&&(i[fL]=hL),n&&(i[cL]=n),r&&(i[dL]=r),e.connectionURL(vL,i)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ca.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!XD()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Yv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Yv!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return ca.isInMemoryStorage||ca.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){ca.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ch(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Kt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=aL(n,UK);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(jK))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $K=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[pS,ia]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ia&&ia.isAvailable(),s=i&&!ia.previouslyFailed();if(e.webSocketOnly&&(i||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ia];else{var a=this.transports_=[];try{for(var l=St(t.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VK=6e4,BK=5e3,zK=10*1024,WK=100*1024,hw="t",zR="d",qK="s",WR="r",HK="e",qR="o",HR="a",GR="n",KR="p",GK="h",jL=function(){function t(e,n,r,i,s,a,l,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vh("c:"+this.id+":"),this.transportManager_=new $K(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Pf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>WK?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>zK?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(hw in e){var n=e[hw];n===HR?this.upgradeIfSecondaryHealthy_():n===WR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=lf("t",e),r=lf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KR,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:HR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=lf("t",e),r=lf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=lf(hw,e);if(zR in e){var r=e[zR];if(n===GK)this.onHandshake_(r);else if(n===GR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qK?this.onConnectionShutdown_(r):n===WR?this.onReset_(r):n===HK?JE("Server Error: "+r):n===qR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JE("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),aS!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Pf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(VK))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(BK))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KR,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=1e3,KK=60*5*1e3,QR=30*1e3,QK=1.3,YK=3e4,XK="server_kill",JK=3,ma=function(t){re(e,t);function e(n,r,i,s,a,l,c){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=l,h.authOverride_=c,h.id=e.nextPersistentConnectionId_++,h.log_=Vh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingPutCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=ff,h.maxReconnectDelay_=KK,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!XD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),SK.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&VR.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Kt(a)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),l=n.path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),z(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i.queryObject(),l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var d=h.d,g=h.s;e.warnOnListenWarnings_(d,i);var v=r.listens.get(s)&&r.listens.get(s).get(a);v===n&&(r.log_("listen response",h),g!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(g,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&er(n,"w")){var i=li(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();mn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||DG(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QR)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=PG(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},e.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),z(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},e.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Kt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):JE("Unrecognized action received from server: "+Kt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>YK&&(this.reconnectDelay_=ff),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QK)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,l=this,c=this.lastSessionId,h=!1,d=null,g=function(){d?d.close():(h=!0,s())},v=function(_){z(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:g,sendRequest:v};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(_){h?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),l.authToken_=_&&_.accessToken,d=new jL(a,l.repoInfo_,l.applicationId_,r,i,s,function(E){mn(E+" ("+l.repoInfo_.toString()+")"),l.interrupt(XK)},c))}).then(null,function(_){l.log_("Failed to get token: "+_),h||(n.repoInfo_.nodeAdmin&&mn(_),g())})}},e.prototype.interrupt=function(n){on("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){on("Resuming connection for reason: "+n),delete this.interruptReasons_[n],QE(this.interruptReasons_)&&(this.reconnectDelay_=ff,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return sS(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new K(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){on("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JK&&(this.reconnectDelay_=QR,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=St(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,St(c.values())),d=h.next();!d.done;d=h.next()){var g=d.value;this.sendListen_(g)}}catch(_){i={error:_}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var v=0;v<this.outstandingPuts_.length;v++)this.outstandingPuts_[v]&&this.sendPut_(v);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+UL.replace(/\./g,"-")]=1,eS()?n["framework.cordova"]=1:YD()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=VR.getInstance().currentlyOnline();return QE(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($L);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZK=function(t){re(e,t);function e(n,r,i){var s=t.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=Vh("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(z(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,l=n.path.toString();this.log_("Listen called for "+l+" "+n.queryIdentifier());var c=e.getListenId_(n,i),h={};this.listens_[c]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(l+".json",d,function(g,v){var y=v;if(g===404&&(y=null,g=null),g===null&&a.onDataUpdate_(l,y,!1,i),li(a.listens_,c)===h){var _;g?g===401?_="permission_denied":_="rest_error:"+g:_="ok",s(_,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var l=a&&a.accessToken;l&&(r.auth=l);var c=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+LG(r);s.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=ch(h.responseText)}catch{mn("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&mn("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})},e}($L);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YR="repo_interrupt",Yt=function(){function t(e,n,r,i){var s=this;if(this.repoInfo_=e,this.app=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new uw,this.persistentConnection_=null,this.stats_=Qv.getCollection(e),n||A8())this.server_=new ZK(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=r.options.databaseAuthVariableOverride;if(typeof a!="undefined"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kt(a)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}this.persistentConnection_=new ma(this.repoInfo_,r.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,a),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(l){s.server_.refreshAuthToken(l)}),this.statsReporter_=Qv.getOrCreateReporter(e,function(){return new wK(s.stats_,s.server_)}),this.transactionsInit_(),this.infoData_=new gK,this.infoSyncTree_=new jR({startListening:function(l,c,h,d){var g=[],v=s.infoData_.getNode(l.path);return v.isEmpty()||(g=s.infoSyncTree_.applyServerOverwrite(l.path,v),setTimeout(function(){d("ok")},0)),g},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new jR({startListening:function(l,c,h,d){return s.server_.listen(l,h,c,function(g,v){var y=d(g,v);s.eventQueue_.raiseEventsForChangedPath(l.path,y)}),[]},stopListening:function(l,c){s.server_.unlisten(l,c)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new K(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return rK({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,i){this.dataUpdateCount++;var s=new K(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var l=qv(n,function(v){return gt(v)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,l,i)}else{var c=gt(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,c,i)}else if(r){var h=qv(n,function(v){return gt(v)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=gt(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var g=s;a.length>0&&(g=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(g,a)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;Ut(e,function(r,i){n.updateInfo_(r,i)})},t.prototype.updateInfo_=function(e,n){var r=new K("/.info/"+e),i=gt(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(e,n,r,i){var s=this;this.log_("set",{path:e.toString(),value:n,priority:r});var a=this.generateServerValues(),l=gt(n,r),c=this.serverSyncTree_.calcCompleteEventCache(e),h=cS(l,c,a),d=this.getNextWriteId_(),g=this.serverSyncTree_.applyUserOverwrite(e,h,d,!0);this.eventQueue_.queueEvents(g),this.server_.put(e.toString(),l.val(!0),function(y,_){var E=y==="ok";E||mn("set at "+e+" failed: "+y);var C=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(e,C),s.callOnCompleteCallback(i,y,_)});var v=this.abortTransactions_(e);this.rerunTransactions_(v),this.eventQueue_.raiseEventsForChangedPath(v,[])},t.prototype.update=function(e,n,r){var i=this;this.log_("update",{path:e.toString(),value:n});var s=!0,a=this.generateServerValues(),l={};if(Ut(n,function(d,g){s=!1,l[d]=LR(e.child(d),gt(g),i.serverSyncTree_,a)}),s)on("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var c=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(e,l,c);this.eventQueue_.queueEvents(h),this.server_.merge(e.toString(),n,function(d,g){var v=d==="ok";v||mn("update at "+e+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(c,!v),_=y.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(_,y),i.callOnCompleteCallback(r,d,g)}),Ut(n,function(d){var g=i.abortTransactions_(e.child(d));i.rerunTransactions_(g)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new uw;this.onDisconnect_.forEachTree(K.Empty,function(s,a){var l=LR(s,a,e.serverSyncTree_,n);r.remember(s,l)});var i=[];r.forEachTree(K.Empty,function(s,a){i=i.concat(e.serverSyncTree_.applyServerOverwrite(s,a));var l=e.abortTransactions_(s);e.rerunTransactions_(l)}),this.onDisconnect_=new uw,this.eventQueue_.raiseEventsForChangedPath(K.Empty,i)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,i,s)})},t.prototype.onDisconnectSet=function(e,n,r){var i=this,s=gt(n);this.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,l){a==="ok"&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,a,l)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,i){var s=this,a=gt(n,r);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(l,c){l==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(i,l,c)})},t.prototype.onDisconnectUpdate=function(e,n,r){var i=this;if(QE(n)){on("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(s,a){s==="ok"&&Ut(n,function(l,c){var h=gt(c);i.onDisconnect_.remember(e.child(l),h)}),i.callOnCompleteCallback(r,s,a)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(YR)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(YR)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(this.statsListener_||(this.statsListener_=new xL(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Ut(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),on.apply(void 0,ko([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&Yl(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new vS(this))},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL=function(){function t(e){this.indexedFilter_=new hS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new Ie(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);var s=this;return n.forEachChild(We,function(a,l){s.matches(new Ie(a,l))||(i=i.updateImmediateChild(a,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e9=function(){function t(e){this.rangedFilter_=new VL(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new Ie(n,r))||(r=de.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);var h=void 0,d=void 0,g=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var v=this.index_.getCompare();g=function(C,b){return v(b,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&g(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&g(l,d)<=0;c?a++:i=i.updateImmediateChild(l.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,T){return l(T,I)}}else a=this.index_.getCompare();var c=e;z(c.numChildren()===this.limit_,"");var h=new Ie(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var v=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var _=y==null?1:a(y,h),E=g&&!r.isEmpty()&&_>=0;if(E)return s!=null&&s.trackChildChange(we.childChangedChange(n,r,v)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(we.childRemovedChange(n,v));var C=c.updateImmediateChild(n,de.EMPTY_NODE),b=y!=null&&this.rangedFilter_.matches(y);return b?(s!=null&&s.trackChildChange(we.childAddedChange(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?e:g&&a(d,h)>=0?(s!=null&&(s.trackChildChange(we.childRemovedChange(d.name,d.node)),s.trackChildChange(we.childAddedChange(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,de.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t9=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ka},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==We&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===We},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new hS(this.getIndex()):this.hasLimit()?new e9(this):new VL(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===We?r=e.PRIORITY_INDEX:this.index_===n1?r=e.VALUE_INDEX:this.index_===as?r=e.KEY_INDEX:(z(this.index_ instanceof r1,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=Kt(r),this.startSet_&&(n[e.START_AT]=Kt(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Kt(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Kt(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Kt(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo=function(t){re(e,t);function e(n,r){var i=this;if(!(n instanceof Yt))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,n,r,t9.DEFAULT,!1)||this,i}return e.prototype.getKey=function(){return ce("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return ce("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof K||(this.path.getFront()===null?j8("Reference.child",1,n,!1):hh("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){ce("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){ce("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){ce("Reference.set",1,2,arguments.length),Nr("Reference.set",this.path),ss("Reference.set",1,n,this.path,!1),Gt("Reference.set",2,r,!0);var i=new Or;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},e.prototype.update=function(n,r){if(ce("Reference.update",1,2,arguments.length),Nr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,mn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_L("Reference.update",1,n,this.path,!1),Gt("Reference.update",2,r,!0);var a=new Or;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},e.prototype.setWithPriority=function(n,r,i){if(ce("Reference.setWithPriority",2,3,arguments.length),Nr("Reference.setWithPriority",this.path),ss("Reference.setWithPriority",1,n,this.path,!1),e1("Reference.setWithPriority",2,r,!1),Gt("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new Or;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},e.prototype.remove=function(n){return ce("Reference.remove",0,1,arguments.length),Nr("Reference.remove",this.path),Gt("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,i){if(ce("Reference.transaction",1,3,arguments.length),Nr("Reference.transaction",this.path),Gt("Reference.transaction",1,n,!1),Gt("Reference.transaction",2,r,!0),$8("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new Or;typeof r=="function"&&s.promise.catch(function(){});var a=function(l,c,h){l?s.reject(l):s.resolve(new B8(c,h)),typeof r=="function"&&r(l,c,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},e.prototype.setPriority=function(n,r){ce("Reference.setPriority",1,2,arguments.length),Nr("Reference.setPriority",this.path),e1("Reference.setPriority",1,n,!1),Gt("Reference.setPriority",2,r,!0);var i=new Or;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},e.prototype.push=function(n,r){ce("Reference.push",0,2,arguments.length),Nr("Reference.push",this.path),ss("Reference.push",1,n,this.path,!0),Gt("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=z8(i),a=this.child(s),l=this.child(s),c;return n!=null?c=a.set(n,r).then(function(){return l}):c=Promise.resolve(l),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),typeof r=="function"&&c.catch(function(){}),a},e.prototype.onDisconnect=function(){return Nr("Reference.onDisconnect",this.path),new V8(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(lS);lS.__referenceConstructor=bo;AL.__referenceConstructor=bo;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),n9=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new XR),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof K?e:new K(e),r=this,i=n.getFront();i!==null;){var s=li(r.node_.children,i)||new XR;r=new t(i,r,s),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){z(typeof e!="undefined","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;Ut(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(i){i.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new K(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),i=er(this.node_.children,e);r&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(kt||(kt={}));Yt.MAX_TRANSACTION_RETRIES_=25;Yt.prototype.transactionsInit_=function(){this.transactionQueueTree_=new n9};Yt.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new bo(this,t);s.on("value",i);var a=function(){s.off("value",i)},l={path:t,update:e,onComplete:n,status:null,order:iL(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);l.currentInputSnapshot=c;var h=l.update(c.val());if(h===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var d=new Xl(l.currentInputSnapshot,new bo(this,l.path),We);l.onComplete(null,!1,d)}}else{Bh("transaction failed: Data returned ",h,l.path),l.status=kt.RUN;var g=this.transactionQueueTree_.subTree(t),v=g.getValue()||[];v.push(l),g.setValue(v);var y=void 0;if(typeof h=="object"&&h!==null&&er(h,".priority"))y=li(h,".priority"),z(fh(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var _=this.serverSyncTree_.calcCompleteEventCache(t)||de.EMPTY_NODE;y=_.getPriority().val()}y=y;var E=this.generateServerValues(),C=gt(h,y),b=cS(C,c,E);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=b,l.currentWriteId=this.getNextWriteId_();var I=this.serverSyncTree_.applyUserOverwrite(t,b,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,I),this.sendReadyTransactions_()}};Yt.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||de.EMPTY_NODE};Yt.prototype.sendReadyTransactions_=function(t){var e=this;if(t===void 0&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),t.getValue()!==null){var n=this.buildTransactionQueue_(t);z(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===kt.RUN});r&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(i){e.sendReadyTransactions_(i)})};Yt.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(v){return v.currentWriteId}),i=this.getLatestState_(t,r),s=i,a=i.hash(),l=0;l<e.length;l++){var c=e[l];z(c.status===kt.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=kt.SENT,c.retryCount++;var h=K.relativePath(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var d=s.val(!0),g=t;this.server_.put(g.toString(),d,function(v){n.log_("transaction put response",{path:g.toString(),status:v});var y=[];if(v==="ok"){for(var _=[],E=0;E<e.length;E++){if(e[E].status=kt.COMPLETED,y=y.concat(n.serverSyncTree_.ackUserWrite(e[E].currentWriteId)),e[E].onComplete){var C=e[E].currentOutputSnapshotResolved,b=new bo(n,e[E].path),I=new Xl(C,b,We);_.push(e[E].onComplete.bind(null,null,!0,I))}e[E].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,y);for(var E=0;E<_.length;E++)Yl(_[E])}else{if(v==="datastale")for(var E=0;E<e.length;E++)e[E].status===kt.SENT_NEEDS_ABORT?e[E].status=kt.NEEDS_ABORT:e[E].status=kt.RUN;else{mn("transaction at "+g.toString()+" failed: "+v);for(var E=0;E<e.length;E++)e[E].status=kt.NEEDS_ABORT,e[E].abortReason=v}n.rerunTransactions_(t)}},a)};Yt.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n};Yt.prototype.rerunTransactionQueue_=function(t,e){if(t.length!==0){for(var n=[],r=[],i=t.filter(function(A){return A.status===kt.RUN}),s=i.map(function(A){return A.currentWriteId}),a=0;a<t.length;a++){var l=t[a],c=K.relativePath(e,l.path),h=!1,d=void 0;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===kt.NEEDS_ABORT)h=!0,d=l.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===kt.RUN)if(l.retryCount>=Yt.MAX_TRANSACTION_RETRIES_)h=!0,d="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var g=this.getLatestState_(l.path,s);l.currentInputSnapshot=g;var v=t[a].update(g.val());if(v!==void 0){Bh("transaction failed: Data returned ",v,l.path);var y=gt(v),_=typeof v=="object"&&v!=null&&er(v,".priority");_||(y=y.updatePriority(g.getPriority()));var E=l.currentWriteId,C=this.generateServerValues(),b=cS(y,g,C);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=b,l.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(E),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(l.path,b,l.currentWriteId,l.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(E,!0))}else h=!0,d="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[a].status=kt.COMPLETED,function(A){setTimeout(A,Math.floor(0))}(t[a].unwatcher),t[a].onComplete))if(d==="nodata"){var I=new bo(this,t[a].path),T=t[a].currentInputSnapshot,R=new Xl(T,I,We);n.push(t[a].onComplete.bind(null,null,!1,R))}else n.push(t[a].onComplete.bind(null,new Error(d),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)Yl(n[a]);this.sendReadyTransactions_()}};Yt.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();e!==null&&n.getValue()===null;)n=n.subTree(e),t=t.popFront(),e=t.getFront();return n};Yt.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(n,r){return n.order-r.order}),e};Yt.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(r!==null)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(s){n.aggregateTransactionQueuesForNode_(s,e)})};Yt.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==kt.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(s){e.pruneCompletedTransactionsBelowNode_(s)})};Yt.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(i){e.abortTransactionsOnNode_(i)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(i){e.abortTransactionsOnNode_(i)}),n};Yt.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(e!==null){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)if(e[s].status!==kt.SENT_NEEDS_ABORT){if(e[s].status===kt.SENT)z(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=kt.SENT_NEEDS_ABORT,e[s].abortReason="set";else if(z(e[s].status===kt.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete){var a=null;n.push(e[s].onComplete.bind(null,new Error("set"),!1,a))}}i===-1?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var s=0;s<n.length;s++)Yl(n[s])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(e)},t}(),i9=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o9="FIREBASE_DATABASE_EMULATOR_HOST",pw,dS=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return pw||(pw=new t),pw},t.prototype.interrupt=function(){var e,n,r,i;try{for(var s=St(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(r=void 0,St(Object.keys(this.repos_[l]))),h=c.next();!h.done;h=c.next()){var d=h.value;this.repos_[l][d].interrupt()}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,i;try{for(var s=St(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(r=void 0,St(Object.keys(this.repos_[l]))),h=c.next();!h.done;h=c.next()){var d=h.value;this.repos_[l][d].resume()}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.databaseFromApp=function(e,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||co("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=ZE(s,i),l=a.repoInfo,c,h=void 0;typeof process!="undefined"&&(h=process.env[o9]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=ZE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new i9:new r9(e,n);wL("Invalid Firebase Database URL",1,a),a.path.isEmpty()||co("Database URL must point to the root of a Firebase Database (not including a child path).");var g=this.createRepo(l,e,d);return g.database},t.prototype.deleteRepo=function(e){var n=li(this.repos_,e.app.name);(!n||li(n,e.repoInfo_.toURLString())!==e)&&co("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.repoInfo_.toURLString()]},t.prototype.createRepo=function(e,n,r){var i=li(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=li(i,e.toURLString());return s&&co("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yt(e,this.useRestClient_,n,r),i[e.toURLString()]=s,s},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vS=function(){function t(e){this.repo_=e,e instanceof Yt||co("Don't call new Database() directly - please use firebase.database()."),this.root_=new bo(e,K.Empty),this.INTERNAL=new s9(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){return this.checkDeleted_("ref"),ce("database.ref",0,1,arguments.length),e instanceof bo?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),ce(n,1,1,arguments.length);var r=ZE(e,this.repo_.repoInfo_.nodeAdmin);wL(n,1,r);var i=r.repoInfo;return i.host!==this.repo_.repoInfo_.host&&co(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repo_===null&&co("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){ce("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){ce("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}(),s9=function(){function t(e){this.database=e}return t.prototype.delete=function(){return O(this,void 0,void 0,function(){return x(this,function(e){return this.database.checkDeleted_("delete"),dS.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9=function(){ia.forceDisallow(),pS.forceAllow()},u9=function(){pS.forceDisallow()},l9=function(){return ia.isAvailable()},c9=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},f9=function(t,e){t.repo.stats(e)},h9=function(t,e){t.repo.statsIncrementCounter(e)},p9=function(t){return t.repo.dataUpdateCount},d9=function(t,e){return t.repo.interceptServerData_(e)},v9=Object.freeze({__proto__:null,forceLongPolling:a9,forceWebSockets:u9,isWebSocketsAvailable:l9,setSecurityDebugCallback:c9,stats:f9,statsIncrementCounter:h9,dataUpdateCount:p9,interceptServerData:d9});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g9=ma;ma.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ma.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var m9=jL,y9=function(t){var e=ma.prototype.put;return ma.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){ma.prototype.put=e}},_9=mL,w9=function(t){return t.queryIdentifier()},E9=function(t){dS.getInstance().forceRestClient(t)},b9=Object.freeze({__proto__:null,DataConnection:g9,RealTimeConnection:m9,hijackHash:y9,ConnectionTarget:_9,queryIdentifier:w9,forceRestClient:E9}),S9="@firebase/database",I9="0.6.13";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9=vS.ServerValue;function C9(t){FK(t.SDK_VERSION),t.INTERNAL.registerComponent(new mr("database",function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return dS.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:bo,Query:lS,Database:vS,DataSnapshot:Xl,enableLogging:sL,INTERNAL:v9,ServerValue:T9,TEST_ACCESS:b9}).setMultipleInstances(!0)),t.registerVersion(S9,I9)}C9(te);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i1=function(t,e){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},i1(t,e)};function N9(t,e){i1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function BL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var k9=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Y,gS=gS||{},ge=k9||self;function Xv(){}function vm(t){var e=typeof t;return e!="object"?e:t?Array.isArray(t)?"array":e:"null"}function o1(t){var e=vm(t);return e=="array"||e=="object"&&typeof t.length=="number"}function Wh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function A9(t){return Object.prototype.hasOwnProperty.call(t,dw)&&t[dw]||(t[dw]=++R9)}var dw="closure_uid_"+(1e9*Math.random()>>>0),R9=0;function x9(t,e,n){return t.call.apply(t.bind,arguments)}function O9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=x9:yn=O9,yn.apply(null,arguments)}function Dd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}var zi=Date.now;function Un(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function As(){this.j=this.j,this.i=this.i}var P9=0;As.prototype.j=!1;As.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),P9!=0)&&A9(this)};As.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var zL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},WL=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function D9(t){e:{for(var e=S7,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function JR(t){return Array.prototype.concat.apply([],arguments)}function mS(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Jv(t){return/^[\s\xa0]*$/.test(t)}var ZR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pn(t,e){return t.indexOf(e)!=-1}function vw(t,e){return t<e?-1:t>e?1:0}var Dn;e:{var ex=ge.navigator;if(ex){var tx=ex.userAgent;if(tx){Dn=tx;break e}}Dn=""}function yS(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qL(t){var e={};for(var n in t)e[n]=t[n];return e}var nx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HL(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<nx.length;s++)n=nx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _S(t){return _S[" "](t),t}_S[" "]=Xv;function L9(t,e){var n=U9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var M9=Pn(Dn,"Opera"),vs=Pn(Dn,"Trident")||Pn(Dn,"MSIE"),GL=Pn(Dn,"Edge"),s1=GL||vs,KL=Pn(Dn,"Gecko")&&!(Pn(Dn.toLowerCase(),"webkit")&&!Pn(Dn,"Edge"))&&!(Pn(Dn,"Trident")||Pn(Dn,"MSIE"))&&!Pn(Dn,"Edge"),F9=Pn(Dn.toLowerCase(),"webkit")&&!Pn(Dn,"Edge");function QL(){var t=ge.document;return t?t.documentMode:void 0}var Zv;e:{var gw="",mw=function(){var t=Dn;if(KL)return/rv:([^\);]+)(\)|;)/.exec(t);if(GL)return/Edge\/([\d\.]+)/.exec(t);if(vs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(F9)return/WebKit\/(\S+)/.exec(t);if(M9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mw&&(gw=mw?mw[1]:""),vs){var yw=QL();if(yw!=null&&yw>parseFloat(gw)){Zv=String(yw);break e}}Zv=gw}var U9={};function YL(t){return L9(t,function(){for(var e=0,n=ZR(String(Zv)).split("."),r=ZR(String(t)).split("."),i=Math.max(n.length,r.length),s=0;e==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;e=vw(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||vw(a[2].length==0,l[2].length==0)||vw(a[2],l[2]),a=a[3],l=l[3]}while(e==0)}return 0<=e})}var a1;if(ge.document&&vs){var rx=QL();a1=rx||parseInt(Zv,10)||void 0}else a1=void 0;var XL=a1,wS=!vs||9<=Number(XL),j9=vs&&!YL("9"),$9=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",Xv,e),ge.removeEventListener("test",Xv,e)}catch{}return t}();function _n(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}_n.prototype.b=function(){this.defaultPrevented=!0};function ph(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(KL){e:{try{_S(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:V9[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Un(ph,_n);var V9={2:"touch",3:"pen",4:"mouse"};ph.prototype.b=function(){ph.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,j9)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var qh="closure_listenable_"+(1e6*Math.random()|0),B9=0;function z9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++B9,this.Y=this.Z=!1}function gm(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function mm(t){this.src=t,this.a={},this.b=0}mm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.a[s],t||(t=this.a[s]=[],this.b++);var a=l1(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new z9(e,this.src,s,!!r,i),e.Z=n,t.push(e)),e};function u1(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=zL(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gm(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function l1(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}var ES="closure_lm_"+(1e6*Math.random()|0),_w={};function bS(t,e,n,r,i){if(r&&r.once)return ZL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bS(t,e[s],n,r,i);return null}return n=TS(n),t&&t[qh]?t.va(e,n,Wh(r)?!!r.capture:!!r,i):JL(t,e,n,!1,r,i)}function JL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Wh(i)?!!i.capture:!!i;if(a&&!wS)return null;var l=IS(t);if(l||(t[ES]=l=new mm(t)),n=l.add(e,n,r,a,s),n.proxy)return n;if(r=W9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$9||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function W9(){var t=q9,e=wS?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function ZL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZL(t,e[s],n,r,i);return null}return n=TS(n),t&&t[qh]?t.wa(e,n,Wh(r)?!!r.capture:!!r,i):JL(t,e,n,!0,r,i)}function eM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)eM(t,e[s],n,r,i);else r=Wh(r)?!!r.capture:!!r,n=TS(n),t&&t[qh]?(t=t.c,e=String(e).toString(),e in t.a&&(s=t.a[e],n=l1(s,n,r,i),-1<n&&(gm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.a[e],t.b--)))):t&&(t=IS(t))&&(e=t.a[e.toString()],t=-1,e&&(t=l1(e,n,r,i)),(n=-1<t?e[t]:null)&&SS(n))}function SS(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[qh])u1(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=IS(e))?(u1(n,t),n.b==0&&(n.src=null,e[ES]=null)):gm(t)}}}function tM(t){return t in _w?_w[t]:_w[t]="on"+t}function ix(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&SS(t),n.call(r,e)}function q9(t,e){if(t.Y)return!0;if(!wS){if(!e)e:{e=["window","event"];for(var n=ge,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new ph(e,this),ix(t,e)}return ix(t,new ph(e,this))}function IS(t){return t=t[ES],t instanceof mm?t:null}var ww="__closure_events_fn_"+(1e9*Math.random()>>>0);function TS(t){return vm(t)=="function"?t:(t[ww]||(t[ww]=function(e){return t.handleEvent(e)}),t[ww])}function yr(){As.call(this),this.c=new mm(this),this.J=this,this.C=null}Un(yr,As);yr.prototype[qh]=!0;Y=yr.prototype;Y.addEventListener=function(t,e,n,r){bS(this,t,e,n,r)};Y.removeEventListener=function(t,e,n,r){eM(this,t,e,n,r)};Y.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if(typeof t=="string")t=new _n(t,n);else if(t instanceof _n)t.target=t.target||n;else{var i=t;t=new _n(r,n),HL(t,i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.a=e[s];i=Ld(a,r,!0,t)&&i}if(a=t.a=n,i=Ld(a,r,!0,t)&&i,i=Ld(a,r,!1,t)&&i,e)for(s=0;s<e.length;s++)a=t.a=e[s],i=Ld(a,r,!1,t)&&i;return i};Y.G=function(){if(yr.S.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)gm(n[r]);delete t.a[e],t.b--}}this.C=null};Y.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};Y.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Ld(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&u1(t.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var CS=ge.JSON.stringify;function nM(){this.b=this.a=null}var rM=new(function(){function t(e,n,r){this.f=r,this.c=e,this.g=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new NS},function(t){t.reset()},100);nM.prototype.add=function(t,e){var n=rM.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function H9(){var t=oM,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function NS(){this.next=this.b=this.a=null}NS.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};NS.prototype.reset=function(){this.next=this.b=this.a=null};function G9(t){ge.setTimeout(function(){throw t},0)}function iM(t,e){c1||K9(),f1||(c1(),f1=!0),oM.add(t,e)}var c1;function K9(){var t=ge.Promise.resolve(void 0);c1=function(){t.then(Q9)}}var f1=!1,oM=new nM;function Q9(){for(var t;t=H9();){try{t.a.call(t.b)}catch(n){G9(n)}var e=rM;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}f1=!1}function ym(t,e){yr.call(this),this.b=t||1,this.a=e||ge,this.f=yn(this.Ya,this),this.g=zi()}Un(ym,yr);Y=ym.prototype;Y.aa=!1;Y.M=null;Y.Ya=function(){if(this.aa){var t=zi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(kS(this),this.start()))}};Y.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=zi())};function kS(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}Y.G=function(){ym.S.G.call(this),kS(this),delete this.a};function AS(t,e,n){if(vm(t)=="function")n&&(t=yn(t,n));else if(t&&typeof t.handleEvent=="function")t=yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function sM(t){t.a=AS(function(){t.a=null,t.c&&(t.c=!1,sM(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var Y9=function(t){N9(e,t);function e(n,r,i){var s=t.call(this)||this;return s.g=i!=null?n.bind(i):n,s.h=r,s.b=null,s.c=!1,s.a=null,s}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:sM(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ge.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(As);function dh(t){As.call(this),this.b=t,this.a={}}Un(dh,As);var ox=[];function aM(t,e,n,r){Array.isArray(n)||(n&&(ox[0]=n.toString()),n=ox);for(var i=0;i<n.length;i++){var s=bS(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function uM(t){yS(t.a,function(e,n){this.a.hasOwnProperty(n)&&SS(e)},t),t.a={}}dh.prototype.G=function(){dh.S.G.call(this),uM(this)};dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function RS(){this.a=!0}function X9(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var d=h[0];h=h[1];var g=d.split("_");a=2<=g.length&&g[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function J9(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function tl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+e7(t,n)+(r?" "+r:"")})}function Z9(t,e){t.info(function(){return"TIMEOUT: "+e})}RS.prototype.info=function(){};function e7(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return CS(n)}catch{return e}}var sx=null;function xS(){return sx=sx||new yr}function lM(t){_n.call(this,"serverreachability",t)}Un(lM,_n);function vh(t){var e=xS();e.dispatchEvent(new lM(e))}function cM(t){_n.call(this,"statevent",t)}Un(cM,_n);function vr(t){var e=xS();e.dispatchEvent(new cM(e))}function fM(t){_n.call(this,"timingevent",t)}Un(fM,_n);function Hh(t,e){if(vm(t)!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var _m={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},hM={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function pM(){}pM.prototype.a=null;function ax(t){var e;return(e=t.a)||(e=t.a={}),e}function dM(){}var Gh={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function OS(){_n.call(this,"d")}Un(OS,_n);function PS(){_n.call(this,"c")}Un(PS,_n);var vM;function gM(){}Un(gM,pM);vM=new gM;function Kh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new dh(this),this.P=t7,t=s1?125:void 0,this.R=new ym(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}var t7=45e3,mM={},h1={};Y=Kh.prototype;Y.setTimeout=function(t){this.P=t};function p1(t,e,n){t.H=1,t.i=Em(So(e)),t.j=n,t.I=!0,yM(t,null)}function yM(t,e){t.u=zi(),Qh(t),t.l=So(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),IM(n.b,"t",r),t.D=0,t.a=BM(t.g,t.g.C?e:null),0<t.O&&(t.F=new Y9(yn(t.Ca,t,t.a),t.O)),aM(t.J,t.a,"readystatechange",t.Wa),e=t.B?qL(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),vh(),X9(t.c,t.m,t.l,t.f,t.T,t.j)}Y.Wa=function(t){t=t.target;var e=this.F;e&&Zo(t)==3?e.f():this.Ca(t)};Y.Ca=function(t){try{if(t==this.a)e:{var e=Zo(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||e==3&&!s1&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?vh(3):vh(2)),wm(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=i==200,J9(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jv(a)){var c=a;break t}}c=null}if(c)tl(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,d1(this,c);else{this.b=!1,this.h=3,vr(12),hl(this),eg(this);break e}}this.I?(_M(this,e,s),s1&&this.b&&e==3&&(aM(this.J,this.R,"tick",this.Va),this.R.start())):(tl(this.c,this.f,s,null),d1(this,s)),e==4&&hl(this),this.b&&!this.A&&(e==4?UM(this.g,this):(this.b=!1,Qh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,vr(12)):(this.h=0,vr(13)),hl(this),eg(this)}}}catch{}finally{}};function _M(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=n7(t,n);if(i==h1){e==4&&(t.h=4,vr(),r=!1),tl(t.c,t.f,null,"[Incomplete Response]");break}else if(i==mM){t.h=4,vr(),tl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else tl(t.c,t.f,i,null),d1(t,i)}e==4&&n.length==0&&(t.h=1,vr(),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,e=t.g,e.a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),VS(e),e.F=!0)):(tl(t.c,t.f,n,"[Invalid Chunked Response]"),hl(t),eg(t))}Y.Va=function(){if(this.a){var t=Zo(this.a),e=this.a.$();this.D<e.length&&(wm(this),_M(this,t,e),this.b&&t!=4&&Qh(this))}};function n7(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?h1:(n=Number(e.substring(n,r)),isNaN(n)?mM:(r+=1,r+n>e.length?h1:(e=e.substr(r,n),t.D=r+n,e)))}Y.cancel=function(){this.A=!0,hl(this)};function Qh(t){t.U=zi()+t.P,wM(t,t.P)}function wM(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=Hh(yn(t.Ua,t),e)}function wm(t){t.o&&(ge.clearTimeout(t.o),t.o=null)}Y.Ua=function(){this.o=null;var t=zi();0<=t-this.U?(Z9(this.c,this.l),this.H!=2&&(vh(),vr()),hl(this),this.h=2,eg(this)):wM(this,this.U-t)};function eg(t){t.g.v==0||t.A||UM(t.g,t)}function hl(t){wm(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,kS(t.R),uM(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function d1(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||v1(n.b,t))){if(n.I=t.N,!t.C&&v1(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)ig(n),Sm(n);else break e;$S(n),vr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Hh(yn(n.Ra,n),6e3));if(1>=NM(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else fa(n,11)}else if((t.C||n.a==t)&&ig(n),!Jv(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=t.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var g=c.b;!g.a&&(Pn(d,"spdy")||Pn(d,"quic")||Pn(d,"h2"))&&(g.f=g.g,g.a=new Set,g.b&&(MS(g,g.b),g.b=null))}if(c.A){var v=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;v&&(c.na=v,at(c.B,c.A,v))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=zi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=t;if(c.la=VM(c,c.C?c.ga:null,c.fa),y.C){kM(c.b,y);var _=y,E=c.D;E&&_.setTimeout(E),_.o&&(wm(_),Qh(_)),c.a=y}else MM(c);0<n.g.length&&Im(n)}else i[0]!="stop"&&i[0]!="close"||fa(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?fa(n,7):jS(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}vh(4)}catch{}}function r7(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(o1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function DS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(o1(t)||typeof t=="string")WL(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(o1(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=r7(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Jl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Jl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Y=Jl.prototype;Y.K=function(){LS(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};Y.L=function(){return LS(this),this.a.concat()};function LS(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Aa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Aa(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}Y.get=function(t,e){return Aa(this.b,t)?this.b[t]:e};Y.set=function(t,e){Aa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};Y.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Aa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var EM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function i7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ra(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ra){this.a=e!==void 0?e:t.a,tg(this,t.f),this.j=t.j,ng(this,t.c),rg(this,t.h),this.g=t.g,e=t.b;var n=new gh;n.c=e.c,e.a&&(n.a=new Jl(e.a),n.b=e.b),ux(this,n),this.i=t.i}else t&&(n=String(t).match(EM))?(this.a=!!e,tg(this,n[1]||"",!0),this.j=Df(n[2]||""),ng(this,n[3]||"",!0),rg(this,n[4]),this.g=Df(n[5]||"",!0),ux(this,n[6]||"",!0),this.i=Df(n[7]||"")):(this.a=!!e,this.b=new gh(null,this.a))}Ra.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ef(e,lx,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(Ef(e,lx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(Ef(n,n.charAt(0)=="/"?l7:u7,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ef(n,f7)),t.join("")};function So(t){return new Ra(t)}function tg(t,e,n){t.f=n?Df(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ng(t,e,n){t.c=n?Df(e,!0):e}function rg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ux(t,e,n){e instanceof gh?(t.b=e,h7(t.b,t.a)):(n||(e=Ef(e,c7)),t.b=new gh(e,t.a))}function at(t,e,n){t.b.set(e,n)}function Em(t){return at(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^zi()).toString(36)),t}function o7(t){return t instanceof Ra?So(t):new Ra(t,void 0)}function s7(t,e,n,r){var i=new Ra(null,void 0);return t&&tg(i,t),e&&ng(i,e),n&&rg(i,n),r&&(i.g=r),i}function Df(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ef(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,a7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function a7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lx=/[#\/\?@]/g,u7=/[#\?:]/g,l7=/[#\?]/g,c7=/[#\?@]/g,f7=/#/g;function gh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rs(t){t.a||(t.a=new Jl,t.b=0,t.c&&i7(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=gh.prototype;Y.add=function(t,e){Rs(this),this.c=null,t=Zl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function bM(t,e){Rs(t),e=Zl(t,e),Aa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Aa(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&LS(t)))}function SM(t,e){return Rs(t),e=Zl(t,e),Aa(t.a.b,e)}Y.forEach=function(t,e){Rs(this),this.a.forEach(function(n,r){WL(n,function(i){t.call(e,i,r,this)},this)},this)};Y.L=function(){Rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};Y.K=function(t){Rs(this);var e=[];if(typeof t=="string")SM(this,t)&&(e=JR(e,this.a.get(Zl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=JR(e,t[n])}return e};Y.set=function(t,e){return Rs(this),this.c=null,t=Zl(this,t),SM(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};Y.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function IM(t,e,n){bM(t,e),0<n.length&&(t.c=null,t.a.set(Zl(t,e),mS(n)),t.b+=n.length)}Y.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.c=t.join("&")};function Zl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function h7(t,e){e&&!t.f&&(Rs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(bM(this,r),IM(this,i,n))},t)),t.f=e}function p7(t,e){this.b=t,this.a=e}function TM(t){this.g=t||d7,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.ia&&ge.ia.ya&&ge.ia.ya()&&ge.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var d7=10;function CM(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function NM(t){return t.b?1:t.a?t.a.size:0}function v1(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function MS(t,e){t.a?t.a.add(e):t.b=e}function kM(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}TM.prototype.cancel=function(){var t,e;if(this.c=AM(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=BL(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function AM(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=BL(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return mS(t.c)}function FS(){}FS.prototype.stringify=function(t){return ge.JSON.stringify(t,void 0)};FS.prototype.parse=function(t){return ge.JSON.parse(t,void 0)};function v7(){this.a=new FS}function g7(t,e,n){var r=n||"";try{DS(t,function(i,s){var a=i;Wh(i)&&(a=CS(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function m7(t,e){var n=new RS;if(ge.Image){var r=new Image;r.onload=Dd(Md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dd(Md,n,r,"TestLoadImage: error",!1,e),r.onabort=Dd(Md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dd(Md,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Md(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}var y7=ge.JSON.parse;function zt(t){yr.call(this),this.headers=new Jl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_7,this.D=this.F=!1}Un(zt,yr);var _7="",w7=/^https?$/i,E7=["POST","PUT"];Y=zt.prototype;Y.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ax(this.H):ax(vM),this.a.onreadystatechange=yn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){cx(this,s);return}t=n||"";var i=new Jl(this.headers);r&&DS(r,function(s,a){i.set(a,s)}),r=D9(i.L()),n=ge.FormData&&t instanceof ge.FormData,!(0<=zL(E7,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{OM(this),0<this.o&&((this.D=b7(this.a))?(this.a.timeout=this.o,this.a.ontimeout=yn(this.xa,this)):this.m=AS(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){cx(this,s)}};function b7(t){return vs&&YL(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function S7(t){return t.toLowerCase()=="content-type"}Y.xa=function(){typeof gS!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};function cx(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,RM(t),bm(t)}function RM(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}Y.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bm(this))};Y.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bm(this,!0)),zt.S.G.call(this)};Y.za=function(){this.j||(this.A||this.l||this.g?xM(this):this.Ta())};Y.Ta=function(){xM(this)};function xM(t){if(t.b&&typeof gS!="undefined"&&(!t.s[1]||Zo(t)!=4||t.X()!=2)){if(t.l&&Zo(t)==4)AS(t.za,0,t);else if(t.dispatchEvent("readystatechange"),Zo(t)==4){t.b=!1;try{var e=t.X();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.B).match(EM)[1]||null;if(!s&&ge.self&&ge.self.location){var a=ge.self.location.protocol;s=a.substr(0,a.length-1)}i=!w7.test(s?s.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Zo(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.X()+"]",RM(t)}}finally{bm(t)}}}}function bm(t,e){if(t.a){OM(t);var n=t.a,r=t.s[0]?Xv:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch{}}}function OM(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ge.clearTimeout(t.m),t.m=null)}function Zo(t){return t.a?t.a.readyState:0}Y.X=function(){try{return 2<Zo(this)?this.a.status:-1}catch{return-1}};Y.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};Y.Na=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),y7(e)}};Y.ua=function(){return this.h};Y.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function I7(t){var e="";return yS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function US(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=I7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):at(t,e,n))}function hf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PM(t){this.pa=0,this.g=[],this.c=new RS,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=hf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=hf("baseRetryDelayMs",5e3,t),this.Ma=hf("retryDelaySeedMs",1e4,t),this.Ja=hf("forwardChannelMaxRetries",2,t),this.ma=hf("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new TM(t&&t.concurrentRequestLimit),this.ka=new v7,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}Y=PM.prototype;Y.ha=8;Y.v=1;function jS(t){if(DM(t),t.v==3){var e=t.R++,n=So(t.B);at(n,"SID",t.J),at(n,"RID",e),at(n,"TYPE","terminate"),Yh(t,n),e=new Kh(t,t.c,e,void 0),e.H=2,e.i=Em(So(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon&&(n=ge.navigator.sendBeacon(e.i.toString(),"")),!n&&ge.Image&&(new Image().src=e.i,n=!0),n||(e.a=BM(e.g,null),e.a.ba(e.i)),e.u=zi(),Qh(e)}$M(t)}function Sm(t){t.a&&(VS(t),t.a.cancel(),t.a=null)}function DM(t){Sm(t),t.j&&(ge.clearTimeout(t.j),t.j=null),ig(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&ge.clearTimeout(t.h),t.h=null)}function Ew(t,e){t.g.push(new p7(t.La++,e)),t.v==3&&Im(t)}function Im(t){CM(t.b)||t.h||(t.h=!0,iM(t.Ba,t),t.u=0)}function T7(t,e){return NM(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.Ia?0:t.Ja)?!1:(t.h=Hh(yn(t.Ba,t,e),jM(t,t.u)),t.u++,!0)}Y.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new Kh(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=qL(n),HL(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=LM(this,e,r),i=So(this.B),at(i,"RID",t),at(i,"CVER",22),this.A&&at(i,"X-HTTP-Session-Id",this.A),Yh(this,i),this.i&&n&&US(i,this.i,n),MS(this.b,e),this.Ga&&at(i,"TYPE","init"),this.da?(at(i,"$req",r),at(i,"SID","null"),e.V=!0,p1(e,i,null)):p1(e,i,r),this.v=2}}else this.v==3&&(t?fx(this,t):this.g.length==0||CM(this.b)||fx(this))};function fx(t,e){var n;e?n=e.f:n=t.R++;var r=So(t.B);at(r,"SID",t.J),at(r,"RID",n),at(r,"AID",t.P),Yh(t,r),t.i&&t.l&&US(r,t.i,t.l),n=new Kh(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=LM(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),MS(t.b,n),p1(n,r,e)}function Yh(t,e){t.f&&DS({},function(n,r){at(e,r,n)})}function LM(t,e,n){n=Math.min(t.g.length,n);var r=t.f?yn(t.f.Ha,t.f,t):null;e:for(var i=t.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,d=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{g7(d,a,"req"+h+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function MM(t){t.a||t.j||(t.U=1,iM(t.Aa,t),t.o=0)}function $S(t){return t.a||t.j||3<=t.o?!1:(t.U++,t.j=Hh(yn(t.Aa,t),jM(t,t.o)),t.o++,!0)}Y.Aa=function(){if(this.j=null,FM(this),this.V&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Hh(yn(this.Sa,this),t)}};Y.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Sm(this),FM(this))};function VS(t){t.s!=null&&(ge.clearTimeout(t.s),t.s=null)}function FM(t){t.a=new Kh(t,t.c,"rpc",t.U),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=So(t.la);at(e,"RID","rpc"),at(e,"SID",t.J),at(e,"CI",t.H?"0":"1"),at(e,"AID",t.P),Yh(t,e),at(e,"TYPE","xmlhttp"),t.i&&t.l&&US(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Em(So(e)),n.j=null,n.I=!0,yM(n,t)}Y.Ra=function(){this.m!=null&&(this.m=null,Sm(this),$S(this),vr())};function ig(t){t.m!=null&&(ge.clearTimeout(t.m),t.m=null)}function UM(t,e){var n=null;if(t.a==e){ig(t),VS(t),t.a=null;var r=2}else if(v1(t.b,e))n=e.s,kM(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=zi()-e.u;var i=t.u;r=xS(),r.dispatchEvent(new fM(r)),Im(t)}else MM(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&T7(t,e)||r==2&&$S(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fa(t,5);break;case 4:fa(t,10);break;case 3:fa(t,6);break;default:fa(t,2)}}}function jM(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function fa(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=yn(t.Xa,t);n||(n=new Ra("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||tg(n,"https"),Em(n)),m7(n.toString(),r)}else vr();t.v=0,t.f&&t.f.ra(e),$M(t),DM(t)}Y.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),vr()):(this.c.info("Failed to ping google.com"),vr())};function $M(t){t.v=0,t.I=-1,t.f&&((AM(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,mS(t.g),t.g.length=0),t.f.qa())}function VM(t,e,n){var r=o7(n);if(r.c!="")e&&ng(r,e+"."+r.c),rg(r,r.h);else{var i=ge.location;r=s7(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&yS(t.W,function(s,a){at(r,a,s)}),e=t.A,n=t.na,e&&n&&at(r,e,n),at(r,"VER",t.ha),Yh(t,r),r}function BM(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new zt(t.Ka),e.F=t.C,e}function zM(){}Y=zM.prototype;Y.ta=function(){};Y.sa=function(){};Y.ra=function(){};Y.qa=function(){};Y.Ha=function(){};function og(){if(vs&&!(10<=Number(XL)))throw Error("Environmental error: no available transport.")}og.prototype.a=function(t,e){return new Br(t,e)};function Br(t,e){yr.call(this),this.a=new PM(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Jv(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jv(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new ec(this)}Un(Br,yr);Y=Br.prototype;Y.addEventListener=function(t,e,n,r){Br.S.addEventListener.call(this,t,e,n,r)};Y.removeEventListener=function(t,e,n,r){Br.S.removeEventListener.call(this,t,e,n,r)};Y.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;vr(),t.fa=e,t.W=n||{},t.H=t.T,t.B=VM(t,null,t.fa),Im(t)};Y.close=function(){jS(this.a)};Y.Pa=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ew(this.a,e)}else this.g?(e={},e.__data__=CS(t),Ew(this.a,e)):Ew(this.a,t)};Y.G=function(){this.a.f=null,delete this.f,jS(this.a),delete this.a,Br.S.G.call(this)};function WM(t){OS.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Un(WM,OS);function qM(){PS.call(this),this.status=1}Un(qM,PS);function ec(t){this.a=t}Un(ec,zM);ec.prototype.ta=function(){this.a.dispatchEvent("a")};ec.prototype.sa=function(t){this.a.dispatchEvent(new WM(t))};ec.prototype.ra=function(t){this.a.dispatchEvent(new qM)};ec.prototype.qa=function(){this.a.dispatchEvent("b")};og.prototype.createWebChannel=og.prototype.a;Br.prototype.send=Br.prototype.Pa;Br.prototype.open=Br.prototype.Oa;Br.prototype.close=Br.prototype.close;_m.NO_ERROR=0;_m.TIMEOUT=8;_m.HTTP_ERROR=6;hM.COMPLETE="complete";dM.EventType=Gh;Gh.OPEN="a";Gh.CLOSE="b";Gh.ERROR="c";Gh.MESSAGE="d";yr.prototype.listen=yr.prototype.va;zt.prototype.listenOnce=zt.prototype.wa;zt.prototype.getLastError=zt.prototype.Qa;zt.prototype.getLastErrorCode=zt.prototype.ua;zt.prototype.getStatus=zt.prototype.X;zt.prototype.getResponseJson=zt.prototype.Na;zt.prototype.getResponseText=zt.prototype.$;zt.prototype.send=zt.prototype.ba;var C7=function(){return new og},bw=_m,N7=hM,Fd=dM,k7=zt;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return re(e,t),e}(Error),di=new Ql("@firebase/firestore");function sg(){return di.logLevel}function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=pe.DEBUG){var r=e.map(BS);di.debug.apply(di,Xn(["Firestore (7.24.0): "+t],r))}}function ft(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=pe.ERROR){var r=e.map(BS);di.error.apply(di,Xn(["Firestore (7.24.0): "+t],r))}}function hx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=pe.WARN){var r=e.map(BS);di.warn.apply(di,Xn(["Firestore (7.24.0): "+t],r))}}function BS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw ft(e),new Error(e)}function ae(t,e){t||ne()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HM(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GM=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.t=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.i(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(e){return e=e===void 0?1:e,this.o(this.segments,this.offset+e,this.length-e)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.m=function(){return this.length===0},t.prototype.T=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),et=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.o=function(n,r,i){return new e(n,r,i)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.P=function(){return new e([])},e}(GM),A7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.o=function(n,r,i){return new e(n,r,i)},e.V=function(n){return A7.test(n)},e.prototype.R=function(){return this.A().map(function(n){return n=n.replace("\\","\\\\").replace("`","\\`"),e.V(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return this.length===1&&this.get(0)==="__name__"},e.v=function(){return new e(["__name__"])},e.S=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.P=function(){return new e([])},e}(GM),ue=function(){function t(e){this.path=e}return t.D=function(e){return new t(et.g(e))},t.C=function(e){return new t(et.g(e).u(5))},t.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&et.i(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.i=function(e,n){return et.i(e.path,n.path)},t.F=function(e){return e.length%2==0},t.$=function(e){return new t(new et(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){if(e.length!==0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+xa(e.length,"argument")+".")}function Je(t,e,n){if(e.length!==n)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires "+xa(n,"argument")+", but was called with "+xa(e.length,"argument")+".")}function fi(t,e,n){if(e.length<n)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires at least "+xa(n,"argument")+", but was called with "+xa(e.length,"argument")+".")}function Fr(t,e,n,r){if(e.length<n||e.length>r)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+xa(e.length,"argument")+".")}function Rt(t,e,n,r){XM(t,e,Xh(n)+" argument",r)}function pl(t,e,n,r){r!==void 0&&Rt(t,e,n,r)}function KM(t,e,n,r){XM(t,e,n+" option",r)}function oi(t,e,n,r){r!==void 0&&KM(t,e,n,r)}function QM(t,e,n,r,i){r!==void 0&&function(s,a,l,c,h){for(var d=[],g=0,v=h;g<v.length;g++){var y=v[g];if(y===c)return;d.push(ji(y))}var _=ji(c);throw new j(D.INVALID_ARGUMENT,"Invalid value "+_+" provided to function "+s+'() for option "'+l+'". Acceptable values: '+d.join(", "))}(t,0,n,r,i)}function YM(t,e,n,r){if(!e.some(function(i){return i===r}))throw new j(D.INVALID_ARGUMENT,"Invalid value "+ji(r)+" provided to function "+t+"() for its "+Xh(n)+" argument. Acceptable values: "+e.join(", "));return r}function XM(t,e,n,r){if(!(e==="object"?JM(r):e==="non-empty string"?typeof r=="string"&&r!=="":typeof r===e)){var i=ji(r);throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function JM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ji(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ne()}function vx(t,e,n){if(n===void 0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Xh(e)+" argument, but it was undefined.")}function Wa(t,e,n){tc(e,function(r,i){if(n.indexOf(r)<0)throw new j(D.INVALID_ARGUMENT,"Unknown option '"+r+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function qa(t,e,n,r){var i=ji(r);return new j(D.INVALID_ARGUMENT,"Function "+t+"() requires its "+Xh(n)+" argument to be a "+e+", but it was: "+i)}function gx(t,e,n){if(n<=0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() requires its "+Xh(e)+" argument to be a positive number, but it was: "+n+".")}function Xh(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function xa(t,e){return t+" "+e+(t===1?"":"s")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZM=function(){function t(){}return t.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=R7(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function Ee(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function eF(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn=function(){function t(e){this.M=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.M,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(e){return Ee(this.M,e.M)},t.prototype.isEqual=function(e){return this.M===e.M},t}();Sn.B=new Sn("");var zS=function(){function t(e){this.q=e}return t.fromBase64String=function(e){try{return new t(Sn.fromBase64String(e))}catch(n){throw new j(D.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Sn.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.q.isEqual(e.q)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){if(typeof Uint8Array=="undefined")throw new j(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yx(){if(typeof atob=="undefined")throw new j(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var g1=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.fromBase64String=function(n){Je("Blob.fromBase64String",arguments,1),Rt("Blob.fromBase64String","string",1,n),yx();try{return new e(Sn.fromBase64String(n))}catch(r){throw new j(D.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(n){if(Je("Blob.fromUint8Array",arguments,1),mx(),!(n instanceof Uint8Array))throw qa("Blob.fromUint8Array","Uint8Array",1,n);return new e(Sn.fromUint8Array(n))},e.prototype.toBase64=function(){return Je("Blob.toBase64",arguments,0),yx(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Je("Blob.toUint8Array",arguments,0),mx(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(zS),x7=function(t,e,n,r,i,s){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=s},m1=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(e){return Ee(this.projectId,e.projectId)||Ee(this.database,e.database)},t}(),nc=function(){function t(e,n){this.K=e,this.G=n,this.H={}}return t.prototype.get=function(e){var n=this.K(e),r=this.H[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.G(l,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.K(e),i=this.H[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.G(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.H[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.K(e),r=this.H[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.G(r[i][0],e))return r.length===1?delete this.H[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){tc(this.H,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];e(l,c)}})},t.prototype.m=function(){return HM(this.H)},t}(),Jn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ce=function(){function t(e){this.timestamp=e}return t.J=function(e){return new t(e)},t.min=function(){return new t(new Jn(0,0))},t.prototype.L=function(e){return this.timestamp.Y(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return t==null}function ag(t){return t===0&&1/t==-1/0}function tF(t){return typeof t=="number"&&Number.isInteger(t)&&!ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O7=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.tt=null};function _x(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new O7(t,e,n,r,i,s,a)}function Jh(t){var e=Q(t);if(e.tt===null){var n=e.path.R();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.R()+i.op.toString()+GS(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return(i=r).field.R()+i.dir;var i}).join(","),Ha(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=gg(e.startAt)),e.endAt&&(n+="|ub:",n+=gg(e.endAt)),e.tt=n}return e.tt}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!cQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!$i(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fx(t.startAt,e.startAt)&&Fx(t.endAt,e.endAt)}function ug(t){return ue.F(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,ke,Cm=function(){function t(e,n,r,i,s,a,l){s===void 0&&(s=Ce.min()),a===void 0&&(a=Ce.min()),l===void 0&&(l=Sn.B),this.target=e,this.targetId=n,this.et=r,this.sequenceNumber=i,this.nt=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),P7=function(t){this.count=t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){switch(t){case D.OK:return ne();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ne()}}function rF(t){if(t===void 0)return ft("GRPC error has no .code"),D.UNKNOWN;switch(t){case It.OK:return D.OK;case It.CANCELLED:return D.CANCELLED;case It.UNKNOWN:return D.UNKNOWN;case It.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case It.INTERNAL:return D.INTERNAL;case It.UNAVAILABLE:return D.UNAVAILABLE;case It.UNAUTHENTICATED:return D.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case It.NOT_FOUND:return D.NOT_FOUND;case It.ALREADY_EXISTS:return D.ALREADY_EXISTS;case It.PERMISSION_DENIED:return D.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case It.ABORTED:return D.ABORTED;case It.OUT_OF_RANGE:return D.OUT_OF_RANGE;case It.UNIMPLEMENTED:return D.UNIMPLEMENTED;case It.DATA_LOSS:return D.DATA_LOSS;default:return ne()}}(ke=It||(It={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(){function t(e,n){this.i=e,this.root=n||Qo.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Qo.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Qo.at,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.m();){var r=this.i(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.m();){var i=this.i(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(e){return this.root.ht(e)},t.prototype.forEach=function(e){this.ht(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.ht(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.lt=function(e){return this.root.lt(e)},t.prototype._t=function(){return new Ud(this.root,null,this.i,!1)},t.prototype.ft=function(e){return new Ud(this.root,e,this.i,!1)},t.prototype.dt=function(){return new Ud(this.root,null,this.i,!0)},t.prototype.wt=function(e){return new Ud(this.root,e,this.i,!0)},t}(),Ud=function(){function t(e,n,r,i){this.Tt=i,this.Et=[];for(var s=1;!e.m();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.Tt?e.left:e.right;else{if(s===0){this.Et.push(e);break}this.Et.push(e),e=this.Tt?e.right:e.left}}return t.prototype.It=function(){var e=this.Et.pop(),n={key:e.key,value:e.value};if(this.Tt)for(e=e.left;!e.m();)this.Et.push(e),e=e.right;else for(e=e.right;!e.m();)this.Et.push(e),e=e.left;return n},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(this.Et.length===0)return null;var e=this.Et[this.Et.length-1];return{key:e.key,value:e.value}},t}(),Qo=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:t.EMPTY,this.right=s!=null?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(e){return this.left.ht(e)||e(this.key,this.value)||this.right.ht(e)},t.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.ot(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.ot(e,n,r))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),n(e,i.key)===0){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var e=this;return e.right.yt()&&!e.left.yt()&&(e=e.St()),e.left.yt()&&e.left.left.yt()&&(e=e.bt()),e.left.yt()&&e.right.yt()&&(e=e.Dt()),e},t.prototype.Vt=function(){var e=this.Dt();return e.right.left.yt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},t.prototype.vt=function(){var e=this.Dt();return e.left.left.yt()&&(e=(e=e.bt()).Dt()),e},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw ne();var e=this.left.Nt();if(e!==this.right.Nt())throw ne();return e+(this.yt()?0:1)},t}();Qo.EMPTY=null,Qo.RED=!0,Qo.at=!1,Qo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ne()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ne()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ne()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ne()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ne()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.ot=function(e,n,r){return new Qo(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(e){return!1},t.prototype.lt=function(e){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=function(){function t(e){this.i=e,this.data=new In(this.i)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.ht(function(n,r){return e(n),!1})},t.prototype.Ft=function(e,n){for(var r=this.data.ft(e[0]);r.At();){var i=r.It();if(this.i(i.key,e[1])>=0)return;n(i.key)}},t.prototype.xt=function(e,n){var r;for(r=n!==void 0?this.data.ft(n):this.data._t();r.At();)if(!e(r.It().key))return},t.prototype.$t=function(e){var n=this.data.ft(e);return n.At()?n.It().key:null},t.prototype._t=function(){return new wx(this.data._t())},t.prototype.ft=function(e){return new wx(this.data.ft(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,s=r.It().key;if(this.i(i,s)!==0)return!1}return!0},t.prototype.A=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),wx=function(){function t(e){this.Mt=e}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),D7=new In(ue.i);function Oa(){return D7}function lg(){return Oa()}var L7=new In(ue.i);function mh(){return L7}var M7=new In(ue.i),F7=new Bt(ue.i);function Qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=F7,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var U7=new Bt(Ee);function Nm(){return U7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iF=function(){function t(e){this.i=e?function(n,r){return e(n,r)||ue.i(n.key,r.key)}:function(n,r){return ue.i(n.key,r.key)},this.Ot=mh(),this.Lt=new In(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(e){return this.Ot.get(e)!=null},t.prototype.get=function(e){return this.Ot.get(e)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(e){var n=this.Ot.get(e);return n?this.Lt.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Lt.ht(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.Ot.ot(e.key,e),n.Lt.ot(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.Ot.remove(e),this.Lt.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,s=r.It().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Ex=function(){function t(){this.qt=new In(ue.i)}return t.prototype.track=function(e){var n=e.doc.key,r=this.qt.get(n);r?e.type!==0&&r.type===3?this.qt=this.qt.ot(n,e):e.type===3&&r.type!==1?this.qt=this.qt.ot(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.qt=this.qt.ot(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.qt=this.qt.remove(n):e.type===1&&r.type===2?this.qt=this.qt.ot(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):ne():this.qt=this.qt.ot(n,e)},t.prototype.Ut=function(){var e=[];return this.qt.ht(function(n,r){e.push(r)}),e},t}(),cg=function(){function t(e,n,r,i,s,a,l,c){this.query=e,this.docs=n,this.Qt=r,this.docChanges=i,this.Wt=s,this.fromCache=a,this.jt=l,this.Kt=c}return t.Gt=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,iF.Bt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.jt===e.jt&&this.Wt.isEqual(e.Wt)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Qt.isEqual(e.Qt)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),WS=function(){function t(e,n,r,i,s){this.nt=e,this.zt=n,this.Ht=r,this.Yt=i,this.Jt=s}return t.Xt=function(e,n){var r=new Map;return r.set(e,qS.Zt(e,n)),new t(Ce.min(),r,Nm(),Oa(),Qe())},t}(),qS=function(){function t(e,n,r,i,s){this.resumeToken=e,this.te=n,this.ee=r,this.ne=i,this.se=s}return t.Zt=function(e,n){return new t(Sn.B,n,Qe(),Qe(),Qe())},t}(),pv=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},oF=function(t,e){this.targetId=t,this.oe=e},sF=function(t,e,n,r){n===void 0&&(n=Sn.B),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bx=function(){function t(){this.ae=0,this.ce=Ix(),this.ue=Sn.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.ae!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(e){e.O()>0&&(this.le=!0,this.ue=e)},t.prototype.we=function(){var e=Qe(),n=Qe(),r=Qe();return this.ce.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new qS(this.ue,this.he,e,n,r)},t.prototype.me=function(){this.le=!1,this.ce=Ix()},t.prototype.Te=function(e,n){this.le=!0,this.ce=this.ce.ot(e,n)},t.prototype.Ee=function(e){this.le=!0,this.ce=this.ce.remove(e)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),j7=function(){function t(e){this.ge=e,this.Pe=new Map,this.ye=Oa(),this.Ve=Sx(),this.pe=new Bt(Ee)}return t.prototype.be=function(e){for(var n=0,r=e.ie;n<r.length;n++){var i=r[n];e.re instanceof De?this.ve(i,e.re):e.re instanceof Qt&&this.Se(i,e.key,e.re)}for(var s=0,a=e.removedTargetIds;s<a.length;s++){var l=a[s];this.Se(l,e.key,e.re)}},t.prototype.De=function(e){var n=this;this.Ce(e,function(r){var i=n.Ne(r);switch(e.state){case 0:n.Fe(r)&&i.de(e.resumeToken);break;case 1:i.Ae(),i._e||i.me(),i.de(e.resumeToken);break;case 2:i.Ae(),i._e||n.removeTarget(r);break;case 3:n.Fe(r)&&(i.Re(),i.de(e.resumeToken));break;case 4:n.Fe(r)&&(n.xe(r),i.de(e.resumeToken));break;default:ne()}})},t.prototype.Ce=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.Pe.forEach(function(i,s){r.Fe(s)&&n(s)})},t.prototype.$e=function(e){var n=e.targetId,r=e.oe.count,i=this.ke(n);if(i){var s=i.target;if(ug(s))if(r===0){var a=new ue(s.path);this.Se(n,a,new Qt(a,Ce.min()))}else ae(r===1);else this.Me(n)!==r&&(this.xe(n),this.pe=this.pe.add(n))}},t.prototype.Oe=function(e){var n=this,r=new Map;this.Pe.forEach(function(a,l){var c=n.ke(l);if(c){if(a.te&&ug(c.target)){var h=new ue(c.target.path);n.ye.get(h)!==null||n.Le(l,h)||n.Se(l,h,new Qt(h,e))}a.fe&&(r.set(l,a.we()),a.me())}});var i=Qe();this.Ve.forEach(function(a,l){var c=!0;l.xt(function(h){var d=n.ke(h);return!d||d.et===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new WS(e,r,this.pe,this.ye,i);return this.ye=Oa(),this.Ve=Sx(),this.pe=new Bt(Ee),s},t.prototype.ve=function(e,n){if(this.Fe(e)){var r=this.Le(e,n.key)?2:0;this.Ne(e).Te(n.key,r),this.ye=this.ye.ot(n.key,n),this.Ve=this.Ve.ot(n.key,this.Be(n.key).add(e))}},t.prototype.Se=function(e,n,r){if(this.Fe(e)){var i=this.Ne(e);this.Le(e,n)?i.Te(n,1):i.Ee(n),this.Ve=this.Ve.ot(n,this.Be(n).delete(e)),r&&(this.ye=this.ye.ot(n,r))}},t.prototype.removeTarget=function(e){this.Pe.delete(e)},t.prototype.Me=function(e){var n=this.Ne(e).we();return this.ge.qe(e).size+n.ee.size-n.se.size},t.prototype.Ie=function(e){this.Ne(e).Ie()},t.prototype.Ne=function(e){var n=this.Pe.get(e);return n||(n=new bx,this.Pe.set(e,n)),n},t.prototype.Be=function(e){var n=this.Ve.get(e);return n||(n=new Bt(Ee),this.Ve=this.Ve.ot(e,n)),n},t.prototype.Fe=function(e){var n=this.ke(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ke=function(e){var n=this.Pe.get(e);return n&&n._e?null:this.ge.Ue(e)},t.prototype.xe=function(e){var n=this;this.Pe.set(e,new bx),this.ge.qe(e).forEach(function(r){n.Se(e,r,null)})},t.prototype.Le=function(e,n){return this.ge.qe(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return new In(ue.i)}function Ix(){return new In(ue.i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function aF(t){var e=t.mapValue.fields.__previous_value__;return HS(e)?aF(e):e}function yh(t){var e=ms(t.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HS(t)?4:10:ne()}function $i(t,e){var n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yh(t).isEqual(yh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ms(r.timestampValue),a=ms(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ol(r.bytesValue).isEqual(Ol(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ct(r.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ct(r.integerValue)===Ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Ct(r.doubleValue),a=Ct(i.doubleValue);return s===a?ag(s)===ag(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(px(s)!==px(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!$i(s[l],a[l])))return!1;return!0}(t,e);default:return ne()}}function _h(t,e){return(t.values||[]).find(function(n){return $i(n,e)})!==void 0}function xl(t,e){var n=gs(t),r=gs(e);if(n!==r)return Ee(n,r);switch(n){case 0:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Ct(i.integerValue||i.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Tx(t.timestampValue,e.timestampValue);case 4:return Tx(yh(t),yh(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(i,s){var a=Ol(i),l=Ol(s);return a.L(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Ee(a[c],l[c]);if(h!==0)return h}return Ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=Ee(Ct(i.latitude),Ct(s.latitude));return a!==0?a:Ee(Ct(i.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=xl(a[c],l[c]);if(h)return h}return Ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var d=0;d<l.length&&d<h.length;++d){var g=Ee(l[d],h[d]);if(g!==0)return g;var v=xl(a[l[d]],c[h[d]]);if(v!==0)return v}return Ee(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Tx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);var n=ms(t),r=ms(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function GS(t){return y1(t)}function y1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=ms(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ol(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.C(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=y1(l[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+y1(r.fields[c])}return i+"}"}(t.mapValue):ne();var e,n}function ms(t){if(ae(!!t),typeof t=="string"){var e=0,n=$7.exec(t);if(ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ol(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}function fg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function _1(t){return!!t&&"integerValue"in t}function KS(t){return!!t&&"arrayValue"in t}function w1(t){return!!t&&"nullValue"in t}function E1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function QS(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V7={asc:"ASCENDING",desc:"DESCENDING"},B7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z7=function(t,e){this.U=t,this.Qe=e};function uF(t){return{integerValue:""+t}}function lF(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ag(e)?"-0":e}}function cF(t,e){return tF(e)?uF(e):lF(t,e)}function hg(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fF(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function W7(t,e){return hg(t,e.Z())}function hi(t){return ae(!!t),Ce.J(function(e){var n=ms(e);return new Jn(n.seconds,n.nanos)}(t))}function YS(t,e){return function(n){return new et(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).R()}function hF(t){var e=et.g(t);return ae(yF(e)),e}function dl(t,e){return YS(t.U,e.path)}function Oi(t,e){var n=hF(e);return ae(n.get(1)===t.U.projectId),ae(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new ue(dF(n))}function b1(t,e){return YS(t.U,e)}function pF(t){var e=hF(t);return e.length===4?et.P():dF(e)}function wh(t){return new et(["projects",t.U.projectId,"databases",t.U.database]).R()}function dF(t){return ae(t.length>4&&t.get(4)==="documents"),t.u(5)}function Cx(t,e,n){return{name:dl(t,e),fields:n.proto.mapValue.fields}}function pg(t,e){var n;if(e instanceof tp)n={update:Cx(t,e.key,e.value)};else if(e instanceof np)n={delete:dl(t,e.key)};else if(e instanceof xs)n={update:Cx(t,e.key,e.data),updateMask:Y7(e.We)};else if(e instanceof Ga)n={transform:{document:dl(t,e.key),fieldTransforms:e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Pl)return{fieldPath:s.field.R(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pa)return{fieldPath:s.field.R(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.R(),removeAllFromArray:{values:a.elements}};if(a instanceof Dl)return{fieldPath:s.field.R(),increment:a.je};throw ne()}(0,r)})}};else{if(!(e instanceof XS))return ne();n={verify:dl(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:W7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(t,e.Ge)),n}function Nx(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?gn.updateTime(hi(d.updateTime)):d.exists!==void 0?gn.exists(d.exists):gn.ze()}(e.currentDocument):gn.ze();if(e.update){e.update.name;var r=Oi(t,e.update.name),i=new ys({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(d){var g=d.fieldPaths||[];return new Ll(g.map(function(v){return mi.S(v)}))}(e.updateMask);return new xs(r,i,s,n)}return new tp(r,i,n)}if(e.delete){var a=Oi(t,e.delete);return new np(a,n)}if(e.transform){var l=Oi(t,e.transform.document),c=e.transform.fieldTransforms.map(function(d){return function(g,v){var y=null;if("setToServerValue"in v)ae(v.setToServerValue==="REQUEST_TIME"),y=new Pl;else if("appendMissingElements"in v){var _=v.appendMissingElements.values||[];y=new Pa(_)}else if("removeAllFromArray"in v){var E=v.removeAllFromArray.values||[];y=new Da(E)}else"increment"in v?y=new Dl(g,v.increment):ne();var C=mi.S(v.fieldPath);return new Zh(C,y)}(t,d)});return ae(n.exists===!0),new Ga(l,c)}if(e.verify){var h=Oi(t,e.verify);return new XS(h,n)}return ne()}function vF(t,e){return{documents:[b1(t,e.path)]}}function gF(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=b1(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=b1(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(d){if(d.op==="=="){if(E1(d.value))return{unaryFilter:{field:Du(d.field),op:"IS_NAN"}};if(w1(d.value))return{unaryFilter:{field:Du(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(E1(d.value))return{unaryFilter:{field:Du(d.field),op:"IS_NOT_NAN"}};if(w1(d.value))return{unaryFilter:{field:Du(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(d.field),op:G7(d.op),value:d.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:Du(h.field),direction:H7(h.dir)}}(c)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.Qe||Ha(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=kx(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kx(e.endAt)),n}function q7(t){var e=pF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=mF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(v){return new vl(nl(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g)}));var c=null;n.limit&&(c=function(g){var v;return Ha(v=typeof g=="object"?g.value:g)?null:v}(n.limit));var h=null;n.startAt&&(h=Ax(n.startAt));var d=null;return n.endAt&&(d=Ax(n.endAt)),Vi(NF(e,i,l,a,c,"F",h,d))}function mF(t){return t?t.unaryFilter!==void 0?[Q7(t)]:t.fieldFilter!==void 0?[K7(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return mF(e)}).reduce(function(e,n){return e.concat(n)}):ne():[]}function kx(t){return{before:t.before,values:t.position}}function Ax(t){var e=!!t.before,n=t.values||[];return new Eh(n,e)}function H7(t){return V7[t]}function G7(t){return B7[t]}function Du(t){return{fieldPath:t.R()}}function nl(t){return mi.S(t.fieldPath)}function K7(t){return fr.create(nl(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}function Q7(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nl(t.unaryFilter.field);return fr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nl(t.unaryFilter.field);return fr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nl(t.unaryFilter.field);return fr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nl(t.unaryFilter.field);return fr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ne()}}function Y7(t){var e=[];return t.fields.forEach(function(n){return e.push(n.R())}),{fieldPaths:e}}function yF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(){this.He=void 0};function X7(t,e,n){return t instanceof Pl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Pa?wF(t,e):t instanceof Da?EF(t,e):function(r,i){var s=_F(r,i),a=Rx(s)+Rx(r.je);return _1(s)&&_1(r.je)?uF(a):lF(r.serializer,a)}(t,e)}function J7(t,e,n){return t instanceof Pa?wF(t,e):t instanceof Da?EF(t,e):n}function _F(t,e){return t instanceof Dl?_1(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Pl=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e}(km),Pa=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return re(e,t),e}(km);function wF(t,e){for(var n=bF(e),r=function(a){n.some(function(l){return $i(l,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Da=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return re(e,t),e}(km);function EF(t,e){for(var n=bF(e),r=function(a){n=n.filter(function(l){return!$i(l,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Dl=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).serializer=n,i.je=r,i}return re(e,t),e}(km);function Rx(t){return Ct(t.integerValue||t.doubleValue)}function bF(t){return KS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ll=function(){function t(e){this.fields=e,e.sort(mi.i)}return t.prototype.Ye=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].T(e))return!0;return!1},t.prototype.isEqual=function(e){return Rl(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Zh=function(t,e){this.field=t,this.transform=e},Z7=function(t,e){this.version=t,this.transformResults=e},gn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function rl(t,e){return t.updateTime!==void 0?e instanceof De&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof De}var ep=function(){};function eQ(t,e,n){return t instanceof tp?function(r,i,s){return new De(r.key,s.version,r.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof xs?function(r,i,s){if(!rl(r.Ge,i))return new dg(r.key,s.version);var a=SF(r,i);return new De(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ga?function(r,i,s){if(ae(s.transformResults!=null),!rl(r.Ge,i))return new dg(r.key,s.version);var a=IF(r,i),l=function(d,g,v){var y=[];ae(d.length===v.length);for(var _=0;_<v.length;_++){var E=d[_],C=E.transform,b=null;g instanceof De&&(b=g.field(E.field)),y.push(J7(C,b,v[_]))}return y}(r.fieldTransforms,i,s.transformResults),c=s.version,h=TF(r,a.data(),l);return new De(r.key,c,h,{hasCommittedMutations:!0})}(t,e,n):function(r,i,s){return new Qt(r.key,s.version,{hasCommittedMutations:!0})}(t,0,n)}function S1(t,e,n,r){return t instanceof tp?function(i,s){if(!rl(i.Ge,s))return s;var a=Ox(s);return new De(i.key,a,i.value,{Je:!0})}(t,e):t instanceof xs?function(i,s){if(!rl(i.Ge,s))return s;var a=Ox(s),l=SF(i,s);return new De(i.key,a,l,{Je:!0})}(t,e):t instanceof Ga?function(i,s,a,l){if(!rl(i.Ge,s))return s;var c=IF(i,s),h=function(g,v,y,_){for(var E=[],C=0,b=g;C<b.length;C++){var I=b[C],T=I.transform,R=null;y instanceof De&&(R=y.field(I.field)),R===null&&_ instanceof De&&(R=_.field(I.field)),E.push(X7(T,R,v))}return E}(i.fieldTransforms,a,s,l),d=TF(i,c.data(),h);return new De(i.key,c.version,d,{Je:!0})}(t,e,r,n):function(i,s){return rl(i.Ge,s)?new Qt(i.key,Ce.min()):s}(t,e)}function tQ(t,e){return t instanceof Ga?function(n,r){for(var i=null,s=0,a=n.fieldTransforms;s<a.length;s++){var l=a[s],c=r instanceof De?r.field(l.field):void 0,h=_F(l.transform,c||null);h!=null&&(i=i==null?new rp().set(l.field,h):i.set(l.field,h))}return i?i.Xe():null}(t,e):null}function xx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(t.type===0?t.value.isEqual(e.value):t.type===1?t.data.isEqual(e.data)&&t.We.isEqual(e.We):t.type!==2||Rl(t.fieldTransforms,t.fieldTransforms,function(n,r){return function(i,s){return i.field.isEqual(s.field)&&function(a,l){return a instanceof Pa&&l instanceof Pa||a instanceof Da&&l instanceof Da?Rl(a.elements,l.elements,$i):a instanceof Dl&&l instanceof Dl?$i(a.je,l.je):a instanceof Pl&&l instanceof Pl}(i.transform,s.transform)}(n,r)}))}function Ox(t){return t instanceof De?t.version:Ce.min()}var tp=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).key=n,s.value=r,s.Ge=i,s.type=0,s}return re(e,t),e}(ep),xs=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this)||this).key=n,a.data=r,a.We=i,a.Ge=s,a.type=1,a}return re(e,t),e}(ep);function SF(t,e){return function(n,r){var i=new rp(r);return n.We.fields.forEach(function(s){if(!s.m()){var a=n.data.field(s);a!==null?i.set(s,a):i.delete(s)}}),i.Xe()}(t,e instanceof De?e.data():ys.empty())}var Ga=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.fieldTransforms=r,i.type=2,i.Ge=gn.exists(!0),i}return re(e,t),e}(ep);function IF(t,e){return e}function TF(t,e,n){for(var r=new rp(e),i=0;i<t.fieldTransforms.length;i++){var s=t.fieldTransforms[i];r.set(s.field,n[i])}return r.Xe()}var np=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.Ge=r,i.type=3,i}return re(e,t),e}(ep),XS=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.Ge=r,i.type=4,i}return re(e,t),e}(ep),ys=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.m())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!QS(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e._()])||null},t.prototype.isEqual=function(e){return $i(this.proto,e.proto)},t}(),rp=function(){function t(e){e===void 0&&(e=ys.empty()),this.Ze=e,this.tn=new Map}return t.prototype.set=function(e,n){return this.en(e,n),this},t.prototype.delete=function(e){return this.en(e,null),this},t.prototype.en=function(e,n){for(var r=this.tn,i=0;i<e.length-1;++i){var s=e.get(i),a=r.get(s);a instanceof Map?r=a:a&&gs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(e._(),n)},t.prototype.Xe=function(){var e=this.nn(mi.P(),this.tn);return e!=null?new ys(e):this.Ze},t.prototype.nn=function(e,n){var r=this,i=!1,s=this.Ze.field(e),a=QS(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.nn(e.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},t}();function CF(t){var e=[];return tc(t.fields||{},function(n,r){var i=new mi([n]);if(QS(r)){var s=CF(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];e.push(i.child(c))}}else e.push(i)}),new Ll(e)}var JS=function(t,e){this.key=t,this.version=e},De=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this,n,r)||this).sn=i,a.Je=!!s.Je,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return re(e,t),e.prototype.field=function(n){return this.sn.field(n)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Je===n.Je&&this.hasCommittedMutations===n.hasCommittedMutations&&this.sn.isEqual(n.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(JS),Qt=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return re(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(JS),dg=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(JS),Io=function(t,e,n,r,i,s,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=s,this.startAt=a,this.endAt=l,this.cn=null,this.un=null,this.startAt,this.endAt};function NF(t,e,n,r,i,s,a,l){return new Io(t,e,n,r,i,s,a,l)}function ip(t){return new Io(t)}function dv(t){return!Ha(t.limit)&&t.an==="F"}function vg(t){return!Ha(t.limit)&&t.an==="L"}function ZS(t){return t.on.length>0?t.on[0].field:null}function eI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function tI(t){return t.collectionGroup!==null}function Ml(t){var e=Q(t);if(e.cn===null){e.cn=[];var n=eI(e),r=ZS(e);if(n!==null&&r===null)n.p()||e.cn.push(new vl(n)),e.cn.push(new vl(mi.v(),"asc"));else{for(var i=!1,s=0,a=e.on;s<a.length;s++){var l=a[s];e.cn.push(l),l.field.p()&&(i=!0)}if(!i){var c=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new vl(mi.v(),c))}}}return e.cn}function Vi(t){var e=Q(t);if(!e.un)if(e.an==="F")e.un=_x(e.path,e.collectionGroup,Ml(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ml(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new vl(s.field,a))}var l=e.endAt?new Eh(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Eh(e.startAt.position,!e.startAt.before):null;e.un=_x(e.path,e.collectionGroup,n,e.filters,e.limit,l,c)}return e.un}function Px(t,e,n){return new Io(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dx(t,e){return new Io(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Lx(t,e){return new Io(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function rc(t,e){return Tm(Vi(t),Vi(e))&&t.an===e.an}function kF(t){return Jh(Vi(t))+"|lt:"+t.an}function I1(t){return"Query(target="+function(e){var n=e.path.R();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.R()+" "+i.op+" "+GS(i.value);var i}).join(", ")+"]"),Ha(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return(i=r).field.R()+" ("+i.dir+")";var i}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+gg(e.startAt)),e.endAt&&(n+=", endAt: "+gg(e.endAt)),"Target("+n+")"}(Vi(t))+"; limitType="+t.an+")"}function op(t,e){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.N(n.collectionGroup)&&n.path.T(i):ue.F(n.path)?n.path.isEqual(i):n.path.I(i)}(t,e)&&function(n,r){for(var i=0,s=n.on;i<s.length;i++){var a=s[i];if(!a.field.p()&&r.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!Mx(n.startAt,Ml(n),r))&&(!n.endAt||!Mx(n.endAt,Ml(n),r))}(t,e)}function AF(t){return function(e,n){for(var r=!1,i=0,s=Ml(t);i<s.length;i++){var a=s[i],l=lQ(a,e,n);if(l!==0)return l;r=r||a.field.p()}return 0}}var fr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return re(e,t),e.create=function(n,r,i){if(n.p())return r==="in"||r==="not-in"?this.ln(n,r,i):new nQ(n,r,i);if(w1(i)){if(r!=="=="&&r!=="!=")throw new j(D.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(n,r,i)}if(E1(i)){if(r!=="=="&&r!=="!=")throw new j(D.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(n,r,i)}return r==="array-contains"?new oQ(n,i):r==="in"?new sQ(n,i):r==="not-in"?new aQ(n,i):r==="array-contains-any"?new uQ(n,i):new e(n,r,i)},e.ln=function(n,r,i){return r==="in"?new rQ(n,i):new iQ(n,i)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this._n(xl(r,this.value)):r!==null&&gs(this.value)===gs(r)&&this._n(xl(r,this.value))},e.prototype._n=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ne()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),nQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ue.C(i.referenceValue),s}return re(e,t),e.prototype.matches=function(n){var r=ue.i(n.key,this.key);return this._n(r)},e}(fr),rQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=RF("in",r),i}return re(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(fr),iQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=RF("not-in",r),i}return re(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(fr);function RF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ue.C(r.referenceValue)})}var oQ=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return re(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return KS(r)&&_h(r.arrayValue,this.value)},e}(fr),sQ=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return re(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&_h(this.value.arrayValue,r)},e}(fr),aQ=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return re(e,t),e.prototype.matches=function(n){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!_h(this.value.arrayValue,r)},e}(fr),uQ=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return re(e,t),e.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!KS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return _h(r.value.arrayValue,s)})},e}(fr),Eh=function(t,e){this.position=t,this.before=e};function gg(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return GS(e)}).join(",")}function Mx(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.p()?ue.i(ue.C(a.referenceValue),n.key):xl(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function Fx(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}var vl=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function lQ(t,e,n){var r=t.field.p()?ue.i(e.key,n.key):function(i,s,a){var l=s.field(i),c=a.field(i);return l!==null&&c!==null?xl(l,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}function cQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},nI=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=s,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(e){var n=this;this.cancel();var r=Math.floor(this.En+this.Pn()),i=Math.max(0,Date.now()-this.An),s=Math.max(0,r-i);s>0&&G("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.En+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.In=this.fn.yn(this.dn,s,function(){return n.An=Date.now(),e()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){this.In!==null&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){this.In!==null&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),W=function(){function t(e){var n=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e(function(r){n.Sn=!0,n.result=r,n.bn&&n.bn(r)},function(r){n.Sn=!0,n.error=r,n.vn&&n.vn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Dn&&ne(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(i,s){r.bn=function(a){r.Nn(e,a).next(i,s)},r.vn=function(a){r.Cn(n,a).next(i,s)}})},t.prototype.Fn=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Nn=function(e,n){return e?this.xn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.$n=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},t.kn=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.$n(i)},t}(),gl=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,t.On(Na())===12.2&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return G("SimpleDb","Removing database:",e),oa(window.indexedDB.deleteDatabase(e)).Fn()},t.Ln=function(){if(typeof indexedDB=="undefined")return!1;if(t.Bn())return!0;var e=Na(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Bn=function(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Un)==="YES"},t.Qn=function(e,n){return e.store(n)},t.On=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.qn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Wn=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(G("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new j(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Lf(e,h))},l.onupgradeneeded=function(c){G("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.Mn.createOrUpgrade(h,l.transaction,c.oldVersion,r.version).next(function(){G("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(s){return r.jn(s)}),this.db)]}})})},t.prototype.Kn=function(e){this.jn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return O(this,void 0,void 0,function(){var s,a,l,c,h;return x(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,l=function(){var g,v,y,_,E;return x(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,c.Wn(e)];case 2:return c.db=C.sent(),g=xF.open(c.db,e,s?"readonly":"readwrite",r),v=i(g).catch(function(b){return g.abort(b),W.reject(b)}).Fn(),y={},v.catch(function(){}),[4,g.Gn];case 3:return[2,(y.value=(C.sent(),v),y)];case 4:return _=C.sent(),E=_.name!=="FirebaseError"&&a<3,G("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),c.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,l()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fQ=function(){function t(e){this.zn=e,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(e){this.Yn=e},t.prototype.delete=function(){return oa(this.zn.delete())},t}(),Lf=function(t){function e(n,r){var i=this;return(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return re(e,t),e}(j);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){return t.name==="IndexedDbTransactionError"}var xF=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Zn=new sr,this.transaction.oncomplete=function(){r.Zn.resolve()},this.transaction.onabort=function(){n.error?r.Zn.reject(new Lf(e,n.error)):r.Zn.resolve()},this.transaction.onerror=function(i){var s=rI(i.target.error);r.Zn.reject(new Lf(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Lf(n,s)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new hQ(n)},t}(),hQ=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),oa(r)},t.prototype.add=function(e){return G("SimpleDb","ADD",this.store.name,e,e),oa(this.store.add(e))},t.prototype.get=function(e){var n=this;return oa(this.store.get(e)).next(function(r){return r===void 0&&(r=null),G("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return G("SimpleDb","DELETE",this.store.name,e),oa(this.store.delete(e))},t.prototype.count=function(){return G("SimpleDb","COUNT",this.store.name),oa(this.store.count())},t.prototype.ts=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.es(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.ns=function(e,n){G("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.ss=!1;var i=this.cursor(r);return this.es(i,function(s,a,l){return l.delete()})},t.prototype.rs=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.es(i,n)},t.prototype.os=function(e){var n=this.cursor({});return new W(function(r,i){n.onerror=function(s){var a=rI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},t.prototype.es=function(e,n){var r=[];return new W(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var c=new fQ(l),h=n(l.primaryKey,l.value,c);if(h instanceof W){var d=h.catch(function(g){return c.done(),W.reject(g)});r.push(d)}c.Sn?i():c.Jn===null?l.continue():l.continue(c.Jn)}else i()}}).next(function(){return W.$n(r)})},t.prototype.options=function(e,n){var r=void 0;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.ss?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function oa(t){return new W(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=rI(r.target.error);n(i)}})}var Ux=!1;function rI(t){var e=gl.On(Na());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ux||(Ux=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof window!="undefined"?window:null}function vv(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pQ=function(){function t(e,n,r,i,s){this.cs=e,this.dn=n,this.us=r,this.op=i,this.hs=s,this.ls=new sr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(a){})}return t._s=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.fs=setTimeout(function(){return n.ds()},e)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(e){this.fs!==null&&(this.clearTimeout(),this.ls.reject(new j(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.ds=function(){var e=this;this.cs.ws(function(){return e.fs!==null?(e.clearTimeout(),e.op().then(function(n){return e.ls.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.fs!==null&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),dQ=function(){function t(){var e=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new nI(this,"async_queue_retry"),this.Vs=function(){var r=vv();r&&G("AsyncQueue","Visibility state changed to  ",r.visibilityState),e.ys.Vn()};var n=vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(e){this.enqueue(e)},t.prototype.bs=function(e){this.vs(),this.Ss(e)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=vv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise(function(n){}):this.Ss(e)},t.prototype.Cs=function(e){var n=this;this.ws(function(){return n.Es.push(e),n.Ns()})},t.prototype.Ns=function(){return O(this,void 0,void 0,function(){var e,n=this;return x(this,function(r){switch(r.label){case 0:if(this.Es.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return r.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Ka(e=r.sent()))throw e;return G("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return n.Ns()}),r.label=5;case 5:return[2]}})})},t.prototype.Ss=function(e){var n=this,r=this.Ts.then(function(){return n.gs=!0,e().catch(function(i){throw n.Rs=i,n.gs=!1,ft("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gs=!1,i})});return this.Ts=r,r},t.prototype.yn=function(e,n,r){var i=this;this.vs(),this.Ps.indexOf(e)>-1&&(n=0);var s=pQ._s(this,e,n,r,function(a){return i.Fs(a)});return this.As.push(s),s},t.prototype.vs=function(){this.Rs&&ne()},t.prototype.xs=function(){},t.prototype.$s=function(){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return[4,e=this.Ts];case 1:n.sent(),n.label=2;case 2:if(e!==this.Ts)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.ks=function(e){for(var n=0,r=this.As;n<r.length;n++)if(r[n].dn===e)return!0;return!1},t.prototype.Ms=function(e){var n=this;return this.$s().then(function(){n.As.sort(function(a,l){return a.us-l.us});for(var r=0,i=n.As;r<i.length;r++){var s=i[r];if(s.pn(),e!=="all"&&s.dn===e)break}return n.$s()})},t.prototype.Os=function(e){this.Ps.push(e)},t.prototype.Fs=function(e){var n=this.As.indexOf(e);this.As.splice(n,1)},t}();function ju(t,e){if(ft("AsyncQueue",e+": "+t),Ka(t))return new j(D.UNAVAILABLE,e+": "+t);throw t}var vQ=function(){this.Ls=void 0,this.listeners=[]},gQ=function(){this.Bs=new nc(function(t){return kF(t)},rc),this.onlineState="Unknown",this.qs=new Set};function Sw(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:if(n=Q(t),r=e.query,i=!1,(s=n.Bs.get(r))||(i=!0,s=new vQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.Us(r)];case 2:return a.Ls=h.sent(),[3,4];case 3:return l=h.sent(),c=ju(l,"Initialization of query '"+I1(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(r,s),s.listeners.push(e),e.Qs(n.onlineState),s.Ls&&e.Ws(s.Ls)&&iI(n),[2]}})})}function Iw(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a;return x(this,function(l){return n=Q(t),r=e.query,i=!1,(s=n.Bs.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.Bs.delete(r),n.js(r))]:[2]})})}function mQ(t,e){for(var n=Q(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],l=a.query,c=n.Bs.get(l);if(c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].Ws(a)&&(r=!0);c.Ls=a}}r&&iI(n)}function yQ(t,e,n){var r=Q(t),i=r.Bs.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.Bs.delete(e)}function iI(t){t.qs.forEach(function(e){e.next()})}var Tw=function(){function t(e,n,r){this.query=e,this.Ks=n,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Ws=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new cg(e.query,e.docs,e.Qt,n,e.Wt,e.fromCache,e.jt,!0)}var a=!1;return this.Gs?this.Hs(e)&&(this.Ks.next(e),a=!0):this.Ys(e,this.onlineState)&&(this.Js(e),a=!0),this.zs=e,a},t.prototype.onError=function(e){this.Ks.error(e)},t.prototype.Qs=function(e){this.onlineState=e;var n=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,e)&&(this.Js(this.zs),n=!0),n},t.prototype.Ys=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.Xs&&r||e.docs.m()&&n!=="Offline")},t.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var n=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.jt&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.Js=function(e){e=cg.Gt(e.query,e.docs,e.Wt,e.fromCache),this.Gs=!0,this.Ks.next(e)},t}(),xr=function(){function t(e){this.uid=e}return t.prototype.Zs=function(){return this.uid!=null},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.UNAUTHENTICATED=new xr(null),xr.ei=new xr("google-credentials-uid"),xr.ni=new xr("first-party-uid");/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.si=function(i){return r.ii(i)},this.ri=function(i){return n.oi(i)})}return t.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},t}();function $x(t,e){return"firestore_clients_"+t+"_"+e}function Vx(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Cw(t,e){return"firestore_targets_"+t+"_"+e}hr.ai=-1;var Bx=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.ci=function(e,n,r){var i=JSON.parse(r),s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object"),a=void 0;return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(a=new j(i.error.code,i.error.message)),s?new t(e,n,i.state,a):(ft("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Nw=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ci=function(e,n){var r=JSON.parse(n),i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object"),s=void 0;return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(s=new j(r.error.code,r.error.message)),i?new t(e,r.state,s):(ft("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),zx=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ci=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Nm(),a=0;i&&a<r.activeTargetIds.length;++a)i=tF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(ft("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_Q=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ci=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(ft("SharedClientState","Failed to parse online state: "+e),null)},t}(),T1=function(){function t(){this.activeTargetIds=Nm()}return t.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.ui=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),kw=function(){function t(e,n,r,i,s){this.window=e,this.fn=n,this.persistenceKey=r,this._i=i,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new In(Ee),this.Ei=!1,this.Ii=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ai=$x(this.persistenceKey,this._i),this.Ri=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new T1),this.gi=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Vi=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return O(this,void 0,void 0,function(){var e,n,r,i,s,a,l,c,h,d,g,v=this;return x(this,function(y){switch(y.label){case 0:return[4,this.fi.pi()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this._i&&(s=this.getItem($x(this.persistenceKey,i)))&&(a=zx.ci(i,s))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(l=this.storage.getItem(this.Vi))&&(c=this.vi(l))&&this.Si(c),h=0,d=this.Ii;h<d.length;h++)g=d[h],this.mi(g);return this.Ii=[],this.window.addEventListener("unload",function(){return v.Di()}),this.Ei=!0,[2]}})})},t.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(e){var n=!1;return this.Ti.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.xi=function(e){this.$i(e,"pending")},t.prototype.ki=function(e,n,r){this.$i(e,n,r),this.Mi(e)},t.prototype.Oi=function(e){var n="not-current";if(this.Fi(e)){var r=this.storage.getItem(Cw(this.persistenceKey,e));if(r){var i=Nw.ci(e,r);i&&(n=i.state)}}return this.Li.hi(e),this.bi(),n},t.prototype.Bi=function(e){this.Li.li(e),this.bi()},t.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},t.prototype.Ui=function(e){this.removeItem(Cw(this.persistenceKey,e))},t.prototype.Qi=function(e,n,r){this.Wi(e,n,r)},t.prototype.ji=function(e,n,r){var i=this;n.forEach(function(s){i.Mi(s)}),this.currentUser=e,r.forEach(function(s){i.xi(s)})},t.prototype.Ki=function(e){this.Gi(e)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.mi=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(G("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ai)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return O(n,void 0,void 0,function(){var i,s,a,l,c,h;return x(this,function(d){if(this.Ei){if(r.key!==null)if(this.gi.test(r.key)){if(r.newValue==null)return i=this.zi(r.key),[2,this.Hi(i,null)];if(s=this.Yi(r.key,r.newValue))return[2,this.Hi(s.clientId,s)]}else if(this.Pi.test(r.key)){if(r.newValue!==null&&(a=this.Ji(r.key,r.newValue)))return[2,this.Xi(a)]}else if(this.yi.test(r.key)){if(r.newValue!==null&&(l=this.Zi(r.key,r.newValue)))return[2,this.tr(l)]}else if(r.key===this.Vi){if(r.newValue!==null&&(c=this.vi(r.newValue)))return[2,this.Si(c)]}else r.key===this.Ri&&(h=function(g){var v=hr.ai;if(g!=null)try{var y=JSON.parse(g);ae(typeof y=="number"),v=y}catch(_){ft("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(r.newValue))!==hr.ai&&this.si(h)}else this.Ii.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(e,n,r){var i=new Bx(this.currentUser,e,n,r),s=Vx(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ui())},t.prototype.Mi=function(e){var n=Vx(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Gi=function(e){var n={clientId:this._i,onlineState:e};this.storage.setItem(this.Vi,JSON.stringify(n))},t.prototype.Wi=function(e,n,r){var i=Cw(this.persistenceKey,e),s=new Nw(e,n,r);this.setItem(i,s.ui())},t.prototype.zi=function(e){var n=this.gi.exec(e);return n?n[1]:null},t.prototype.Yi=function(e,n){var r=this.zi(e);return zx.ci(r,n)},t.prototype.Ji=function(e,n){var r=this.Pi.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Bx.ci(new xr(s),i,n)},t.prototype.Zi=function(e,n){var r=this.yi.exec(e),i=Number(r[1]);return Nw.ci(i,n)},t.prototype.vi=function(e){return _Q.ci(e)},t.prototype.Xi=function(e){return O(this,void 0,void 0,function(){return x(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(G("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},t.prototype.Hi=function(e,n){var r=this,i=n?this.Ti.ot(e,n):this.Ti.remove(e),s=this.Ni(this.Ti),a=this.Ni(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.fi.sr(l,c).then(function(){r.Ti=i})},t.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},t.prototype.Ni=function(e){var n=Nm();return e.forEach(function(r,i){n=n.kt(i.activeTargetIds)}),n},t}(),C1=function(){function t(){this.ir=new T1,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(e){},t.prototype.ki=function(e,n,r){},t.prototype.Oi=function(e){return this.ir.hi(e),this.rr[e]||"not-current"},t.prototype.Qi=function(e,n,r){this.rr[e]=n},t.prototype.Bi=function(e){this.ir.li(e)},t.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.Ui=function(e){delete this.rr[e]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.start=function(){return this.ir=new T1,Promise.resolve()},t.prototype.ji=function(e,n,r){},t.prototype.Ki=function(e){},t.prototype.Di=function(){},t.prototype.oi=function(e){},t}(),oI=function(){function t(e,n,r,i){this.batchId=e,this.ar=n,this.baseMutations=r,this.mutations=i}return t.prototype.cr=function(e,n,r){for(var i=r.ur,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(e)&&(n=eQ(a,n,i[s]))}return n},t.prototype.hr=function(e,n){for(var r=0,i=this.baseMutations;r<i.length;r++){var s=i[r];s.key.isEqual(e)&&(n=S1(s,n,n,this.ar))}for(var a=n,l=0,c=this.mutations;l<c.length;l++){var h=c[l];h.key.isEqual(e)&&(n=S1(h,n,a,this.ar))}return n},t.prototype.lr=function(e){var n=this,r=e;return this.mutations.forEach(function(i){var s=n.hr(i.key,e.get(i.key));s&&(r=r.ot(i.key,s))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Qe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,function(n,r){return xx(n,r)})&&Rl(this.baseMutations,e.baseMutations,function(n,r){return xx(n,r)})},t}(),wQ=function(){function t(e,n,r,i){this.batch=e,this._r=n,this.ur=r,this.dr=i}return t.from=function(e,n,r){ae(e.mutations.length===r.length);for(var i=M7,s=e.mutations,a=0;a<s.length;a++)i=i.ot(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),OF=function(){function t(){this.wr=new nc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),t.prototype.Er=function(e,n){this.Ir(),this.readTime=n,this.wr.set(e.key,e)},t.prototype.Ar=function(e,n){this.Ir(),n&&(this.readTime=n),this.wr.set(e,null)},t.prototype.Rr=function(e,n){this.Ir();var r=this.wr.get(n);return r!==void 0?W.resolve(r):this.gr(e,n)},t.prototype.getEntries=function(e,n){return this.Pr(e,n)},t.prototype.apply=function(e){return this.Ir(),this.mr=!0,this.yr(e)},t.prototype.Ir=function(){},t}(),PF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DF=function(){function t(){this.Vr=[]}return t.prototype.pr=function(e){this.Vr.push(e)},t.prototype.br=function(){this.Vr.forEach(function(e){return e()})},t}(),LF=function(){function t(e,n,r){this.vr=e,this.Sr=n,this.Dr=r}return t.prototype.Cr=function(e,n){var r=this;return this.Sr.Nr(e,n).next(function(i){return r.Fr(e,n,i)})},t.prototype.Fr=function(e,n,r){return this.vr.Rr(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].hr(n,i);return i})},t.prototype.$r=function(e,n,r){var i=lg();return n.forEach(function(s,a){for(var l=0,c=r;l<c.length;l++)a=c[l].hr(s,a);i=i.ot(s,a)}),i},t.prototype.kr=function(e,n){var r=this;return this.vr.getEntries(e,n).next(function(i){return r.Mr(e,i)})},t.prototype.Mr=function(e,n){var r=this;return this.Sr.Or(e,n).next(function(i){var s=r.$r(e,n,i),a=Oa();return s.forEach(function(l,c){c||(c=new Qt(l,Ce.min())),a=a.ot(l,c)}),a})},t.prototype.Lr=function(e,n,r){return function(i){return ue.F(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Br(e,n.path):tI(n)?this.qr(e,n,r):this.Ur(e,n,r)},t.prototype.Br=function(e,n){return this.Cr(e,new ue(n)).next(function(r){var i=mh();return r instanceof De&&(i=i.ot(r.key,r)),i})},t.prototype.qr=function(e,n,r){var i=this,s=n.collectionGroup,a=mh();return this.Dr.Qr(e,s).next(function(l){return W.forEach(l,function(c){var h=function(d,g){return new Io(g,null,d.on.slice(),d.filters.slice(),d.limit,d.an,d.startAt,d.endAt)}(n,c.child(s));return i.Ur(e,h,r).next(function(d){d.forEach(function(g,v){a=a.ot(g,v)})})}).next(function(){return a})})},t.prototype.Ur=function(e,n,r){var i,s,a=this;return this.vr.Lr(e,n,r).next(function(l){return i=l,a.Sr.Wr(e,n)}).next(function(l){return s=l,a.jr(e,s,i).next(function(c){i=c;for(var h=0,d=s;h<d.length;h++)for(var g=d[h],v=0,y=g.mutations;v<y.length;v++){var _=y[v],E=_.key,C=i.get(E),b=S1(_,C,C,g.ar);i=b instanceof De?i.ot(E,b):i.remove(E)}})}).next(function(){return i.forEach(function(l,c){op(n,c)||(i=i.remove(l))}),i})},t.prototype.jr=function(e,n,r){for(var i=Qe(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof xs&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.vr.getEntries(e,i).next(function(g){return g.forEach(function(v,y){y!==null&&y instanceof De&&(d=d.ot(v,y))}),d})},t}(),EQ=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.Kr=r,this.Gr=i}return t.zr=function(e,n){for(var r=Qe(),i=Qe(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}();/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=Ee(n,i);return a===0?Ee(r,s):a}var bQ=function(){function t(e){this.Hr=e,this.buffer=new Bt(Wx),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(e){var n=[e,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Wx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qx={Zr:!1,eo:0,no:0,so:0},Tt=function(){function t(e,n,r){this.io=e,this.ro=n,this.oo=r}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();Tt.ho=-1,Tt.lo=1048576,Tt._o=41943040,Tt.co=10,Tt.uo=1e3,Tt.fo=new Tt(Tt._o,Tt.co,Tt.uo),Tt.do=new Tt(Tt.ho,0,0);var SQ=function(){function t(e,n){this.wo=e,this.cs=n,this.mo=!1,this.To=null}return t.prototype.start=function(e){this.wo.params.io!==Tt.ho&&this.Eo(e)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.To!==null},enumerable:!1,configurable:!0}),t.prototype.Eo=function(e){var n=this,r=this.mo?3e5:6e4;G("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.To=this.cs.yn("lru_garbage_collection",r,function(){return O(n,void 0,void 0,function(){var i;return x(this,function(s){switch(s.label){case 0:this.To=null,this.mo=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.Io(this.wo)];case 2:return s.sent(),[3,7];case 3:return Ka(i=s.sent())?(G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Qa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.Eo(e)];case 8:return s.sent(),[2]}})})})},t}(),IQ=function(){function t(e,n){this.Ao=e,this.params=n}return t.prototype.Ro=function(e,n){return this.Ao.Po(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.yo=function(e,n){var r=this;if(n===0)return W.resolve(hr.ai);var i=new bQ(n);return this.Ao.Ce(e,function(s){return i.Xr(s.sequenceNumber)}).next(function(){return r.Ao.Vo(e,function(s){return i.Xr(s)})}).next(function(){return i.maxValue})},t.prototype.po=function(e,n,r){return this.Ao.po(e,n,r)},t.prototype.bo=function(e,n){return this.Ao.bo(e,n)},t.prototype.vo=function(e,n){var r=this;return this.params.io===Tt.ho?(G("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(qx)):this.So(e).next(function(i){return i<r.params.io?(G("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.io),qx):r.Do(e,n)})},t.prototype.So=function(e){return this.Ao.So(e)},t.prototype.Do=function(e,n){var r,i,s,a,l,c,h,d=this,g=Date.now();return this.Ro(e,this.params.ro).next(function(v){return v>d.params.oo?(G("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.oo+" from "+v),i=d.params.oo):i=v,a=Date.now(),d.yo(e,i)}).next(function(v){return r=v,l=Date.now(),d.po(e,r,n)}).next(function(v){return s=v,c=Date.now(),d.bo(e,r)}).next(function(v){return h=Date.now(),sg()<=pe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+v+" documents in "+(h-c)+`ms
Total Duration: `+(h-g)+"ms"),W.resolve({Zr:!0,eo:i,no:s,so:v})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hx(e)),e=TQ(t.get(n),e);return Hx(e)}function TQ(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Hx(t){return t+""}function po(t){var e=t.length;if(ae(e>=2),e===2)return ae(t.charAt(0)===""&&t.charAt(1)===""),et.P();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&ne(),t.charAt(a+1)){case"":var l=t.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ne()}s=a+2}return new et(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CQ=function(t){this.Co=t};function N1(t,e){if(e.document)return function(a,l,c){var h=Oi(a,l.name),d=hi(l.updateTime),g=new ys({mapValue:{fields:l.fields}});return new De(h,d,g,{hasCommittedMutations:!!c})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ue.$(e.noDocument.path),r=yg(e.noDocument.readTime);return new Qt(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ue.$(e.unknownDocument.path),s=yg(e.unknownDocument.version);return new dg(i,s)}return ne()}function Gx(t,e,n){var r=sI(n),i=e.key.path.h().A();if(e instanceof De){var s=function(v,y){return{name:dl(v,y.key),fields:y.rn().mapValue.fields,updateTime:hg(v,y.version.Z())}}(t.Co,e),a=e.hasCommittedMutations;return new yt(null,null,s,a,r,i)}if(e instanceof Qt){var l=e.key.path.A(),c=mg(e.version),h=e.hasCommittedMutations;return new yt(null,new PQ(l,c),null,h,r,i)}if(e instanceof dg){var d=e.key.path.A(),g=mg(e.version);return new yt(new DQ(d,g),null,null,!0,r,i)}return ne()}function sI(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function MF(t){var e=new Jn(t[0],t[1]);return Ce.J(e)}function mg(t){var e=t.Z();return new OQ(e.seconds,e.nanoseconds)}function yg(t){var e=new Jn(t.seconds,t.nanoseconds);return Ce.J(e)}function $u(t,e){var n=(e.baseMutations||[]).map(function(s){return Nx(t.Co,s)}),r=e.mutations.map(function(s){return Nx(t.Co,s)}),i=Jn.fromMillis(e.localWriteTimeMs);return new oI(e.batchId,i,n,r)}function bf(t){var e,n,r=yg(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?yg(t.lastLimboFreeSnapshotVersion):Ce.min();return t.query.documents!==void 0?(ae((n=t.query).documents.length===1),e=Vi(ip(pF(n.documents[0])))):e=q7(t.query),new Cm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sn.fromBase64String(t.resumeToken))}function FF(t,e){var n,r=mg(e.nt),i=mg(e.lastLimboFreeSnapshotVersion);n=ug(e.target)?vF(t.Co,e.target):gF(t.Co,e.target);var s=e.resumeToken.toBase64();return new Gn(e.targetId,Jh(e.target),r,s,e.sequenceNumber,i,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NQ=function(){function t(e,n,r,i){this.userId=e,this.serializer=n,this.Dr=r,this.No=i,this.Fo={}}return t.xo=function(e,n,r,i){return ae(e.uid!==""),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).rs({index:Xe.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.ko=function(e,n,r,i){var s=this,a=Vu(e),l=$o(e);return l.add({}).next(function(c){ae(typeof c=="number");for(var h=new oI(c,n,r,i),d=function(b,I,T){var R=T.baseMutations.map(function(L){return pg(b.Co,L)}),A=T.mutations.map(function(L){return pg(b.Co,L)});return new Xe(I,T.batchId,T.ar.toMillis(),R,A)}(s.serializer,s.userId,h),g=[],v=new Bt(function(b,I){return Ee(b.R(),I.R())}),y=0,_=i;y<_.length;y++){var E=_[y],C=vn.key(s.userId,E.key.path,c);v=v.add(E.key.path.h()),g.push(l.put(d)),g.push(a.put(C,vn.PLACEHOLDER))}return v.forEach(function(b){g.push(s.Dr.Mo(e,b))}),e.pr(function(){s.Fo[c]=h.keys()}),W.$n(g).next(function(){return h})})},t.prototype.Oo=function(e,n){var r=this;return $o(e).get(n).next(function(i){return i?(ae(i.userId===r.userId),$u(r.serializer,i)):null})},t.prototype.Lo=function(e,n){var r=this;return this.Fo[n]?W.resolve(this.Fo[n]):this.Oo(e,n).next(function(i){if(i){var s=i.keys();return r.Fo[n]=s,s}return null})},t.prototype.Bo=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return $o(e).rs({index:Xe.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ae(c.batchId>=i),a=$u(r.serializer,c)),h.done()}).next(function(){return a})},t.prototype.qo=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return $o(e).rs({index:Xe.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.Uo=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).ts(Xe.userMutationsIndex,r).next(function(i){return i.map(function(s){return $u(n.serializer,s)})})},t.prototype.Nr=function(e,n){var r=this,i=vn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Vu(e).rs({range:s},function(l,c,h){var d=l[0],g=l[1],v=l[2],y=po(g);if(d===r.userId&&n.path.isEqual(y))return $o(e).get(v).next(function(_){if(!_)throw ne();ae(_.userId===r.userId),a.push($u(r.serializer,_))});h.done()}).next(function(){return a})},t.prototype.Or=function(e,n){var r=this,i=new Bt(Ee),s=[];return n.forEach(function(a){var l=vn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Vu(e).rs({range:c},function(d,g,v){var y=d[0],_=d[1],E=d[2],C=po(_);y===r.userId&&a.path.isEqual(C)?i=i.add(E):v.done()});s.push(h)}),W.$n(s).next(function(){return r.Qo(e,i)})},t.prototype.Wr=function(e,n){var r=this,i=n.path,s=i.length+1,a=vn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new Bt(Ee);return Vu(e).rs({range:l},function(h,d,g){var v=h[0],y=h[1],_=h[2],E=po(y);v===r.userId&&i.T(E)?E.length===s&&(c=c.add(_)):g.done()}).next(function(){return r.Qo(e,c)})},t.prototype.Qo=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push($o(e).get(a).next(function(l){if(l===null)throw ne();ae(l.userId===r.userId),i.push($u(r.serializer,l))}))}),W.$n(s).next(function(){return i})},t.prototype.Wo=function(e,n){var r=this;return jF(e.jo,this.userId,n).next(function(i){return e.pr(function(){r.Ko(n.batchId)}),W.forEach(i,function(s){return r.No.Go(e,s)})})},t.prototype.Ko=function(e){delete this.Fo[e]},t.prototype.zo=function(e){var n=this;return this.$o(e).next(function(r){if(!r)return W.resolve();var i=IDBKeyRange.lowerBound(vn.prefixForUser(n.userId)),s=[];return Vu(e).rs({range:i},function(a,l,c){if(a[0]===n.userId){var h=po(a[1]);s.push(h)}else c.done()}).next(function(){ae(s.length===0)})})},t.prototype.Ho=function(e,n){return UF(e,this.userId,n)},t.prototype.Yo=function(e){var n=this;return $F(e).get(this.userId).next(function(r){return r||new us(n.userId,-1,"")})},t}();function UF(t,e,n){var r=vn.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Vu(t).rs({range:s,ss:!0},function(l,c,h){var d=l[0],g=l[1];l[2],d===e&&g===i&&(a=!0),h.done()}).next(function(){return a})}function jF(t,e,n){var r=t.store(Xe.store),i=t.store(vn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.rs({range:a},function(_,E,C){return l++,C.delete()});s.push(c.next(function(){ae(l===1)}));for(var h=[],d=0,g=n.mutations;d<g.length;d++){var v=g[d],y=vn.key(e,v.key.path,n.batchId);s.push(i.delete(y)),h.push(v.key)}return W.$n(s).next(function(){return h})}function $o(t){return zr.Qn(t,Xe.store)}function Vu(t){return zr.Qn(t,vn.store)}function $F(t){return zr.Qn(t,us.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kQ=function(){function t(e,n){this.serializer=e,this.Dr=n}return t.prototype.Er=function(e,n,r){return Wo(e).put(jd(n),r)},t.prototype.Ar=function(e,n){var r=Wo(e),i=jd(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.Jo(e,i)})},t.prototype.Rr=function(e,n){var r=this;return Wo(e).get(jd(n)).next(function(i){return r.Xo(i)})},t.prototype.Zo=function(e,n){var r=this;return Wo(e).get(jd(n)).next(function(i){var s=r.Xo(i);return s?{ta:s,size:_g(i)}:null})},t.prototype.getEntries=function(e,n){var r=this,i=lg();return this.ea(e,n,function(s,a){var l=r.Xo(a);i=i.ot(s,l)}).next(function(){return i})},t.prototype.na=function(e,n){var r=this,i=lg(),s=new In(ue.i);return this.ea(e,n,function(a,l){var c=r.Xo(l);c?(i=i.ot(a,c),s=s.ot(a,_g(l))):(i=i.ot(a,null),s=s.ot(a,0))}).next(function(){return{sa:i,ia:s}})},t.prototype.ea=function(e,n,r){if(n.m())return W.resolve();var i=IDBKeyRange.bound(n.first().path.A(),n.last().path.A()),s=n._t(),a=s.It();return Wo(e).rs({range:i},function(l,c,h){for(var d=ue.$(l);a&&ue.i(a,d)<0;)r(a,null),a=s.It();a&&a.isEqual(d)&&(r(a,c),a=s.At()?s.It():null),a?h.Xn(a.path.A()):h.done()}).next(function(){for(;a;)r(a,null),a=s.At()?s.It():null})},t.prototype.Lr=function(e,n,r){var i=this,s=mh(),a=n.path.length+1,l={};if(r.isEqual(Ce.min())){var c=n.path.A();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.A(),d=sI(r);l.range=IDBKeyRange.lowerBound([h,d],!0),l.index=yt.collectionReadTimeIndex}return Wo(e).rs(l,function(g,v,y){if(g.length===a){var _=N1(i.serializer,v);n.path.T(_.key.path)?_ instanceof De&&op(n,_)&&(s=s.ot(_.key,_)):y.done()}}).next(function(){return s})},t.prototype.ra=function(e){return new AQ(this,!!e&&e.oa)},t.prototype.aa=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return Kx(e).get(Pi.key).next(function(n){return ae(!!n),n})},t.prototype.Jo=function(e,n){return Kx(e).put(Pi.key,n)},t.prototype.Xo=function(e){if(e){var n=N1(this.serializer,e);return n instanceof Qt&&n.version.isEqual(Ce.min())?null:n}return null},t}(),AQ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ca=n,i.oa=r,i.ua=new nc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return re(e,t),e.prototype.yr=function(n){var r=this,i=[],s=0,a=new Bt(function(l,c){return Ee(l.R(),c.R())});return this.wr.forEach(function(l,c){var h=r.ua.get(l);if(c){var d=Gx(r.ca.serializer,c,r.readTime);a=a.add(l.path.h());var g=_g(d);s+=g-h,i.push(r.ca.Er(n,l,d))}else if(s-=h,r.oa){var v=Gx(r.ca.serializer,new Qt(l,Ce.min()),r.readTime);i.push(r.ca.Er(n,l,v))}else i.push(r.ca.Ar(n,l))}),a.forEach(function(l){i.push(r.ca.Dr.Mo(n,l))}),i.push(this.ca.updateMetadata(n,s)),W.$n(i)},e.prototype.gr=function(n,r){var i=this;return this.ca.Zo(n,r).next(function(s){return s===null?(i.ua.set(r,0),null):(i.ua.set(r,s.size),s.ta)})},e.prototype.Pr=function(n,r){var i=this;return this.ca.na(n,r).next(function(s){var a=s.sa;return s.ia.forEach(function(l,c){i.ua.set(l,c)}),a})},e}(OF);function Kx(t){return zr.Qn(t,Pi.store)}function Wo(t){return zr.Qn(t,yt.store)}function jd(t){return t.path.A()}function _g(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ne();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RQ=function(){function t(){this.ha=new aI}return t.prototype.Mo=function(e,n){return this.ha.add(n),W.resolve()},t.prototype.Qr=function(e,n){return W.resolve(this.ha.getEntries(n))},t}(),aI=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e._(),r=e.h(),i=this.index[n]||new Bt(et.i),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e._(),r=e.h(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Bt(et.i)).A()},t}(),xQ=function(){function t(e){this.serializer=e}return t.prototype.createOrUpgrade=function(e,n,r,i){var s=this;ae(r<i&&r>=0&&i<=10);var a=new xF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(ur.store)}(e),function(c){c.createObjectStore(us.store,{keyPath:us.keyPath}),c.createObjectStore(Xe.store,{keyPath:Xe.keyPath,autoIncrement:!0}).createIndex(Xe.userMutationsIndex,Xe.userMutationsKeyPath,{unique:!0}),c.createObjectStore(vn.store)}(e),Qx(e),function(c){c.createObjectStore(yt.store)}(e));var l=W.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(sn.store),c.deleteObjectStore(Gn.store),c.deleteObjectStore(lr.store)}(e),Qx(e)),l=l.next(function(){return function(c){var h=c.store(lr.store),d=new lr(0,0,Ce.min().Z(),0);return h.put(lr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Xe.store).ts().next(function(d){c.deleteObjectStore(Xe.store),c.createObjectStore(Xe.store,{keyPath:Xe.keyPath,autoIncrement:!0}).createIndex(Xe.userMutationsIndex,Xe.userMutationsKeyPath,{unique:!0});var g=h.store(Xe.store),v=d.map(function(y){return g.put(y)});return W.$n(v)})}(e,a)})),l=l.next(function(){(function(c){c.createObjectStore(yo.store,{keyPath:yo.keyPath})})(e)})),r<5&&i>=5&&(l=l.next(function(){return s.removeAcknowledgedMutations(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Pi.store)}(e),s.addDocumentGlobal(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ensureSequenceNumbers(a)})),r<8&&i>=8&&(l=l.next(function(){return s.createCollectionParentIndex(e,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var h=c.objectStore(yt.store);h.createIndex(yt.readTimeIndex,yt.readTimeIndexPath,{unique:!1}),h.createIndex(yt.collectionReadTimeIndex,yt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.rewriteCanonicalIds(a)})),l},t.prototype.addDocumentGlobal=function(e){var n=0;return e.store(yt.store).rs(function(r,i){n+=_g(i)}).next(function(){var r=new Pi(n);return e.store(Pi.store).put(Pi.key,r)})},t.prototype.removeAcknowledgedMutations=function(e){var n=this,r=e.store(us.store),i=e.store(Xe.store);return r.ts().next(function(s){return W.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.ts(Xe.userMutationsIndex,l).next(function(c){return W.forEach(c,function(h){ae(h.userId===a.userId);var d=$u(n.serializer,h);return jF(e,a.userId,d).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(e){var n=e.store(sn.store),r=e.store(yt.store);return e.store(lr.store).get(lr.key).next(function(i){var s=[];return r.rs(function(a,l){var c=new et(a),h=function(d){return[0,vi(d)]}(c);s.push(n.get(h).next(function(d){return d?W.resolve():function(g){return n.put(new sn(0,vi(g),i.highestListenSequenceNumber))}(c)}))}).next(function(){return W.$n(s)})})},t.prototype.createCollectionParentIndex=function(e,n){e.createObjectStore(ya.store,{keyPath:ya.keyPath});var r=n.store(ya.store),i=new aI,s=function(a){if(i.add(a)){var l=a._(),c=a.h();return r.put({collectionId:l,parent:vi(c)})}};return n.store(yt.store).rs({ss:!0},function(a,l){var c=new et(a);return s(c.h())}).next(function(){return n.store(vn.store).rs({ss:!0},function(a,l){a[0];var c=a[1],h=(a[2],po(c));return s(h.h())})})},t.prototype.rewriteCanonicalIds=function(e){var n=this,r=e.store(Gn.store);return r.rs(function(i,s){var a=bf(s),l=FF(n.serializer,a);return r.put(l)})},t}(),OQ=function(t,e){this.seconds=t,this.nanoseconds=e},ur=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ur.store="owner",ur.key="owner";var us=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};us.store="mutationQueues",us.keyPath="userId";var Xe=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xe.store="mutations",Xe.keyPath="batchId",Xe.userMutationsIndex="userMutationsIndex",Xe.userMutationsKeyPath=["userId","batchId"];var vn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,vi(n)]},t.key=function(e,n,r){return[e,vi(n),r]},t}();vn.store="documentMutations",vn.PLACEHOLDER=new vn;var PQ=function(t,e){this.path=t,this.readTime=e},DQ=function(t,e){this.path=t,this.version=e},yt=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};yt.store="remoteDocuments",yt.readTimeIndex="readTimeIndex",yt.readTimeIndexPath="readTime",yt.collectionReadTimeIndex="collectionReadTimeIndex",yt.collectionReadTimeIndexPath=["parentPath","readTime"];var Pi=function(t){this.byteSize=t};Pi.store="remoteDocumentGlobal",Pi.key="remoteDocumentGlobalKey";var Gn=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Gn.store="targets",Gn.keyPath="targetId",Gn.queryTargetsIndexName="queryTargetsIndex",Gn.queryTargetsKeyPath=["canonicalId","targetId"];var sn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sn.store="targetDocuments",sn.keyPath=["targetId","path"],sn.documentTargetsIndex="documentTargetsIndex",sn.documentTargetsKeyPath=["path","targetId"];var lr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lr.key="targetGlobalKey",lr.store="targetGlobal";var ya=function(t,e){this.collectionId=t,this.parent=e};function Qx(t){t.createObjectStore(sn.store,{keyPath:sn.keyPath}).createIndex(sn.documentTargetsIndex,sn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.queryTargetsIndexName,Gn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lr.store)}ya.store="collectionParents",ya.keyPath=["collectionId","parent"];var yo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};yo.store="clientMetadata",yo.keyPath="clientId";var LQ=Xn(Xn(Xn([us.store,Xe.store,vn.store,yt.store,Gn.store,ur.store,lr.store,sn.store],[yo.store]),[Pi.store]),[ya.store]),MQ=function(){function t(){this.la=new aI}return t.prototype.Mo=function(e,n){var r=this;if(!this.la.has(n)){var i=n._(),s=n.h();e.pr(function(){r.la.add(n)});var a={collectionId:i,parent:vi(s)};return Yx(e).put(a)}return W.resolve()},t.prototype.Qr=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[eF(n),""],!1,!0);return Yx(e).ts(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(po(c.parent))}return r})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){return zr.Qn(t,ya.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wg=function(){function t(e){this._a=e}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),FQ=function(){function t(e,n){this.No=e,this.serializer=n}return t.prototype.wa=function(e){var n=this;return this.ma(e).next(function(r){var i=new wg(r.highestTargetId);return r.highestTargetId=i.next(),n.Ta(e,r).next(function(){return r.highestTargetId})})},t.prototype.Ea=function(e){return this.ma(e).next(function(n){return Ce.J(new Jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ia=function(e){return this.ma(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Aa=function(e,n,r){var i=this;return this.ma(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.Z()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ta(e,s)})},t.prototype.Ra=function(e,n){var r=this;return this.ga(e,n).next(function(){return r.ma(e).next(function(i){return i.targetCount+=1,r.Pa(n,i),r.Ta(e,i)})})},t.prototype.ya=function(e,n){return this.ga(e,n)},t.prototype.Va=function(e,n){var r=this;return this.pa(e,n.targetId).next(function(){return Lu(e).delete(n.targetId)}).next(function(){return r.ma(e)}).next(function(i){return ae(i.targetCount>0),i.targetCount-=1,r.Ta(e,i)})},t.prototype.po=function(e,n,r){var i=this,s=0,a=[];return Lu(e).rs(function(l,c){var h=bf(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Va(e,h)))}).next(function(){return W.$n(a)}).next(function(){return s})},t.prototype.Ce=function(e,n){return Lu(e).rs(function(r,i){var s=bf(i);n(s)})},t.prototype.ma=function(e){return Xx(e).get(lr.key).next(function(n){return ae(n!==null),n})},t.prototype.Ta=function(e,n){return Xx(e).put(lr.key,n)},t.prototype.ga=function(e,n){return Lu(e).put(FF(this.serializer,n))},t.prototype.Pa=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.ba=function(e){return this.ma(e).next(function(n){return n.targetCount})},t.prototype.va=function(e,n){var r=Jh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Lu(e).rs({range:i,index:Gn.queryTargetsIndexName},function(a,l,c){var h=bf(l);Tm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},t.prototype.Sa=function(e,n,r){var i=this,s=[],a=Yo(e);return n.forEach(function(l){var c=vi(l.path);s.push(a.put(new sn(r,c))),s.push(i.No.Da(e,r,l))}),W.$n(s)},t.prototype.Ca=function(e,n,r){var i=this,s=Yo(e);return W.forEach(n,function(a){var l=vi(a.path);return W.$n([s.delete([r,l]),i.No.Na(e,r,a)])})},t.prototype.pa=function(e,n){var r=Yo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.Fa=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Yo(e),s=Qe();return i.rs({range:r,ss:!0},function(a,l,c){var h=po(a[1]),d=new ue(h);s=s.add(d)}).next(function(){return s})},t.prototype.Ho=function(e,n){var r=vi(n.path),i=IDBKeyRange.bound([r],[eF(r)],!1,!0),s=0;return Yo(e).rs({index:sn.documentTargetsIndex,ss:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},t.prototype.Ue=function(e,n){return Lu(e).get(n).next(function(r){return r?bf(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){return zr.Qn(t,Gn.store)}function Xx(t){return zr.Qn(t,lr.store)}function Yo(t){return zr.Qn(t,sn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rw=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jo=n,i.xa=r,i}return re(e,t),e}(DF),zr=function(){function t(e,n,r,i,s,a,l,c,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=s,this.window=a,this.document=l,this.$a=h,this.ka=d,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(g){return Promise.resolve()},!t.Ln())throw new j(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new UQ(this,i),this.Wa=n+"main",this.serializer=new CQ(c),this.ja=new gl(this.Wa,10,new xQ(this.serializer)),this.Ka=new FQ(this.No,this.serializer),this.Dr=new MQ,this.vr=function(g,v){return new kQ(g,v)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,d===!1&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(e,n){if(e instanceof Rw)return gl.Qn(e.jo,n);throw ne()},t.prototype.start=function(){var e=this;return this.za().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,Aw);return e.Ha(),e.Ya(),e.Ja(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.Ka.Ia(n)})}).then(function(n){e.Ma=new hr(n,e.$a)}).then(function(){e.Oa=!0}).catch(function(n){return e.ja&&e.ja.close(),Promise.reject(n)})},t.prototype.Xa=function(e){var n=this;return this.Qa=function(r){return O(n,void 0,void 0,function(){return x(this,function(i){return this.Ei?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Za=function(e){var n=this;this.ja.Kn(function(r){return O(n,void 0,void 0,function(){return x(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.tc=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws(function(){return O(n,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return $d(n).put(new yo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.ec(n).next(function(r){r||(e.isPrimary=!1,e.fn.Cs(function(){return e.Qa(!1)}))})}).next(function(){return e.nc(n)}).next(function(r){return e.isPrimary&&!r?e.sc(n).next(function(){return!1}):!!r&&e.ic(n).next(function(){return!0})})}).catch(function(n){if(Ka(n))return G("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.fn.Cs(function(){return e.Qa(n)}),e.isPrimary=n})},t.prototype.ec=function(e){var n=this;return pf(e).get(ur.key).next(function(r){return W.resolve(n.rc(r))})},t.prototype.oc=function(e){return $d(e).delete(this.clientId)},t.prototype.ac=function(){return O(this,void 0,void 0,function(){var e,n,r,i,s=this;return x(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=t.Qn(l,yo.store);return c.ts().next(function(h){var d=s.uc(h,18e5),g=h.filter(function(v){return d.indexOf(v)===-1});return W.forEach(g,function(v){return c.delete(v.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Ga)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ga.removeItem(this.hc(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Ja=function(){var e=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return e.za().then(function(){return e.ac()}).then(function(){return e.Ja()})})},t.prototype.rc=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.nc=function(e){var n=this;return this.ka?W.resolve(!0):pf(e).get(ur.key).next(function(r){if(r!==null&&n.cc(r.leaseTimestampMs,5e3)&&!n.lc(r.ownerId)){if(n.rc(r)&&n.networkEnabled)return!0;if(!n.rc(r)){if(!r.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,Aw);return!1}}return!(!n.networkEnabled||!n.inForeground)||$d(e).ts().next(function(i){return n.uc(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&G("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.Di=function(){return O(this,void 0,void 0,function(){var e=this;return x(this,function(n){switch(n.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[ur.store,yo.store],function(r){var i=new Rw(r,hr.ai);return e.sc(i).next(function(){return e.oc(i)})})];case 1:return n.sent(),this.ja.close(),this.wc(),[2]}})})},t.prototype.uc=function(e,n){var r=this;return e.filter(function(i){return r.cc(i.updateTimeMs,n)&&!r.lc(i.clientId)})},t.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return $d(n).ts().next(function(r){return e.uc(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(e){return NQ.xo(e,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(e,n,r){var i=this;G("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.ja.runTransaction(e,a,LQ,function(l){return s=new Rw(l,i.Ma?i.Ma.next():hr.ai),n==="readwrite-primary"?i.ec(s).next(function(c){return!!c||i.nc(s)}).next(function(c){if(!c)throw ft("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}),new j(D.FAILED_PRECONDITION,PF);return r(s)}).next(function(c){return i.ic(s).next(function(){return c})}):i.Ac(s).next(function(){return r(s)})}).then(function(l){return s.br(),l})},t.prototype.Ac=function(e){var n=this;return pf(e).get(ur.key).next(function(r){if(r!==null&&n.cc(r.leaseTimestampMs,5e3)&&!n.lc(r.ownerId)&&!n.rc(r)&&!(n.ka||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(D.FAILED_PRECONDITION,Aw)})},t.prototype.ic=function(e){var n=new ur(this.clientId,this.allowTabSynchronization,Date.now());return pf(e).put(ur.key,n)},t.Ln=function(){return gl.Ln()},t.prototype.sc=function(e){var n=this,r=pf(e);return r.get(ur.key).next(function(i){return n.rc(i)?(G("IndexedDbPersistence","Releasing primary lease."),r.delete(ur.key)):W.resolve()})},t.prototype.cc=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(ft("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Ha=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ba=function(){e.fn.ws(function(){return e.inForeground=e.document.visibilityState==="visible",e.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground=this.document.visibilityState==="visible")},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.La=function(){n._c(),n.fn.ws(function(){return n.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(e){var n;try{var r=((n=this.Ga)===null||n===void 0?void 0:n.getItem(this.hc(e)))!==null;return G("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return ft("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(e){ft("Failed to set zombie client id.",e)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},t.prototype.hc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function pf(t){return zr.Qn(t,ur.store)}function $d(t){return zr.Qn(t,yo.store)}var UQ=function(){function t(e,n){this.db=e,this.wo=new IQ(this,n)}return t.prototype.Po=function(e){var n=this.Rc(e);return this.db.Tc().ba(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.Rc=function(e){var n=0;return this.Vo(e,function(r){n++}).next(function(){return n})},t.prototype.Ce=function(e,n){return this.db.Tc().Ce(e,n)},t.prototype.Vo=function(e,n){return this.gc(e,function(r,i){return n(i)})},t.prototype.Da=function(e,n,r){return Vd(e,r)},t.prototype.Na=function(e,n,r){return Vd(e,r)},t.prototype.po=function(e,n,r){return this.db.Tc().po(e,n,r)},t.prototype.Go=function(e,n){return Vd(e,n)},t.prototype.Pc=function(e,n){return function(r,i){var s=!1;return $F(r).os(function(a){return UF(r,a,i).next(function(l){return l&&(s=!0),W.resolve(!l)})}).next(function(){return s})}(e,n)},t.prototype.bo=function(e,n){var r=this,i=this.db.Ec().ra(),s=[],a=0;return this.gc(e,function(l,c){if(c<=n){var h=r.Pc(e,l).next(function(d){if(!d)return a++,i.Rr(e,l).next(function(){return i.Ar(l),Yo(e).delete([0,vi(l.path)])})});s.push(h)}}).next(function(){return W.$n(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.st(e.xa);return this.db.Tc().ya(e,r)},t.prototype.yc=function(e,n){return Vd(e,n)},t.prototype.gc=function(e,n){var r,i=Yo(e),s=hr.ai;return i.rs({index:sn.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),d=l.sequenceNumber;c===0?(s!==hr.ai&&n(new ue(po(r)),s),s=d,r=h):s=hr.ai}).next(function(){s!==hr.ai&&n(new ue(po(r)),s)})},t.prototype.So=function(e){return this.db.Ec().aa(e)},t}();function Vd(t,e){return Yo(t).put(function(n,r){return new sn(0,vi(n.path),r)}(e,t.xa))}function xw(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jQ=function(){function t(e,n,r){this.persistence=e,this.Vc=n,this.bc=new In(Ee),this.vc=new nc(function(i){return Jh(i)},Tm),this.Sc=Ce.min(),this.Sr=e.mc(r),this.Dc=e.Ec(),this.Ka=e.Tc(),this.Cc=new LF(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.vo(r,n.bc)})},t}();function $Q(t,e){var n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.Dc.ra({oa:!0});return function(a,l,c,h){var d=c.batch,g=d.keys(),v=W.resolve();return g.forEach(function(y){v=v.next(function(){return h.Rr(l,y)}).next(function(_){var E=_,C=c.dr.get(y);ae(C!==null),(!E||E.version.L(C)<0)&&(E=d.cr(y,E,c))&&h.Er(E,c._r)})}),v.next(function(){return a.Sr.Wo(l,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n.Sr.zo(r)}).next(function(){return n.Cc.kr(r,i)})})}function VF(t){var e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.Ka.Ea(n)})}function VQ(t,e){var n=Q(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Dc.ra({oa:!0});i=n.bc;var l=[];e.zt.forEach(function(g,v){var y=i.get(v);if(y){l.push(n.Ka.Ca(s,g.se,v).next(function(){return n.Ka.Sa(s,g.ee,v)}));var _=g.resumeToken;if(_.O()>0){var E=y.it(_,r).st(s.xa);i=i.ot(v,E),function(C,b,I){return ae(b.resumeToken.O()>0),C.resumeToken.O()===0||b.nt.X()-C.nt.X()>=3e8||I.ee.size+I.ne.size+I.se.size>0}(y,E,g)&&l.push(n.Ka.ya(s,E))}}});var c=Oa(),h=Qe();if(e.Yt.forEach(function(g,v){h=h.add(g)}),l.push(a.getEntries(s,h).next(function(g){e.Yt.forEach(function(v,y){var _=g.get(v);y instanceof Qt&&y.version.isEqual(Ce.min())?(a.Ar(v,r),c=c.ot(v,y)):_==null||y.version.L(_.version)>0||y.version.L(_.version)===0&&_.hasPendingWrites?(a.Er(y,r),c=c.ot(v,y)):G("LocalStore","Ignoring outdated watch update for ",v,". Current version:",_.version," Watch version:",y.version),e.Jt.has(v)&&l.push(n.persistence.No.yc(s,v))})})),!r.isEqual(Ce.min())){var d=n.Ka.Ea(s).next(function(g){return n.Ka.Aa(s,s.xa,r)});l.push(d)}return W.$n(l).next(function(){return a.apply(s)}).next(function(){return n.Cc.Mr(s,c)})}).then(function(s){return n.bc=i,s})}function BQ(t,e){var n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.Sr.Bo(r,e)})}function Eg(t,e){var n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.Ka.va(r,e).next(function(s){return s?(i=s,W.resolve(i)):n.Ka.wa(r).next(function(a){return i=new Cm(e,a,0,r.xa),n.Ka.Ra(r,i).next(function(){return i})})})}).then(function(r){var i=n.bc.get(r.targetId);return(i===null||r.nt.L(i.nt)>0)&&(n.bc=n.bc.ot(r.targetId,r),n.vc.set(e,r.targetId)),r})}function Fl(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a;return x(this,function(l){switch(l.label){case 0:r=Q(t),i=r.bc.get(e),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.No.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ka(a=l.sent()))throw a;return G("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(i.target),[2]}})})}function bg(t,e,n){var r=Q(t),i=Ce.min(),s=Qe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var d=Q(l),g=d.vc.get(h);return g!==void 0?W.resolve(d.bc.get(g)):d.Ka.va(c,h)}(r,a,Vi(e)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ka.Fa(a,l.targetId).next(function(c){s=c})}).next(function(){return r.Vc.Lr(a,e,n?i:Ce.min(),n?s:Qe())}).next(function(l){return{documents:l,Fc:s}})})}function BF(t,e){var n=Q(t),r=Q(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Ue(s,e).next(function(a){return a?a.target:null})})}function zQ(t){var e=Q(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=Q(r),l=Oa(),c=sI(s),h=Wo(i),d=IDBKeyRange.lowerBound(c,!0);return h.rs({index:yt.readTimeIndex,range:d},function(g,v){var y=N1(a.serializer,v);l=l.ot(y.key,y),c=v.readTime}).next(function(){return{xc:l,readTime:MF(c)}})}(e.Dc,n,e.Sc)}).then(function(n){var r=n.xc,i=n.readTime;return e.Sc=i,r})}function WQ(t){return O(this,void 0,void 0,function(){var e;return x(this,function(n){return[2,(e=Q(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Wo(i),a=Ce.min();return s.rs({index:yt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=MF(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.Sc=r})]})})}function Qa(t){return O(this,void 0,void 0,function(){return x(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==PF)throw t;return G("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uI=function(){function t(){this.$c=new Bt(qt.kc),this.Mc=new Bt(qt.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(e,n){var r=new qt(e,n);this.$c=this.$c.add(r),this.Mc=this.Mc.add(r)},t.prototype.Lc=function(e,n){var r=this;e.forEach(function(i){return r.Da(i,n)})},t.prototype.Na=function(e,n){this.Bc(new qt(e,n))},t.prototype.qc=function(e,n){var r=this;e.forEach(function(i){return r.Na(i,n)})},t.prototype.Uc=function(e){var n=this,r=new ue(new et([])),i=new qt(r,e),s=new qt(r,e+1),a=[];return this.Mc.Ft([i,s],function(l){n.Bc(l),a.push(l.key)}),a},t.prototype.Qc=function(){var e=this;this.$c.forEach(function(n){return e.Bc(n)})},t.prototype.Bc=function(e){this.$c=this.$c.delete(e),this.Mc=this.Mc.delete(e)},t.prototype.Wc=function(e){var n=new ue(new et([])),r=new qt(n,e),i=new qt(n,e+1),s=Qe();return this.Mc.Ft([r,i],function(a){s=s.add(a.key)}),s},t.prototype.Ho=function(e){var n=new qt(e,0),r=this.$c.$t(n);return r!==null&&e.isEqual(r.key)},t}(),qt=function(){function t(e,n){this.key=e,this.jc=n}return t.kc=function(e,n){return ue.i(e.key,n.key)||Ee(e.jc,n.jc)},t.Oc=function(e,n){return Ee(e.jc,n.jc)||ue.i(e.key,n.key)},t}(),qQ=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Jx=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(e){this.Gc=e,e(xr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),HQ=function(){function t(e){var n=this;this.Jc=null,this.currentUser=xr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){n.Zc++,n.currentUser=n.tu(),n.Xc=!0,n.Gc&&n.Gc(n.currentUser)},this.Zc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),e.get().then(function(r){n.auth=r,n.Jc&&n.auth.addAuthTokenListener(n.Jc)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.Zc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.Zc!==n?(G("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(ae(typeof i.accessToken=="string"),new qQ(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(e){this.Gc=e,this.Xc&&e(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new xr(e)},t}(),GQ=function(){function t(e,n){this.eu=e,this.nu=n,this.type="FirstParty",this.user=xr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var e={"X-Goog-AuthUser":this.nu},n=this.eu.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),KQ=function(){function t(e,n){this.eu=e,this.nu=n}return t.prototype.getToken=function(){return Promise.resolve(new GQ(this.eu,this.nu))},t.prototype.Hc=function(e){e(xr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),zF=function(){function t(e,n,r,i,s,a){this.fn=e,this.su=r,this.iu=i,this.ru=s,this.listener=a,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new nI(e,n)}return t.prototype.cu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.uu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.hu()},t.prototype.stop=function(){return O(this,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var e=this;this.uu()&&this.au===null&&(this.au=this.fn.yn(this.su,6e4,function(){return e.fu()}))},t.prototype.du=function(e){this.wu(),this.stream.send(e)},t.prototype.fu=function(){return O(this,void 0,void 0,function(){return x(this,function(e){return this.uu()?[2,this.close(0)]:[2]})})},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(e,n){return O(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,e!==3?this.ys.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(ft(n.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):n&&n.code===D.UNAUTHENTICATED&&this.ru.zc(),this.stream!==null&&(this.mu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.mu=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.Eu(this.ou),r=this.ou;this.ru.getToken().then(function(i){e.ou===r&&e.Iu(i)},function(i){n(function(){var s=new j(D.UNKNOWN,"Fetching auth token failed: "+i.message);return e.Au(s)})})},t.prototype.Iu=function(e){var n=this,r=this.Eu(this.ou);this.stream=this.Ru(e),this.stream.gu(function(){r(function(){return n.state=2,n.listener.gu()})}),this.stream.Tu(function(i){r(function(){return n.Au(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.hu=function(){var e=this;this.state=4,this.ys.gn(function(){return O(e,void 0,void 0,function(){return x(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.Au=function(e){return G("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.Eu=function(e){var n=this;return function(r){n.fn.ws(function(){return n.ou===e?r():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),QQ=function(t){function e(n,r,i,s,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).serializer=s,l}return re(e,t),e.prototype.Ru=function(n){return this.iu.Pu("Listen",n)},e.prototype.onMessage=function(n){this.ys.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(Fe){return Fe==="NO_CHANGE"?0:Fe==="ADD"?1:Fe==="REMOVE"?2:Fe==="CURRENT"?3:Fe==="RESET"?4:ne()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(Fe,Re){return Fe.Qe?(ae(Re===void 0||typeof Re=="string"),Sn.fromBase64String(Re||"")):(ae(Re===void 0||Re instanceof Uint8Array),Sn.fromUint8Array(Re||new Uint8Array))}(s,a.targetChange.resumeToken),g=a.targetChange.cause,v=g&&function(Fe){var Re=Fe.code===void 0?D.UNKNOWN:rF(Fe.code);return new j(Re,Fe.message||"")}(g);l=new sF(c,h,d,v||null)}else if("documentChange"in a){a.documentChange;var y=a.documentChange;y.document,y.document.name,y.document.updateTime;var _=Oi(s,y.document.name),E=hi(y.document.updateTime),C=new ys({mapValue:{fields:y.document.fields}}),b=new De(_,E,C,{}),I=y.targetIds||[],T=y.removedTargetIds||[];l=new pv(I,T,b.key,b)}else if("documentDelete"in a){a.documentDelete;var R=a.documentDelete;R.document;var A=Oi(s,R.document),L=R.readTime?hi(R.readTime):Ce.min(),F=new Qt(A,L),P=R.removedTargetIds||[];l=new pv([],P,F.key,F)}else if("documentRemove"in a){a.documentRemove;var N=a.documentRemove;N.document;var B=Oi(s,N.document),oe=N.removedTargetIds||[];l=new pv([],oe,B,null)}else{if(!("filter"in a))return ne();a.filter;var _e=a.filter;_e.targetId;var Ne=_e.count||0,Oe=new P7(Ne),qe=_e.targetId;l=new oF(qe,Oe)}return l}(this.serializer,n),i=function(s){if(!("targetChange"in s))return Ce.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?hi(a.readTime):Ce.min()}(n);return this.listener.yu(r,i)},e.prototype.Vu=function(n){var r={};r.database=wh(this.serializer),r.addTarget=function(s,a){var l,c=a.target;return(l=ug(c)?{documents:vF(s,c)}:{query:gF(s,c)}).targetId=a.targetId,a.resumeToken.O()>0&&(l.resumeToken=fF(s,a.resumeToken)),l}(this.serializer,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ne()}}(0,a.et);return l==null?null:{"goog-listen-tags":l}}(this.serializer,n);i&&(r.labels=i),this.du(r)},e.prototype.pu=function(n){var r={};r.database=wh(this.serializer),r.removeTarget=n,this.du(r)},e}(zF),YQ=function(t){function e(n,r,i,s,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).serializer=s,l.bu=!1,l}return re(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(n){return this.iu.Pu("Write",n)},e.prototype.onMessage=function(n){if(ae(!!n.streamToken),this.lastStreamToken=n.streamToken,this.bu){this.ys.reset();var r=function(s,a){return s&&s.length>0?(ae(a!==void 0),s.map(function(l){return function(c,h){var d=c.updateTime?hi(c.updateTime):hi(h);d.isEqual(Ce.min())&&(d=hi(h));var g=null;return c.transformResults&&c.transformResults.length>0&&(g=c.transformResults),new Z7(d,g)}(l,a)})):[]}(n.writeResults,n.commitTime),i=hi(n.commitTime);return this.listener.Du(i,r)}return ae(!n.writeResults||n.writeResults.length===0),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var n={};n.database=wh(this.serializer),this.du(n)},e.prototype.Su=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return pg(r.serializer,s)})};this.du(i)},e}(zF),XQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.iu=r,s.serializer=i,s.Fu=!1,s}return re(e,t),e.prototype.xu=function(){if(this.Fu)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(n,r,i){var s=this;return this.xu(),this.credentials.getToken().then(function(a){return s.iu.$u(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.zc(),a})},e.prototype.ku=function(n,r,i){var s=this;return this.xu(),this.credentials.getToken().then(function(a){return s.iu.ku(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.zc(),a})},e.prototype.terminate=function(){this.Fu=!1},e}(function(){}),JQ=function(){function t(e,n){this.cs=e,this.di=n,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var e=this;this.Mu===0&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return e.Ou=null,e.Uu("Backend didn't respond within 10 seconds."),e.qu("Offline"),Promise.resolve()}))},t.prototype.Qu=function(e){this.state==="Online"?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+e.toString()),this.qu("Offline")))},t.prototype.set=function(e){this.Wu(),this.Mu=0,e==="Online"&&(this.Lu=!1),this.qu(e)},t.prototype.qu=function(e){e!==this.state&&(this.state=e,this.di(e))},t.prototype.Uu=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lu?(ft(n),this.Lu=!1):G("OnlineStateTracker",n)},t.prototype.Wu=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t}(),ZQ=function(t,e,n,r,i){var s=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=i,this.Xu.Zu(function(a){n.ws(function(){return O(s,void 0,void 0,function(){return x(this,function(l){switch(l.label){case 0:return _s(this)?(G("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return O(this,void 0,void 0,function(){var h;return x(this,function(d){switch(d.label){case 0:return(h=Q(c)).Yu.add(4),[4,Ul(h)];case 1:return d.sent(),h.th.set("Unknown"),h.Yu.delete(4),[4,bh(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.th=new JQ(n,r)};function bh(t){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:if(!_s(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ul(t){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function WF(t){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return e=Q(t),G("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Ul(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}})})}function Am(t,e){var n=Q(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),fI(n)?cI(n):oc(n).uu()&&lI(n,e))}function Sh(t,e){var n=Q(t),r=oc(n);n.Hu.delete(e),r.uu()&&qF(n,e),n.Hu.size===0&&(r.uu()?r._u():_s(n)&&n.th.set("Unknown"))}function lI(t,e){t.eh.Ie(e.targetId),oc(t).Vu(e)}function qF(t,e){t.eh.Ie(e),oc(t).pu(e)}function cI(t){t.eh=new j7({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),oc(t).start(),t.th.Bu()}function fI(t){return _s(t)&&!oc(t).cu()&&t.Hu.size>0}function _s(t){return Q(t).Yu.size===0}function HF(t){t.eh=void 0}function eY(t){return O(this,void 0,void 0,function(){return x(this,function(e){return t.Hu.forEach(function(n,r){lI(t,n)}),[2]})})}function tY(t,e){return O(this,void 0,void 0,function(){return x(this,function(n){return HF(t),fI(t)?(t.th.Qu(e),cI(t)):t.th.set("Unknown"),[2]})})}function nY(t,e,n){return O(this,void 0,void 0,function(){var r,i,s;return x(this,function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof sF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return O(this,void 0,void 0,function(){var h,d,g,v;return x(this,function(y){switch(y.label){case 0:h=c.cause,d=0,g=c.targetIds,y.label=1;case 1:return d<g.length?(v=g[d],l.Hu.has(v)?[4,l.Gu.nh(v,h)]:[3,3]):[3,5];case 2:y.sent(),l.Hu.delete(v),l.eh.removeTarget(v),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Sg(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pv?t.eh.be(e):e instanceof oF?t.eh.$e(e):t.eh.De(e),n.isEqual(Ce.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,VF(t.ju)];case 8:return i=a.sent(),n.L(i)>=0?[4,function(l,c){var h=l.eh.Oe(c);return h.zt.forEach(function(d,g){if(d.resumeToken.O()>0){var v=l.Hu.get(g);v&&l.Hu.set(g,v.it(d.resumeToken,c))}}),h.Ht.forEach(function(d){var g=l.Hu.get(d);if(g){l.Hu.set(d,g.it(Sn.B,g.nt)),qF(l,d);var v=new Cm(g.target,d,1,g.sequenceNumber);lI(l,v)}}),l.Gu.sh(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return G("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Sg(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Sg(t,e,n){return O(this,void 0,void 0,function(){var r=this;return x(this,function(i){switch(i.label){case 0:if(!Ka(e))throw e;return t.Yu.add(1),[4,Ul(t)];case 1:return i.sent(),t.th.set("Offline"),n||(n=function(){return VF(t.ju)}),t.cs.Cs(function(){return O(r,void 0,void 0,function(){return x(this,function(s){switch(s.label){case 0:return G("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Yu.delete(1),[4,bh(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function GF(t,e){return e().catch(function(n){return Sg(t,n,e)})}function ic(t){return O(this,void 0,void 0,function(){var e,n,r,i,s;return x(this,function(a){switch(a.label){case 0:e=Q(t),n=ws(e),r=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return _s(l)&&l.zu.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,BQ(e.ju,r)];case 3:return(i=a.sent())===null?(e.zu.length===0&&n._u(),[3,7]):(r=i.batchId,function(l,c){l.zu.push(c);var h=ws(l);h.uu()&&h.vu&&h.Su(c.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,Sg(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return KF(e)&&QF(e),[2]}})})}function KF(t){return _s(t)&&!ws(t).cu()&&t.zu.length>0}function QF(t){ws(t).start()}function rY(t){return O(this,void 0,void 0,function(){return x(this,function(e){return ws(t).Nu(),[2]})})}function iY(t){return O(this,void 0,void 0,function(){var e,n,r,i;return x(this,function(s){for(e=ws(t),n=0,r=t.zu;n<r.length;n++)i=r[n],e.Su(i.mutations);return[2]})})}function oY(t,e,n){return O(this,void 0,void 0,function(){var r,i;return x(this,function(s){switch(s.label){case 0:return r=t.zu.shift(),i=wQ.from(r,e,n),[4,GF(t,function(){return t.Gu.ih(i)})];case 1:return s.sent(),[4,ic(t)];case 2:return s.sent(),[2]}})})}function sY(t,e){return O(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return e&&ws(t).vu?[4,function(r,i){return O(this,void 0,void 0,function(){var s,a;return x(this,function(l){switch(l.label){case 0:return nF(a=i.code)&&a!==D.ABORTED?(s=r.zu.shift(),ws(r).lu(),[4,GF(r,function(){return r.Gu.rh(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,ic(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return KF(t)&&QF(t),[2]}})})}function k1(t,e){return O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return n=Q(t),e?(n.Yu.delete(2),[4,bh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Ul(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function oc(t){var e=this;return t.oh||(t.oh=function(n,r,i){var s=Q(n);return s.xu(),new QQ(r,s.iu,s.credentials,s.serializer,i)}(t.Ku,t.cs,{gu:eY.bind(null,t),Tu:tY.bind(null,t),yu:nY.bind(null,t)}),t.Ju.push(function(n){return O(e,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return n?(t.oh.lu(),fI(t)?cI(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:r.sent(),HF(t),r.label=3;case 3:return[2]}})})})),t.oh}function ws(t){var e=this;return t.ah||(t.ah=function(n,r,i){var s=Q(n);return s.xu(),new YQ(r,s.iu,s.credentials,s.serializer,i)}(t.Ku,t.cs,{gu:rY.bind(null,t),Tu:sY.bind(null,t),Cu:iY.bind(null,t),Du:oY.bind(null,t)}),t.Ju.push(function(n){return O(e,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return n?(t.ah.lu(),[4,ic(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:r.sent(),t.zu.length>0&&(G("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),r.label=4;case 4:return[2]}})})})),t.ah}var YF=function(t){this.key=t},XF=function(t){this.key=t},JF=function(){function t(e,n){this.query=e,this.uh=n,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=AF(e),this.fh=new iF(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(e,n){var r=this,i=n?n.mh:new Ex,s=n?n.fh:this.fh,a=n?n.Wt:this.Wt,l=s,c=!1,h=dv(this.query)&&s.size===this.query.limit?s.last():null,d=vg(this.query)&&s.size===this.query.limit?s.first():null;if(e.ht(function(v,y){var _=s.get(v),E=y instanceof De?y:null;E&&(E=op(r.query,E)?E:null);var C=!!_&&r.Wt.has(_.key),b=!!E&&(E.Je||r.Wt.has(E.key)&&E.hasCommittedMutations),I=!1;_&&E?_.data().isEqual(E.data())?C!==b&&(i.track({type:3,doc:E}),I=!0):r.Th(_,E)||(i.track({type:2,doc:E}),I=!0,(h&&r._h(E,h)>0||d&&r._h(E,d)<0)&&(c=!0)):!_&&E?(i.track({type:0,doc:E}),I=!0):_&&!E&&(i.track({type:1,doc:_}),I=!0,(h||d)&&(c=!0)),I&&(E?(l=l.add(E),a=b?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),dv(this.query)||vg(this.query))for(;l.size>this.query.limit;){var g=dv(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{fh:l,mh:i,Eh:c,Wt:a}},t.prototype.Th=function(e,n){return e.Je&&n.hasCommittedMutations&&!n.Je},t.prototype.yr=function(e,n,r){var i=this,s=this.fh;this.fh=e.fh,this.Wt=e.Wt;var a=e.mh.Ut();a.sort(function(d,g){return function(v,y){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return _(v)-_(y)}(d.type,g.type)||i._h(d.doc,g.doc)}),this.Ih(r);var l=n?this.Ah():[],c=this.lh.size===0&&this.te?1:0,h=c!==this.hh;return this.hh=c,a.length!==0||h?{snapshot:new cg(this.query,e.fh,s,a,e.Wt,c===0,h,!1),Rh:l}:{Rh:l}},t.prototype.Qs=function(e){return this.te&&e==="Offline"?(this.te=!1,this.yr({fh:this.fh,mh:new Ex,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(e){return!this.uh.has(e)&&!!this.fh.has(e)&&!this.fh.get(e).Je},t.prototype.Ih=function(e){var n=this;e&&(e.ee.forEach(function(r){return n.uh=n.uh.add(r)}),e.ne.forEach(function(r){}),e.se.forEach(function(r){return n.uh=n.uh.delete(r)}),this.te=e.te)},t.prototype.Ah=function(){var e=this;if(!this.te)return[];var n=this.lh;this.lh=Qe(),this.fh.forEach(function(i){e.gh(i.key)&&(e.lh=e.lh.add(i.key))});var r=[];return n.forEach(function(i){e.lh.has(i)||r.push(new XF(i))}),this.lh.forEach(function(i){n.has(i)||r.push(new YF(i))}),r},t.prototype.Ph=function(e){this.uh=e.Fc,this.lh=Qe();var n=this.wh(e.documents);return this.yr(n,!0)},t.prototype.yh=function(){return cg.Gt(this.query,this.fh,this.Wt,this.hh===0)},t}(),aY=function(t,e,n){this.query=t,this.targetId=e,this.view=n},uY=function(t){this.key=t,this.Vh=!1},lY=function(){function t(e,n,r,i,s,a){this.ju=e,this.ph=n,this.bh=r,this.Sh=i,this.currentUser=s,this.Dh=a,this.Ch={},this.Nh=new nc(function(l){return kF(l)},rc),this.Fh=new Map,this.xh=[],this.$h=new In(ue.i),this.kh=new Map,this.Mh=new uI,this.Oh={},this.Lh=new Map,this.Bh=wg.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return this.qh===!0},enumerable:!1,configurable:!0}),t}();function cY(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l;return x(this,function(c){switch(c.label){case 0:return n=gI(t),(s=n.Nh.get(e))?(r=s.targetId,n.Sh.Oi(r),i=s.view.yh(),[3,4]):[3,1];case 1:return[4,Eg(n.ju,Vi(e))];case 2:return a=c.sent(),l=n.Sh.Oi(a.targetId),r=a.targetId,[4,hI(n,e,r,l==="current")];case 3:i=c.sent(),n.Uh&&Am(n.ph,a),c.label=4;case 4:return[2,i]}})})}function hI(t,e,n,r){return O(this,void 0,void 0,function(){var i,s,a,l,c,h;return x(this,function(d){switch(d.label){case 0:return t.Qh=function(g,v,y){return function(_,E,C,b){return O(this,void 0,void 0,function(){var I,T,R;return x(this,function(A){switch(A.label){case 0:return I=E.view.wh(C),I.Eh?[4,bg(_.ju,E.query,!1).then(function(L){var F=L.documents;return E.view.wh(F,I)})]:[3,2];case 1:I=A.sent(),A.label=2;case 2:return T=b&&b.zt.get(E.targetId),R=E.view.yr(I,_.Uh,T),[2,(A1(_,E.targetId,R.Rh),R.snapshot)]}})})}(t,g,v,y)},[4,bg(t.ju,e,!0)];case 1:return i=d.sent(),s=new JF(e,i.Fc),a=s.wh(i.documents),l=qS.Zt(n,r&&t.onlineState!=="Offline"),c=s.yr(a,t.Uh,l),A1(t,n,c.Rh),h=new aY(e,n,s),[2,(t.Nh.set(e,h),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}})})}function fY(t,e){return O(this,void 0,void 0,function(){var n,r,i;return x(this,function(s){switch(s.label){case 0:return n=Q(t),r=n.Nh.get(e),(i=n.Fh.get(r.targetId)).length>1?[2,(n.Fh.set(r.targetId,i.filter(function(a){return!rc(a,e)})),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,Fl(n.ju,r.targetId,!1).then(function(){n.Sh.Ui(r.targetId),Sh(n.ph,r.targetId),jl(n,r.targetId)}).catch(Qa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return jl(n,r.targetId),[4,Fl(n.ju,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function ZF(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:n=Q(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,VQ(n.ju,e)];case 2:return r=i.sent(),e.zt.forEach(function(s,a){var l=n.kh.get(a);l&&(ae(s.ee.size+s.ne.size+s.se.size<=1),s.ee.size>0?l.Vh=!0:s.ne.size>0?ae(l.Vh):s.se.size>0&&(ae(l.Vh),l.Vh=!1))}),[4,Ya(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Qa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Zx(t,e,n){var r=Q(t);if(r.Uh&&n===0||!r.Uh&&n===1){var i=[];r.Nh.forEach(function(s,a){var l=a.view.Qs(e);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=Q(s);l.onlineState=a;var c=!1;l.Bs.forEach(function(h,d){for(var g=0,v=d.listeners;g<v.length;g++)v[g].Qs(a)&&(c=!0)}),c&&iI(l)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function hY(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:return(r=Q(t)).Sh.Qi(e,"rejected",n),i=r.kh.get(e),(s=i&&i.key)?(a=(a=new In(ue.i)).ot(s,new Qt(s,Ce.min())),l=Qe().add(s),c=new WS(Ce.min(),new Map,new Bt(Ee),a,l),[4,ZF(r,c)]):[3,2];case 1:return h.sent(),r.$h=r.$h.remove(s),r.kh.delete(e),vI(r),[3,4];case 2:return[4,Fl(r.ju,e,!1).then(function(){return jl(r,e,n)}).catch(Qa)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function pY(t,e){return O(this,void 0,void 0,function(){var n,r,i;return x(this,function(s){switch(s.label){case 0:n=Q(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,$Q(n.ju,e)];case 2:return i=s.sent(),dI(n,r,null),pI(n,r),n.Sh.ki(r,"acknowledged"),[4,Ya(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function dY(t,e,n){return O(this,void 0,void 0,function(){var r,i;return x(this,function(s){switch(s.label){case 0:r=Q(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=Q(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return c.Sr.Oo(h,l).next(function(g){return ae(g!==null),d=g.keys(),c.Sr.Wo(h,g)}).next(function(){return c.Sr.zo(h)}).next(function(){return c.Cc.kr(h,d)})})}(r.ju,e)];case 2:return i=s.sent(),dI(r,e,n),pI(r,e),r.Sh.ki(e,"rejected",n),[4,Ya(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function pI(t,e){(t.Lh.get(e)||[]).forEach(function(n){n.resolve()}),t.Lh.delete(e)}function dI(t,e,n){var r=Q(t),i=r.Oh[r.currentUser.ti()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function jl(t,e,n){n===void 0&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var s=i[r];t.Nh.delete(s),n&&t.Ch.Wh(s,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach(function(a){t.Mh.Ho(a)||e4(t,a)})}function e4(t,e){var n=t.$h.get(e);n!==null&&(Sh(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),vI(t))}function A1(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof YF?(t.Mh.Da(s.key,e),vY(t,s)):s instanceof XF?(G("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Na(s.key,e),t.Mh.Ho(s.key)||e4(t,s.key)):ne()}}function vY(t,e){var n=e.key;t.$h.get(n)||(G("SyncEngine","New document in limbo: "+n),t.xh.push(n),vI(t))}function vI(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new uY(e)),t.$h=t.$h.ot(e,n),Am(t.ph,new Cm(Vi(ip(e.path)),n,2,hr.ai))}}function Ya(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a;return x(this,function(l){switch(l.label){case 0:return r=Q(t),i=[],s=[],a=[],r.Nh.m()?[3,3]:(r.Nh.forEach(function(c,h){a.push(r.Qh(h,e,n).then(function(d){if(d){r.Uh&&r.Sh.Qi(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var g=EQ.zr(h.targetId,d);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.Ch.yu(i),[4,function(c,h){return O(this,void 0,void 0,function(){var d,g,v,y,_,E,C,b,I;return x(this,function(T){switch(T.label){case 0:d=Q(c),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(R){return W.forEach(h,function(A){return W.forEach(A.Kr,function(L){return d.persistence.No.Da(R,A.targetId,L)}).next(function(){return W.forEach(A.Gr,function(L){return d.persistence.No.Na(R,A.targetId,L)})})})})];case 2:return T.sent(),[3,4];case 3:if(!Ka(g=T.sent()))throw g;return G("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(v=0,y=h;v<y.length;v++)_=y[v],E=_.targetId,_.fromCache||(C=d.bc.get(E),b=C.nt,I=C.rt(b),d.bc=d.bc.ot(E,I));return[2]}})})}(r.ju,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function gY(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return(n=Q(t)).currentUser.isEqual(e)?[3,3]:(G("SyncEngine","User change. New user:",e.ti()),[4,function(s,a){return O(this,void 0,void 0,function(){var l,c,h,d;return x(this,function(g){switch(g.label){case 0:return l=Q(s),c=l.Sr,h=l.Cc,[4,l.persistence.runTransaction("Handle user change","readonly",function(v){var y;return l.Sr.Uo(v).next(function(_){return y=_,c=l.persistence.mc(a),h=new LF(l.Dc,c,l.persistence.Ic()),c.Uo(v)}).next(function(_){for(var E=[],C=[],b=Qe(),I=0,T=y;I<T.length;I++){var R=T[I];E.push(R.batchId);for(var A=0,L=R.mutations;A<L.length;A++){var F=L[A];b=b.add(F.key)}}for(var P=0,N=_;P<N.length;P++){var B=N[P];C.push(B.batchId);for(var oe=0,_e=B.mutations;oe<_e.length;oe++){var Ne=_e[oe];b=b.add(Ne.key)}}return h.kr(v,b).next(function(Oe){return{jh:Oe,Kh:E,Gh:C}})})})];case 1:return d=g.sent(),[2,(l.Sr=c,l.Cc=h,l.Vc.Nc(l.Cc),d)]}})})}(n.ju,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Lh.forEach(function(l){l.forEach(function(c){c.reject(new j(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Lh.clear()}(n),n.Sh.ji(e,r.Kh,r.Gh),[4,Ya(n,r.jh)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function mY(t,e){var n=Q(t),r=n.kh.get(e);if(r&&r.Vh)return Qe().add(r.key);var i=Qe(),s=n.Fh.get(e);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Nh.get(c);i=i.kt(h.view.dh)}return i}function yY(t,e){return O(this,void 0,void 0,function(){var n,r,i;return x(this,function(s){switch(s.label){case 0:return[4,bg((n=Q(t)).ju,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ph(r),[2,(n.Uh&&A1(n,e.targetId,i.Rh),i)]}})})}function _Y(t,e,n,r){return O(this,void 0,void 0,function(){var i,s;return x(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=Q(l),d=Q(h.Sr);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return d.Lo(g,c).next(function(v){return v?h.Cc.kr(g,v):W.resolve(null)})})}((i=Q(t)).ju,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ic(i.ph)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(dI(i,e,r||null),pI(i,e),function(l,c){Q(Q(l).Sr).Ko(c)}(i.ju,e)):ne(),a.label=4;case 4:return[4,Ya(i,s)];case 5:return a.sent(),[3,7];case 6:G("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function wY(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return x(this,function(d){switch(d.label){case 0:return gI(n=Q(t)),mI(n),e!==!0||n.qh===!0?[3,3]:(r=n.Sh.Ci(),[4,eO(n,r.A())]);case 1:return i=d.sent(),n.qh=!0,[4,k1(n.ph,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)l=a[s],Am(n.ph,l);return[3,7];case 3:return e!==!1||n.qh===!1?[3,7]:(c=[],h=Promise.resolve(),n.Fh.forEach(function(g,v){n.Sh.qi(v)?c.push(v):h=h.then(function(){return jl(n,v),Fl(n.ju,v,!0)}),Sh(n.ph,v)}),[4,h]);case 4:return d.sent(),[4,eO(n,c)];case 5:return d.sent(),function(g){var v=Q(g);v.kh.forEach(function(y,_){Sh(v.ph,_)}),v.Mh.Qc(),v.kh=new Map,v.$h=new In(ue.i)}(n),n.qh=!1,[4,k1(n.ph,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function eO(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,g,v,y,_,E,C;return x(this,function(b){switch(b.label){case 0:r=Q(t),i=[],s=[],a=0,l=e,b.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(d=r.Fh.get(c))&&d.length!==0?[4,Eg(r.ju,Vi(d[0]))]:[3,7]):[3,13];case 2:h=b.sent(),g=0,v=d,b.label=3;case 3:return g<v.length?(y=v[g],_=r.Nh.get(y),[4,yY(r,_)]):[3,6];case 4:(E=b.sent()).snapshot&&s.push(E.snapshot),b.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,BF(r.ju,c)];case 8:return C=b.sent(),[4,Eg(r.ju,C)];case 9:return h=b.sent(),[4,hI(r,t4(C),c,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.Ch.yu(s),i)]}})})}function t4(t){return NF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function EY(t){var e=Q(t);return Q(Q(e.ju).persistence).pi()}function bY(t,e,n,r){return O(this,void 0,void 0,function(){var i,s,a;return x(this,function(l){switch(l.label){case 0:return(i=Q(t)).qh?(G("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zQ(i.ju)];case 3:return s=l.sent(),a=WS.Xt(e,n==="current"),[4,Ya(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Fl(i.ju,e,!0)];case 6:return l.sent(),jl(i,e,r),[3,8];case 7:ne(),l.label=8;case 8:return[2]}})})}function SY(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,g,v;return x(this,function(y){switch(y.label){case 0:if(!(r=gI(t)).qh)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Fh.has(a)?(G("SyncEngine","Adding an already active target "+a),[3,5]):[4,BF(r.ju,a)]):[3,6];case 2:return l=y.sent(),[4,Eg(r.ju,l)];case 3:return c=y.sent(),[4,hI(r,t4(l),c.targetId,!1)];case 4:y.sent(),Am(r.ph,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(_){return x(this,function(E){switch(E.label){case 0:return r.Fh.has(_)?[4,Fl(r.ju,_,!1).then(function(){Sh(r.ph,_),jl(r,_)}).catch(Qa)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,g=n,y.label=7;case 7:return d<g.length?(v=g[d],[5,h(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function gI(t){var e=Q(t);return e.ph.Gu.sh=ZF.bind(null,e),e.ph.Gu.qe=mY.bind(null,e),e.ph.Gu.nh=hY.bind(null,e),e.Ch.yu=mQ.bind(null,e.bh),e.Ch.Wh=yQ.bind(null,e.bh),e}function mI(t){var e=Q(t);return e.ph.Gu.ih=pY.bind(null,e),e.ph.Gu.rh=dY.bind(null,e),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IY=function(){function t(){}return t.prototype.Nc=function(e){this.zh=e},t.prototype.Lr=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.on.length===0||a.on.length===1&&a.on[0].field.p())}(n)||r.isEqual(Ce.min())?this.Hh(e,n):this.zh.kr(e,i).next(function(a){var l=s.Yh(n,a);return(dv(n)||vg(n))&&s.Eh(n.an,l,i,r)?s.Hh(e,n):(sg()<=pe.DEBUG&&G("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),I1(n)),s.zh.Lr(e,n,r).next(function(c){return l.forEach(function(h){c=c.ot(h.key,h)}),c}))})},t.prototype.Yh=function(e,n){var r=new Bt(AF(e));return n.forEach(function(i,s){s instanceof De&&op(e,s)&&(r=r.add(s))}),r},t.prototype.Eh=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.L(i)>0)},t.prototype.Hh=function(e,n){return sg()<=pe.DEBUG&&G("IndexFreeQueryEngine","Using full collection scan to execute query:",I1(n)),this.zh.Lr(e,n,Ce.min())},t}(),TY=function(){function t(e,n){this.Dr=e,this.No=n,this.Sr=[],this.Jh=1,this.Xh=new Bt(qt.kc)}return t.prototype.$o=function(e){return W.resolve(this.Sr.length===0)},t.prototype.ko=function(e,n,r,i){var s=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var a=new oI(s,n,r,i);this.Sr.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.Xh=this.Xh.add(new qt(h.key,s)),this.Dr.Mo(e,h.key.path.h())}return W.resolve(a)},t.prototype.Oo=function(e,n){return W.resolve(this.Zh(n))},t.prototype.Bo=function(e,n){var r=n+1,i=this.tl(r),s=i<0?0:i;return W.resolve(this.Sr.length>s?this.Sr[s]:null)},t.prototype.qo=function(){return W.resolve(this.Sr.length===0?-1:this.Jh-1)},t.prototype.Uo=function(e){return W.resolve(this.Sr.slice())},t.prototype.Nr=function(e,n){var r=this,i=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),a=[];return this.Xh.Ft([i,s],function(l){var c=r.Zh(l.jc);a.push(c)}),W.resolve(a)},t.prototype.Or=function(e,n){var r=this,i=new Bt(Ee);return n.forEach(function(s){var a=new qt(s,0),l=new qt(s,Number.POSITIVE_INFINITY);r.Xh.Ft([a,l],function(c){i=i.add(c.jc)})}),W.resolve(this.el(i))},t.prototype.Wr=function(e,n){var r=n.path,i=r.length+1,s=r;ue.F(s)||(s=s.child(""));var a=new qt(new ue(s),0),l=new Bt(Ee);return this.Xh.xt(function(c){var h=c.key.path;return!!r.T(h)&&(h.length===i&&(l=l.add(c.jc)),!0)},a),W.resolve(this.el(l))},t.prototype.el=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.Zh(i);s!==null&&r.push(s)}),r},t.prototype.Wo=function(e,n){var r=this;ae(this.nl(n.batchId,"removed")===0),this.Sr.shift();var i=this.Xh;return W.forEach(n.mutations,function(s){var a=new qt(s.key,n.batchId);return i=i.delete(a),r.No.Go(e,s.key)}).next(function(){r.Xh=i})},t.prototype.Ko=function(e){},t.prototype.Ho=function(e,n){var r=new qt(n,0),i=this.Xh.$t(r);return W.resolve(n.isEqual(i&&i.key))},t.prototype.zo=function(e){return this.Sr.length,W.resolve()},t.prototype.nl=function(e,n){return this.tl(e)},t.prototype.tl=function(e){return this.Sr.length===0?0:e-this.Sr[0].batchId},t.prototype.Zh=function(e){var n=this.tl(e);return n<0||n>=this.Sr.length?null:this.Sr[n]},t}(),CY=function(){function t(e,n){this.Dr=e,this.sl=n,this.docs=new In(ue.i),this.size=0}return t.prototype.Er=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.sl(n);return this.docs=this.docs.ot(i,{ta:n,size:l,readTime:r}),this.size+=l-a,this.Dr.Mo(e,i.path.h())},t.prototype.Ar=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.Rr=function(e,n){var r=this.docs.get(n);return W.resolve(r?r.ta:null)},t.prototype.getEntries=function(e,n){var r=this,i=lg();return n.forEach(function(s){var a=r.docs.get(s);i=i.ot(s,a?a.ta:null)}),W.resolve(i)},t.prototype.Lr=function(e,n,r){for(var i=mh(),s=new ue(n.path.child("")),a=this.docs.ft(s);a.At();){var l=a.It(),c=l.key,h=l.value,d=h.ta,g=h.readTime;if(!n.path.T(c.path))break;g.L(r)<=0||d instanceof De&&op(n,d)&&(i=i.ot(d.key,d))}return W.resolve(i)},t.prototype.il=function(e,n){return W.forEach(this.docs,function(r){return n(r)})},t.prototype.ra=function(e){return new NY(this)},t.prototype.aa=function(e){return W.resolve(this.size)},t}(),NY=function(t){function e(n){var r=this;return(r=t.call(this)||this).ca=n,r}return re(e,t),e.prototype.yr=function(n){var r=this,i=[];return this.wr.forEach(function(s,a){a?i.push(r.ca.Er(n,a,r.readTime)):r.ca.Ar(s)}),W.$n(i)},e.prototype.gr=function(n,r){return this.ca.Rr(n,r)},e.prototype.Pr=function(n,r){return this.ca.getEntries(n,r)},e}(OF),kY=function(){function t(e){this.persistence=e,this.rl=new nc(function(n){return Jh(n)},Tm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ol=0,this.al=new uI,this.targetCount=0,this.cl=wg.fa()}return t.prototype.Ce=function(e,n){return this.rl.forEach(function(r,i){return n(i)}),W.resolve()},t.prototype.Ea=function(e){return W.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(e){return W.resolve(this.ol)},t.prototype.wa=function(e){return this.highestTargetId=this.cl.next(),W.resolve(this.highestTargetId)},t.prototype.Aa=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ol&&(this.ol=n),W.resolve()},t.prototype.ga=function(e){this.rl.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.cl=new wg(n),this.highestTargetId=n),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},t.prototype.Ra=function(e,n){return this.ga(n),this.targetCount+=1,W.resolve()},t.prototype.ya=function(e,n){return this.ga(n),W.resolve()},t.prototype.Va=function(e,n){return this.rl.delete(n.target),this.al.Uc(n.targetId),this.targetCount-=1,W.resolve()},t.prototype.po=function(e,n,r){var i=this,s=0,a=[];return this.rl.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.rl.delete(l),a.push(i.pa(e,c.targetId)),s++)}),W.$n(a).next(function(){return s})},t.prototype.ba=function(e){return W.resolve(this.targetCount)},t.prototype.va=function(e,n){var r=this.rl.get(n)||null;return W.resolve(r)},t.prototype.Sa=function(e,n,r){return this.al.Lc(n,r),W.resolve()},t.prototype.Ca=function(e,n,r){this.al.qc(n,r);var i=this.persistence.No,s=[];return i&&n.forEach(function(a){s.push(i.Go(e,a))}),W.$n(s)},t.prototype.pa=function(e,n){return this.al.Uc(n),W.resolve()},t.prototype.Fa=function(e,n){var r=this.al.Wc(n);return W.resolve(r)},t.prototype.Ho=function(e,n){return W.resolve(this.al.Ho(n))},t}(),AY=function(){function t(e){var n=this;this.ul={},this.Ma=new hr(0),this.Oa=!1,this.Oa=!0,this.No=e(this),this.Ka=new kY(this),this.Dr=new RQ,this.vr=function(r,i){return new CY(r,function(s){return n.No.hl(s)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(e){var n=this.ul[e.ti()];return n||(n=new TY(this.Dr,this.No),this.ul[e.ti()]=n),n},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(e,n,r){var i=this;G("MemoryPersistence","Starting transaction:",e);var s=new RY(this.Ma.next());return this.No.ll(),r(s).next(function(a){return i.No._l(s).next(function(){return a})}).Fn().then(function(a){return s.br(),a})},t.prototype.fl=function(e,n){return W.kn(Object.values(this.ul).map(function(r){return function(){return r.Ho(e,n)}}))},t}(),RY=function(t){function e(n){var r=this;return(r=t.call(this)||this).xa=n,r}return re(e,t),e}(DF),xY=function(){function t(e){this.persistence=e,this.dl=new uI,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ne()},enumerable:!1,configurable:!0}),t.prototype.Da=function(e,n,r){return this.dl.Da(r,n),this.Tl.delete(r.toString()),W.resolve()},t.prototype.Na=function(e,n,r){return this.dl.Na(r,n),this.Tl.add(r.toString()),W.resolve()},t.prototype.Go=function(e,n){return this.Tl.add(n.toString()),W.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.dl.Uc(n.targetId).forEach(function(s){return r.Tl.add(s.toString())});var i=this.persistence.Tc();return i.Fa(e,n.targetId).next(function(s){s.forEach(function(a){return r.Tl.add(a.toString())})}).next(function(){return i.Va(e,n)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(e){var n=this,r=this.persistence.Ec().ra();return W.forEach(this.Tl,function(i){var s=ue.D(i);return n.El(e,s).next(function(a){a||r.Ar(s)})}).next(function(){return n.wl=null,r.apply(e)})},t.prototype.yc=function(e,n){var r=this;return this.El(e,n).next(function(i){i?r.Tl.delete(n.toString()):r.Tl.add(n.toString())})},t.prototype.hl=function(e){return 0},t.prototype.El=function(e,n){var r=this;return W.kn([function(){return W.resolve(r.dl.Ho(n))},function(){return r.persistence.Tc().Ho(e,n)},function(){return r.persistence.fl(e,n)}])},t}(),OY=function(){function t(e){this.Il=e.Il,this.Al=e.Al}return t.prototype.gu=function(e){this.Rl=e},t.prototype.Tu=function(e){this.gl=e},t.prototype.onMessage=function(e){this.Pl=e},t.prototype.close=function(){this.Al()},t.prototype.send=function(e){this.Il(e)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(e){this.gl(e)},t.prototype.pl=function(e){this.Pl(e)},t}(),PY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},DY=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.W=n.W,r}return re(e,t),e.prototype.Nl=function(n,r,i,s){return new Promise(function(a,l){var c=new k7;c.listenOnce(N7.COMPLETE,function(){try{switch(c.getLastErrorCode()){case bw.NO_ERROR:var d=c.getResponseJson();G("Connection","XHR received:",JSON.stringify(d)),a(d);break;case bw.TIMEOUT:G("Connection",'RPC "'+n+'" timed out'),l(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case bw.HTTP_ERROR:var g=c.getStatus();if(G("Connection",'RPC "'+n+'" failed with status:',g,"response text:",c.getResponseText()),g>0){var v=c.getResponseJson().error;if(v&&v.status&&v.message){var y=function(_){var E=_.toLowerCase().replace("_","-");return Object.values(D).indexOf(E)>=0?E:D.UNKNOWN}(v.status);l(new j(y,v.message))}else l(new j(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new j(D.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},e.prototype.Pu=function(n,r){var i=[this.vl,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=C7(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(a.initMessageHeaders,r),eS()||YD()||NG()||kG()||AG()||tS()||(a.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");G("Connection","Creating WebChannel: "+l,a);var c=s.createWebChannel(l,a),h=!1,d=!1,g=new OY({Il:function(y){d?G("Connection","Not sending because WebChannel is closed:",y):(h||(G("Connection","Opening WebChannel transport."),c.open(),h=!0),G("Connection","WebChannel sending:",y),c.send(y))},Al:function(){return c.close()}}),v=function(y,_){c.listen(y,function(E){try{_(E)}catch(C){setTimeout(function(){throw C},0)}})};return v(Fd.EventType.OPEN,function(){d||G("Connection","WebChannel transport opened.")}),v(Fd.EventType.CLOSE,function(){d||(d=!0,G("Connection","WebChannel transport closed"),g.Vl())}),v(Fd.EventType.ERROR,function(y){d||(d=!0,hx("Connection","WebChannel transport errored:",y),g.Vl(new j(D.UNAVAILABLE,"The operation could not be completed")))}),v(Fd.EventType.MESSAGE,function(y){var _;if(!d){var E=y.data[0];ae(!!E);var C=E,b=C.error||((_=C[0])===null||_===void 0?void 0:_.error);if(b){G("Connection","WebChannel received error:",b);var I=b.status,T=function(A){var L=It[A];if(L!==void 0)return rF(L)}(I),R=b.message;T===void 0&&(T=D.INTERNAL,R="Unknown error status: "+I+" with message "+b.message),d=!0,g.Vl(new j(T,R)),c.close()}else G("Connection","WebChannel received:",E),g.pl(E)}}),setTimeout(function(){g.yl()},0),g},e}(function(){function t(e){this.bl=e,this.U=e.U;var n=e.ssl?"https":"http";this.vl=n+"://"+e.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(e,n,r,i){var s=this.Dl(e,n);G("RestConnection","Sending: ",s,r);var a={};return this.Cl(a,i),this.Nl(e,s,a,r).then(function(l){return G("RestConnection","Received: ",l),l},function(l){throw hx("RestConnection",e+" failed with error: ",l,"url: ",s,"request:",r),l})},t.prototype.ku=function(e,n,r,i){return this.$u(e,n,r,i)},t.prototype.Cl=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",e["Content-Type"]="text/plain",n)for(var r in n.Kc)n.Kc.hasOwnProperty(r)&&(e[r]=n.Kc[r])},t.prototype.Dl=function(e,n){var r=PY[e];return this.vl+"/v1/"+n+":"+r},t}()),tO=function(){function t(){var e=this;this.Fl=function(){return e.xl()},this.$l=function(){return e.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(e){this.Ml.push(e)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(0)},t.prototype.kl=function(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(1)},t.Ln=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),LY=function(){function t(){}return t.prototype.Zu=function(e){},t.prototype.Di=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){return new z7(t,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ig=function(){function t(){}return t.prototype.initialize=function(e){return O(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return this.Sh=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return n.sent(),this.ql=this.Ul(e),this.ju=this.Ql(e),[2]}})})},t.prototype.Ul=function(e){return null},t.prototype.Ql=function(e){return n=this.persistence,r=new IY,i=e.Wl,new jQ(n,r,i);var n,r,i},t.prototype.Bl=function(e){if(e.persistenceSettings.jl)throw new j(D.FAILED_PRECONDITION,nO);return new AY(xY.ml)},t.prototype.Ll=function(e){return new C1},t.prototype.terminate=function(){return O(this,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}})})},t.prototype.clearPersistence=function(e,n){throw new j(D.FAILED_PRECONDITION,nO)},t}(),MY=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.initialize=function(n){return O(this,void 0,void 0,function(){var r,i=this;return x(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Kl.fi,this.Sh instanceof kw?(this.Sh.fi={er:_Y.bind(null,r),nr:bY.bind(null,r),sr:SY.bind(null,r),pi:EY.bind(null,r)},[4,this.Sh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Xa(function(a){return O(i,void 0,void 0,function(){return x(this,function(l){switch(l.label){case 0:return[4,wY(this.Kl.fi,a)];case 1:return l.sent(),this.ql&&(a&&!this.ql.Ei?this.ql.start(this.ju):a||this.ql.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Ll=function(n){if(n.persistenceSettings.jl&&n.persistenceSettings.synchronizeTabs){var r=jx();if(!kw.Ln(r))throw new j(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=xw(n.bl.U,n.bl.persistenceKey);return new kw(r,n.cs,i,n.clientId,n.Wl)}return new C1},e}(function(t){function e(n){var r=this;return(r=t.call(this)||this).Kl=n,r}return re(e,t),e.prototype.initialize=function(n){return O(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,WQ(this.ju)];case 2:return r.sent(),[4,this.Kl.initialize(this,n)];case 3:return r.sent(),[4,mI(this.Kl.fi)];case 4:return r.sent(),[4,ic(this.Kl.ph)];case 5:return r.sent(),[2]}})})},e.prototype.Ul=function(n){var r=this.persistence.No.wo;return new SQ(r,n.cs)},e.prototype.Bl=function(n){var r=xw(n.bl.U,n.bl.persistenceKey),i=yI(n.bl.U);return new zr(n.persistenceSettings.synchronizeTabs,r,n.clientId,Tt.ao(n.persistenceSettings.cacheSizeBytes),n.cs,jx(),vv(),i,this.Sh,n.persistenceSettings.ka)},e.prototype.Ll=function(n){return new C1},e.prototype.clearPersistence=function(n,r){return function(i){return O(this,void 0,void 0,function(){var s;return x(this,function(a){switch(a.label){case 0:return gl.Ln()?(s=i+"main",[4,gl.delete(s)]):[2,Promise.resolve()];case 1:return a.sent(),[2]}})})}(xw(n,r))},e}(Ig)),Tg=function(){function t(){}return t.prototype.initialize=function(e,n){return O(this,void 0,void 0,function(){var r=this;return x(this,function(i){switch(i.label){case 0:return this.ju?[3,2]:(this.ju=e.ju,this.Sh=e.Sh,this.Ku=this.Gl(n),this.ph=this.zl(n),this.bh=this.Hl(n),this.fi=this.Yl(n),this.Sh.di=function(s){return Zx(r.fi,s,1)},this.ph.Gu.Jl=gY.bind(null,this.fi),[4,k1(this.ph,this.fi.Uh)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.Hl=function(e){return new gQ},t.prototype.Gl=function(e){var n,r=yI(e.bl.U),i=(n=e.bl,new DY(n));return function(s,a,l){return new XQ(s,a,l)}(e.credentials,i,r)},t.prototype.zl=function(e){var n,r,i,s,a,l=this;return n=this.ju,r=this.Ku,i=e.cs,s=function(c){return Zx(l.fi,c,0)},a=tO.Ln()?new tO:new LY,new ZQ(n,r,i,s,a)},t.prototype.Yl=function(e){return function(n,r,i,s,a,l,c){var h=new lY(n,r,i,s,a,l);return c&&(h.qh=!0),h}(this.ju,this.ph,this.bh,this.Sh,e.Wl,e.Dh,!e.persistenceSettings.jl||!e.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return WF(this.ph)},t}(),Bd=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.Xl(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.Xl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),_I=function(t){(function(n,r,i,s){if(!(r instanceof Array)||r.length<1)throw new j(D.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+xa(1,"element")+".")})(0,t);for(var e=0;e<t.length;++e)if(Rt("FieldPath","string",e,t[e]),t[e].length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new mi(t)},La=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,n)||this}return re(e,t),e.documentId=function(){return new e(mi.v().R())},e.prototype.isEqual=function(n){if(!(n instanceof e))throw qa("isEqual","FieldPath",1,n);return this.t_.isEqual(n.t_)},e}(_I),FY=new RegExp("[~\\*/\\[\\]]"),Xa=function(t){this.e_=t},Ih=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.n_=function(n){if(n.s_!==2)throw n.s_===1?n.i_(this.e_+"() can only appear at the top level of your update data"):n.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return n.We.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Xa);function n4(t,e,n){return new o4({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var UY=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.n_=function(n){return new Zh(n.path,new Pl)},e.prototype.isEqual=function(n){return n instanceof e},e}(Xa),jY=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).a_=r,i}return re(e,t),e.prototype.n_=function(n){var r=n4(this,n,!0),i=this.a_.map(function(a){return Ja(a,r)}),s=new Pa(i);return new Zh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Xa),$Y=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).a_=r,i}return re(e,t),e.prototype.n_=function(n){var r=n4(this,n,!0),i=this.a_.map(function(a){return Ja(a,r)}),s=new Da(i);return new Zh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Xa),VY=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).c_=r,i}return re(e,t),e.prototype.n_=function(n){var r=new Dl(n.serializer,cF(n.serializer,this.c_));return new Zh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Xa),Rm=function(){function t(e,n){if(Je("GeoPoint",arguments,2),Rt("GeoPoint","number",1,e),Rt("GeoPoint","number",2,n),!isFinite(e)||e<-90||e>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.u_=e,this.h_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.u_===e.u_&&this.h_===e.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(e){return Ee(this.u_,e.u_)||Ee(this.h_,e.h_)},t}(),xm=function(t){this.l_=t},BY=/^__.*__$/,sp=function(t,e,n){this.__=t,this.f_=e,this.d_=n},zY=function(){function t(e,n,r){this.data=e,this.We=n,this.fieldTransforms=r}return t.prototype.w_=function(e,n){var r=[];return this.We!==null?r.push(new xs(e,this.data,this.We,n)):r.push(new tp(e,this.data,n)),this.fieldTransforms.length>0&&r.push(new Ga(e,this.fieldTransforms)),r},t}(),r4=function(){function t(e,n,r){this.data=e,this.We=n,this.fieldTransforms=r}return t.prototype.w_=function(e,n){var r=[new xs(e,this.data,this.We,n)];return this.fieldTransforms.length>0&&r.push(new Ga(e,this.fieldTransforms)),r},t}();function i4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var o4=function(){function t(e,n,r,i,s,a){this.settings=e,this.U=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.m_(),this.fieldTransforms=s||[],this.We=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.T_({path:r,o_:!1});return i.I_(e),i},t.prototype.A_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.T_({path:r,o_:!1});return i.m_(),i},t.prototype.R_=function(e){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(e){return TI(e,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(e){return this.We.find(function(n){return e.T(n)})!==void 0||this.fieldTransforms.find(function(n){return e.T(n.field)})!==void 0},t.prototype.m_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},t.prototype.I_=function(e){if(e.length===0)throw this.i_("Document fields must not be empty");if(i4(this.s_)&&BY.test(e))throw this.i_('Document fields cannot begin and end with "__"')},t}(),WY=function(){function t(e,n,r){this.U=e,this.ignoreUndefinedProperties=n,this.serializer=r||yI(e)}return t.prototype.P_=function(e,n,r,i){return i===void 0&&(i=!1),new o4({s_:e,methodName:n,r_:r,path:mi.P(),o_:!1,g_:i},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function wI(t,e,n,r,i,s){s===void 0&&(s={});var a=t.P_(s.merge||s.mergeFields?2:0,e,n,i);SI("Data must be an object, but it was:",a,r);var l,c,h=a4(r,a);if(s.merge)l=new Ll(a.We),c=a.fieldTransforms;else if(s.mergeFields){for(var d=[],g=0,v=s.mergeFields;g<v.length;g++){var y=v[g],_=void 0;if(y instanceof _I)_=y.t_;else{if(typeof y!="string")throw ne();_=II(e,y,n)}if(!a.contains(_))throw new j(D.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");l4(d,_)||d.push(_)}l=new Ll(d),c=a.fieldTransforms.filter(function(E){return l.Ye(E.field)})}else l=null,c=a.fieldTransforms;return new zY(new ys(h),l,c)}function EI(t,e,n,r){var i=t.P_(1,e,n);SI("Data must be an object, but it was:",i,r);var s=[],a=new rp;tc(r,function(c,h){var d=II(e,c,n),g=i.A_(d);if(h instanceof Ih||h instanceof xm&&h.l_ instanceof Ih)s.push(d);else{var v=Ja(h,g);v!=null&&(s.push(d),a.set(d,v))}});var l=new Ll(s);return new r4(a.Xe(),l,i.fieldTransforms)}function bI(t,e,n,r,i,s){var a=t.P_(1,e,n),l=[Th(e,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(Th(e,s[h])),c.push(s[h+1]);for(var d=[],g=new rp,v=l.length-1;v>=0;--v)if(!l4(d,l[v])){var y=l[v],_=c[v],E=a.A_(y);if(_ instanceof Ih||_ instanceof xm&&_.l_ instanceof Ih)d.push(y);else{var C=Ja(_,E);C!=null&&(d.push(y),g.set(y,C))}}var b=new Ll(d);return new r4(g.Xe(),b,a.fieldTransforms)}function s4(t,e,n,r){return r===void 0&&(r=!1),Ja(n,t.P_(r?4:3,e))}function Ja(t,e){if(t instanceof xm&&(t=t.l_),u4(t))return SI("Unsupported field value:",e,t),a4(t,e);if(t instanceof Xa)return function(n,r){if(!i4(r.s_))throw r.i_(n.e_+"() can only be used with update() and set()");if(!r.path)throw r.i_(n.e_+"() is not currently supported inside arrays");var i=n.n_(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&e.s_!==4)throw e.i_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Ja(l[a],r.R_(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Jn.fromDate(n);return{timestampValue:hg(r.serializer,i)}}if(n instanceof Jn){var s=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hg(r.serializer,s)}}if(n instanceof Rm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zS)return{bytesValue:fF(r.serializer,n.q)};if(n instanceof sp){var a=r.U,l=n.__;if(!l.isEqual(a))throw r.i_("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+a.projectId+"/"+a.database);return{referenceValue:YS(n.__||r.U,n.f_.path)}}if(n===void 0&&r.ignoreUndefinedProperties)return null;throw r.i_("Unsupported field value: "+ji(n))}(t,e)}function a4(t,e){var n={};return HM(t)?e.path&&e.path.length>0&&e.We.push(e.path):tc(t,function(r,i){var s=Ja(i,e.E_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function u4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jn||t instanceof Rm||t instanceof zS||t instanceof sp||t instanceof Xa)}function SI(t,e,n){if(!u4(n)||!JM(n)){var r=ji(n);throw r==="an object"?e.i_(t+" a custom object"):e.i_(t+" "+r)}}function Th(t,e,n){if(e instanceof _I)return e.t_;if(typeof e=="string")return II(t,e);throw TI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function II(t,e,n){try{return function(i){if(i.search(FY)>=0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(La.bind.apply(La,Xn([void 0],i.split("."))))}catch{throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(i){throw TI((r=i)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function TI(t,e,n,r,i){var s=r&&!r.m(),a=i!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new j(D.INVALID_ARGUMENT,(l+=". ")+t+c)}function l4(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qY=function(){function t(e){this.Ku=e,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new j(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return O(this,void 0,void 0,function(){var l,c,h,d,g,v;return x(this,function(y){switch(y.label){case 0:return l=Q(s),c=wh(l.serializer)+"/documents",h={documents:a.map(function(_){return dl(l.serializer,_)})},[4,l.ku("BatchGetDocuments",c,h)];case 1:return d=y.sent(),g=new Map,d.forEach(function(_){var E=function(C,b){return"found"in b?function(I,T){ae(!!T.found),T.found.name,T.found.updateTime;var R=Oi(I,T.found.name),A=hi(T.found.updateTime),L=new ys({mapValue:{fields:T.found.fields}});return new De(R,A,L,{})}(C,b):"missing"in b?function(I,T){ae(!!T.missing),ae(!!T.readTime);var R=Oi(I,T.missing),A=hi(T.readTime);return new Qt(R,A)}(C,b):ne()}(l.serializer,_);g.set(E.key.toString(),E)}),v=[],[2,(a.forEach(function(_){var E=g.get(_.toString());ae(!!E),v.push(E)}),v)]}})})}(this.Ku,e)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof Qt||s instanceof De?r.D_(s):ne()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.w_(e,this.Ge(e))),this.b_.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.w_(e,this.C_(e)))}catch(r){this.p_=r}this.b_.add(e.toString())},t.prototype.delete=function(e){this.write([new np(e,this.Ge(e))]),this.b_.add(e.toString())},t.prototype.commit=function(){return O(this,void 0,void 0,function(){var e,n=this;return x(this,function(r){switch(r.label){case 0:if(this.S_(),this.p_)throw this.p_;return e=this.y_,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ue.D(s);n.mutations.push(new XS(a,n.Ge(a)))}),[4,function(i,s){return O(this,void 0,void 0,function(){var a,l,c;return x(this,function(h){switch(h.label){case 0:return a=Q(i),l=wh(a.serializer)+"/documents",c={writes:s.map(function(d){return pg(a.serializer,d)})},[4,a.$u("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return r.sent(),this.V_=!0,[2]}})})},t.prototype.D_=function(e){var n;if(e instanceof De)n=e.version;else{if(!(e instanceof Qt))throw ne();n=Ce.min()}var r=this.y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new j(D.ABORTED,"Document version changed between two reads.")}else this.y_.set(e.key.toString(),n)},t.prototype.Ge=function(e){var n=this.y_.get(e.toString());return!this.b_.has(e.toString())&&n?gn.updateTime(n):gn.ze()},t.prototype.C_=function(e){var n=this.y_.get(e.toString());if(!this.b_.has(e.toString())&&n){if(n.isEqual(Ce.min()))throw new j(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},t.prototype.write=function(e){this.S_(),this.mutations=this.mutations.concat(e)},t.prototype.S_=function(){},t}(),HY=function(){function t(e,n,r,i){this.cs=e,this.Ku=n,this.updateFunction=r,this.ls=i,this.N_=5,this.ys=new nI(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var e=this;this.ys.gn(function(){return O(e,void 0,void 0,function(){var n,r,i=this;return x(this,function(s){return n=new qY(this.Ku),(r=this.x_(n))&&r.then(function(a){i.cs.ws(function(){return n.commit().then(function(){i.ls.resolve(a)}).catch(function(l){i.k_(l)})})}).catch(function(a){i.k_(a)}),[2]})})})},t.prototype.x_=function(e){try{var n=this.updateFunction(e);return!Ha(n)&&n.catch&&n.then?n:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.ls.reject(r),null}},t.prototype.k_=function(e){var n=this;this.N_>0&&this.M_(e)?(this.N_-=1,this.cs.ws(function(){return n.F_(),Promise.resolve()})):this.ls.reject(e)},t.prototype.M_=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!nF(n)}return!1},t}(),GY=function(){function t(e,n){this.credentials=e,this.cs=n,this.clientId=ZM.k(),this.O_=new sr}return t.prototype.start=function(e,n,r,i){var s=this;this.L_(),this.bl=e;var a=new sr,l=!1;return this.credentials.Hc(function(c){if(!l)return l=!0,G("FirestoreClient","Initializing. user=",c.uid),s.B_(n,r,i,c,a).then(s.O_.resolve,s.O_.reject);s.cs.Cs(function(){return function(h,d){return O(this,void 0,void 0,function(){var g,v;return x(this,function(y){switch(y.label){case 0:return(g=Q(h)).cs.xs(),G("RemoteStore","RemoteStore received new credentials"),v=_s(g),g.Yu.add(3),[4,Ul(g)];case 1:return y.sent(),v&&g.th.set("Unknown"),[4,g.Gu.Jl(d)];case 2:return y.sent(),g.Yu.delete(3),[4,bh(g)];case 3:return y.sent(),[2]}})})}(s.ph,c)})}),this.cs.ws(function(){return s.O_.promise}),a.promise},t.prototype.enableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue(function(){return e.persistence.tc(!0),function(n){var r=Q(n);return r.Yu.delete(0),bh(r)}(e.ph)})},t.prototype.B_=function(e,n,r,i,s){return O(this,void 0,void 0,function(){var a,l,c=this;return x(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:r},[4,e.initialize(a)];case 1:return h.sent(),[4,n.initialize(e,a)];case 2:return h.sent(),this.persistence=e.persistence,this.Sh=e.Sh,this.ju=e.ju,this.ql=e.ql,this.Ku=n.Ku,this.ph=n.ph,this.fi=n.fi,this.q_=n.bh,this.q_.Us=cY.bind(null,this.fi),this.q_.js=fY.bind(null,this.fi),this.persistence.Za(function(){return O(c,void 0,void 0,function(){return x(this,function(d){switch(d.label){case 0:return[4,this.terminate()];case 1:return d.sent(),[2]}})})}),s.resolve(),[3,4];case 3:if(l=h.sent(),s.reject(l),!this.U_(l))throw l;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),this.B_(new Ig,new Tg,{jl:!1},i,s))];case 4:return[2]}})})},t.prototype.U_=function(e){return e.name==="FirebaseError"?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11},t.prototype.L_=function(){if(this.cs.ps)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue(function(){return e.persistence.tc(!1),function(n){return O(this,void 0,void 0,function(){var r;return x(this,function(i){switch(i.label){case 0:return(r=Q(n)).Yu.add(0),[4,Ul(r)];case 1:return i.sent(),r.th.set("Offline"),[2]}})})}(e.ph)})},t.prototype.terminate=function(){var e=this;this.cs.Ds();var n=new sr;return this.cs.bs(function(){return O(e,void 0,void 0,function(){var r,i;return x(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,WF(this.ph)];case 1:return s.sent(),[4,this.Sh.Di()];case 2:return s.sent(),[4,this.persistence.Di()];case 3:return s.sent(),this.credentials.Yc(),n.resolve(),[3,5];case 4:return r=s.sent(),i=ju(r,"Failed to shutdown persistence"),n.reject(i),[3,5];case 5:return[2]}})})}),n.promise},t.prototype.waitForPendingWrites=function(){var e=this;this.L_();var n=new sr;return this.cs.ws(function(){return function(r,i){return O(this,void 0,void 0,function(){var s,a,l,c,h;return x(this,function(d){switch(d.label){case 0:_s((s=Q(r)).ph)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,function(g){var v=Q(g);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(y){return v.Sr.qo(y)})}(s.ju)];case 2:return(a=d.sent())===-1?[2,void i.resolve()]:((l=s.Lh.get(a)||[]).push(i),s.Lh.set(a,l),[3,4]);case 3:return c=d.sent(),h=ju(c,"Initialization of waitForPendingWrites() operation failed"),i.reject(h),[3,4];case 4:return[2]}})})}(e.fi,n)}),n.promise},t.prototype.listen=function(e,n,r){var i=this;this.L_();var s=new Bd(r),a=new Tw(e,s,n);return this.cs.ws(function(){return Sw(i.q_,a)}),function(){s.Zl(),i.cs.ws(function(){return Iw(i.q_,a)})}},t.prototype.Q_=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new sr,[2,(this.cs.ws(function(){return function(s,a,l){return O(this,void 0,void 0,function(){var c,h,d;return x(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,function(v,y){var _=Q(v);return _.persistence.runTransaction("read document","readonly",function(E){return _.Cc.Cr(E,y)})}(s,a)];case 1:return(c=g.sent())instanceof De?l.resolve(c):c instanceof Qt?l.resolve(null):l.reject(new j(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return h=g.sent(),d=ju(h,"Failed to get document '"+a+" from cache"),l.reject(d),[3,3];case 3:return[2]}})})}(r.ju,e,n)}),n.promise)]}})})},t.prototype.W_=function(e,n){return n===void 0&&(n={}),O(this,void 0,void 0,function(){var r,i=this;return x(this,function(s){switch(s.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return s.sent(),r=new sr,[2,(this.cs.ws(function(){return function(a,l,c,h,d){var g=new Bd({next:function(y){l.ws(function(){return Iw(a,v)});var _=y.docs.has(c);!_&&y.fromCache?d.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&h&&h.source==="server"?d.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:function(y){return d.reject(y)}}),v=new Tw(ip(c.path),g,{includeMetadataChanges:!0,Xs:!0});return Sw(a,v)}(i.q_,i.cs,e,n,r)}),r.promise)]}})})},t.prototype.j_=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new sr,[2,(this.cs.ws(function(){return function(s,a,l){return O(this,void 0,void 0,function(){var c,h,d,g,v,y;return x(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,bg(s,a,!0)];case 1:return c=_.sent(),h=new JF(a,c.Fc),d=h.wh(c.documents),g=h.yr(d,!1),l.resolve(g.snapshot),[3,3];case 2:return v=_.sent(),y=ju(v,"Failed to execute query '"+a+" against cache"),l.reject(y),[3,3];case 3:return[2]}})})}(r.ju,e,n)}),n.promise)]}})})},t.prototype.K_=function(e,n){return n===void 0&&(n={}),O(this,void 0,void 0,function(){var r,i=this;return x(this,function(s){switch(s.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return s.sent(),r=new sr,[2,(this.cs.ws(function(){return function(a,l,c,h,d){var g=new Bd({next:function(y){l.ws(function(){return Iw(a,v)}),y.fromCache&&h.source==="server"?d.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:function(y){return d.reject(y)}}),v=new Tw(c,g,{includeMetadataChanges:!0,Xs:!0});return Sw(a,v)}(i.q_,i.cs,e,n,r)}),r.promise)]}})})},t.prototype.write=function(e){var n=this;this.L_();var r=new sr;return this.cs.ws(function(){return function(i,s,a){return O(this,void 0,void 0,function(){var l,c,h,d;return x(this,function(g){switch(g.label){case 0:l=mI(i),g.label=1;case 1:return g.trys.push([1,5,,6]),[4,function(v,y){var _,E=Q(v),C=Jn.now(),b=y.reduce(function(I,T){return I.add(T.key)},Qe());return E.persistence.runTransaction("Locally write mutations","readwrite",function(I){return E.Cc.kr(I,b).next(function(T){_=T;for(var R=[],A=0,L=y;A<L.length;A++){var F=L[A],P=tQ(F,_.get(F.key));P!=null&&R.push(new xs(F.key,P,CF(P.proto.mapValue),gn.exists(!0)))}return E.Sr.ko(I,C,R,y)})}).then(function(I){var T=I.lr(_);return{batchId:I.batchId,wr:T}})}(l.ju,s)];case 2:return c=g.sent(),l.Sh.xi(c.batchId),function(v,y,_){var E=v.Oh[v.currentUser.ti()];E||(E=new In(Ee)),E=E.ot(y,_),v.Oh[v.currentUser.ti()]=E}(l,c.batchId,a),[4,Ya(l,c.wr)];case 3:return g.sent(),[4,ic(l.ph)];case 4:return g.sent(),[3,6];case 5:return h=g.sent(),d=ju(h,"Failed to persist write"),a.reject(d),[3,6];case 6:return[2]}})})}(n.fi,e,r)}),r.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(e){var n=this;this.L_();var r=new Bd(e);return this.cs.ws(function(){return O(n,void 0,void 0,function(){return x(this,function(i){return[2,function(s,a){Q(s).qs.add(a),a.next()}(this.q_,r)]})})}),function(){r.Zl(),n.cs.ws(function(){return O(n,void 0,void 0,function(){return x(this,function(i){return[2,function(s,a){Q(s).qs.delete(a)}(this.q_,r)]})})})}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(e){var n=this;this.L_();var r=new sr;return this.cs.ws(function(){return new HY(n.cs,n.Ku,e,r).run(),Promise.resolve()}),r.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var rO=function(){function t(e,n,r,i,s){this.U=e,this.timestampsInSnapshots=n,this.H_=r,this.Y_=i,this.J_=s}return t.prototype.X_=function(e){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.Z_(e.timestampValue);case 4:return this.tf(e);case 5:return e.stringValue;case 6:return this.J_(Ol(e.bytesValue));case 7:return this.ef(e.referenceValue);case 8:return this.nf(e.geoPointValue);case 9:return this.sf(e.arrayValue);case 10:return this.if(e.mapValue);default:throw ne()}},t.prototype.if=function(e){var n=this,r={};return tc(e.fields||{},function(i,s){r[i]=n.X_(s)}),r},t.prototype.nf=function(e){return new Rm(Ct(e.latitude),Ct(e.longitude))},t.prototype.sf=function(e){var n=this;return(e.values||[]).map(function(r){return n.X_(r)})},t.prototype.tf=function(e){switch(this.H_){case"previous":var n=aF(e);return n==null?null:this.X_(n);case"estimate":return this.Z_(yh(e));default:return null}},t.prototype.Z_=function(e){var n=ms(e),r=new Jn(n.seconds,n.nanos);return this.timestampsInSnapshots?r:r.toDate()},t.prototype.ef=function(e){var n=et.g(e);ae(yF(n));var r=new m1(n.get(1),n.get(3)),i=new ue(n.u(5));return r.isEqual(this.U)||ft("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(i)},t}(),c4=Tt.ho,iO=function(){function t(e){var n,r,i,s,a;if(e.host===void 0){if(e.ssl!==void 0)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else KM("settings","non-empty string","host",e.host),this.host=e.host,oi("settings","boolean","ssl",e.ssl),this.ssl=(n=e.ssl)===null||n===void 0||n;if(Wa("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),oi("settings","object","credentials",e.credentials),this.credentials=e.credentials,oi("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),oi("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),e.timestampsInSnapshots===!0?ft("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):e.timestampsInSnapshots===!1&&ft("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=(r=e.timestampsInSnapshots)===null||r===void 0||r,this.ignoreUndefinedProperties=(i=e.ignoreUndefinedProperties)!==null&&i!==void 0&&i,oi("settings","number","cacheSizeBytes",e.cacheSizeBytes),e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tt._o;else{if(e.cacheSizeBytes!==c4&&e.cacheSizeBytes<Tt.lo)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Tt.lo);this.cacheSizeBytes=e.cacheSizeBytes}oi("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=(s=e.experimentalForceLongPolling)!==null&&s!==void 0&&s,oi("settings","boolean","experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=(a=e.experimentalAutoDetectLongPolling)!==null&&a!==void 0&&a,function(l,c,h,d){if(c===!0&&d===!0)throw new j(D.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),R1=function(){function t(e,n,r,i){var s=this;if(r===void 0&&(r=new Ig),i===void 0&&(i=new Tg),this.rf=r,this.af=i,this.cf=null,this.uf=new dQ,this.INTERNAL={delete:function(){return O(s,void 0,void 0,function(){return x(this,function(c){switch(c.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return c.sent(),[2]}})})}},typeof e.options=="object"){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new HQ(n)}else{var l=e;if(!l.projectId)throw new j(D.INVALID_ARGUMENT,"Must provide projectId");this.__=new m1(l.projectId,l.database),this.ff="[DEFAULT]",this.df=new Jx}this.wf=new iO({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new WY(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){Je("Firestore.settings",arguments,1),Rt("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.wf),e)).merge;var n=new iO(e);if(this.lf&&!this.wf.isEqual(n))throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=n,n.credentials!==void 0&&(this.df=function(r){if(!r)return new Jx;switch(r.type){case"gapi":var i=r.client;return ae(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new KQ(i,r.sessionIndex||"0");case"provider":return r.client;default:throw new j(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(e){var n,r;if(this.lf)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1,s=!1;if(e&&(e.experimentalTabSynchronization!==void 0&&ft("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=(r=(n=e.synchronizeTabs)!==null&&n!==void 0?n:e.experimentalTabSynchronization)!==null&&r!==void 0&&r,s=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,i&&s))throw new j(D.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:i,ka:s})},t.prototype.clearPersistence=function(){return O(this,void 0,void 0,function(){var e,n=this;return x(this,function(r){if(this.lf!==void 0&&!this.lf.z_)throw new j(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new sr,[2,(this.uf.bs(function(){return O(n,void 0,void 0,function(){var i;return x(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return s.sent(),e.resolve(),[3,3];case 2:return i=s.sent(),e.reject(i),[3,3];case 3:return[2]}})})}),e.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(e){if(this.hf(),Ch(e))return this.lf.G_(e);Rt("Firestore.onSnapshotsInSync","function",1,e);var n={next:e};return this.lf.G_(n)},t.prototype.hf=function(){return this.lf||this.Ef(new Ig,new Tg,{jl:!1}),this.lf},t.prototype.Af=function(){return new x7(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(e,n,r){var i=this.Af();return this.lf=new GY(this.df,this.uf),this.lf.start(i,e,n,r)},t._f=function(e){if(n=e.options,!Object.prototype.hasOwnProperty.call(n,"projectId"))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n,r=e.options.projectId;if(!r||typeof r!="string")throw new j(D.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new m1(r)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){return Je("Firestore.collection",arguments,1),Rt("Firestore.collection","non-empty string",1,e),this.hf(),new Cg(et.g(e),this,null)},t.prototype.doc=function(e){return Je("Firestore.doc",arguments,1),Rt("Firestore.doc","non-empty string",1,e),this.hf(),ls.Rf(et.g(e),this,null)},t.prototype.collectionGroup=function(e){if(Je("Firestore.collectionGroup",arguments,1),Rt("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Om(function(n){return new Io(et.P(),n)}(e),this,null)},t.prototype.runTransaction=function(e){var n=this;return Je("Firestore.runTransaction",arguments,1),Rt("Firestore.runTransaction","function",1,e),this.hf().transaction(function(r){return e(new f4(n,r))})},t.prototype.batch=function(){return this.hf(),new h4(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(sg()){case pe.DEBUG:return"debug";case pe.ERROR:return"error";case pe.SILENT:return"silent";case pe.WARN:return"warn";case pe.INFO:return"info";case pe.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(e){var n;Je("Firestore.setLogLevel",arguments,1),YM("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),n=e,di.setLogLevel(n)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),f4=function(){function t(e,n){this.yf=e,this.Vf=n}return t.prototype.get=function(e){var n=this;Je("Transaction.get",arguments,1);var r=so("Transaction.get",e,this.yf);return this.Vf.v_([r.f_]).then(function(i){if(!i||i.length!==1)return ne();var s=i[0];if(s instanceof Qt)return new Ma(n.yf,r.f_,null,!1,!1,r.d_);if(s instanceof De)return new Ma(n.yf,r.f_,s,!1,!1,r.d_);throw ne()})},t.prototype.set=function(e,n,r){Fr("Transaction.set",arguments,2,3);var i=so("Transaction.set",e,this.yf);r=NI("Transaction.set",r);var s=kI(i.d_,n,r),a=wI(this.yf.mf,"Transaction.set",i.f_,s,i.d_!==null,r);return this.Vf.set(i.f_,a),this},t.prototype.update=function(e,n,r){for(var i,s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];return typeof n=="string"||n instanceof La?(fi("Transaction.update",arguments,3),i=so("Transaction.update",e,this.yf),s=bI(this.yf.mf,"Transaction.update",i.f_,n,r,a)):(Je("Transaction.update",arguments,2),i=so("Transaction.update",e,this.yf),s=EI(this.yf.mf,"Transaction.update",i.f_,n)),this.Vf.update(i.f_,s),this},t.prototype.delete=function(e){Je("Transaction.delete",arguments,1);var n=so("Transaction.delete",e,this.yf);return this.Vf.delete(n.f_),this},t}(),h4=function(){function t(e){this.yf=e,this.pf=[],this.bf=!1}return t.prototype.set=function(e,n,r){Fr("WriteBatch.set",arguments,2,3),this.vf();var i=so("WriteBatch.set",e,this.yf);r=NI("WriteBatch.set",r);var s=kI(i.d_,n,r),a=wI(this.yf.mf,"WriteBatch.set",i.f_,s,i.d_!==null,r);return this.pf=this.pf.concat(a.w_(i.f_,gn.ze())),this},t.prototype.update=function(e,n,r){for(var i,s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];return this.vf(),typeof n=="string"||n instanceof La?(fi("WriteBatch.update",arguments,3),i=so("WriteBatch.update",e,this.yf),s=bI(this.yf.mf,"WriteBatch.update",i.f_,n,r,a)):(Je("WriteBatch.update",arguments,2),i=so("WriteBatch.update",e,this.yf),s=EI(this.yf.mf,"WriteBatch.update",i.f_,n)),this.pf=this.pf.concat(s.w_(i.f_,gn.exists(!0))),this},t.prototype.delete=function(e){Je("WriteBatch.delete",arguments,1),this.vf();var n=so("WriteBatch.delete",e,this.yf);return this.pf=this.pf.concat(new np(n.f_,gn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ls=function(t){function e(n,r,i){var s=this;return(s=t.call(this,r.__,n,i)||this).f_=n,s.firestore=r,s.d_=i,s.lf=s.firestore.hf(),s}return re(e,t),e.Rf=function(n,r,i){if(n.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.R()+" has "+n.length);return new e(new ue(n),r,i)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cg(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){if(Je("DocumentReference.collection",arguments,1),Rt("DocumentReference.collection","non-empty string",1,n),!n)throw new j(D.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var r=et.g(n);return new Cg(this.f_.path.child(r),this.firestore,null)},e.prototype.isEqual=function(n){if(!(n instanceof e))throw qa("isEqual","DocumentReference",1,n);return this.firestore===n.firestore&&this.f_.isEqual(n.f_)&&this.d_===n.d_},e.prototype.set=function(n,r){Fr("DocumentReference.set",arguments,1,2),r=NI("DocumentReference.set",r);var i=kI(this.d_,n,r),s=wI(this.firestore.mf,"DocumentReference.set",this.f_,i,this.d_!==null,r);return this.lf.write(s.w_(this.f_,gn.ze()))},e.prototype.update=function(n,r){for(var i,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];return typeof n=="string"||n instanceof La?(fi("DocumentReference.update",arguments,2),i=bI(this.firestore.mf,"DocumentReference.update",this.f_,n,r,s)):(Je("DocumentReference.update",arguments,1),i=EI(this.firestore.mf,"DocumentReference.update",this.f_,n)),this.lf.write(i.w_(this.f_,gn.exists(!0)))},e.prototype.delete=function(){return Je("DocumentReference.delete",arguments,0),this.lf.write([new np(this.f_,gn.ze())])},e.prototype.onSnapshot=function(){for(var n,r,i,s=this,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];Fr("DocumentReference.onSnapshot",arguments,1,4);var c={includeMetadataChanges:!1},h=0;typeof a[h]!="object"||Ch(a[h])||(Wa("DocumentReference.onSnapshot",c=a[h],["includeMetadataChanges"]),oi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",c.includeMetadataChanges),h++);var d={includeMetadataChanges:c.includeMetadataChanges};if(Ch(a[h])){var g=a[h];a[h]=(n=g.next)===null||n===void 0?void 0:n.bind(g),a[h+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),a[h+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}else Rt("DocumentReference.onSnapshot","function",h,a[h]),pl("DocumentReference.onSnapshot","function",h+1,a[h+1]),pl("DocumentReference.onSnapshot","function",h+2,a[h+2]);var v={next:function(y){a[h]&&a[h](s.Sf(y))},error:a[h+1],complete:a[h+2]};return this.lf.listen(ip(this.f_.path),d,v)},e.prototype.get=function(n){var r=this;Fr("DocumentReference.get",arguments,0,1),v4("DocumentReference.get",n);var i=this.firestore.hf();return n&&n.source==="cache"?i.Q_(this.f_).then(function(s){return new Ma(r.firestore,r.f_,s,!0,s instanceof De&&s.Je,r.d_)}):i.W_(this.f_,n).then(function(s){return r.Sf(s)})},e.prototype.withConverter=function(n){return new e(this.f_,this.firestore,n)},e.prototype.Sf=function(n){var r=n.docs.get(this.f_);return new Ma(this.firestore,this.f_,r,n.fromCache,n.hasPendingWrites,this.d_)},e}(sp),p4=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Ma=function(){function t(e,n,r,i,s,a){this.yf=e,this.f_=n,this.Df=r,this.Cf=i,this.Nf=s,this.d_=a}return t.prototype.data=function(e){var n=this;if(Fr("DocumentSnapshot.data",arguments,0,1),e=uO("DocumentSnapshot.data",e),this.Df){if(this.d_){var r=new CI(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(r,e)}return new rO(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",function(i){return new ls(i,n.yf,null)},function(i){return new g1(i)}).X_(this.Df.rn())}},t.prototype.get=function(e,n){var r=this;if(Fr("DocumentSnapshot.get",arguments,1,2),n=uO("DocumentSnapshot.get",n),this.Df){var i=this.Df.data().field(Th("DocumentSnapshot.get",e,this.f_));if(i!==null)return new rO(this.yf.__,this.yf.gf(),n.serverTimestamps||"none",function(s){return new ls(s,r.yf,r.d_)},function(s){return new g1(s)}).X_(i)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ls(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.Df!==null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new p4(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw qa("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(this.Df===null?e.Df===null:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),CI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.data=function(n){return t.prototype.data.call(this,n)},e}(Ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KY(t,e,n,r,i,s,a){var l;if(i.p()){if(s==="array-contains"||s==="array-contains-any")throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if(s==="in"||s==="not-in"){sO(a,s);for(var c=[],h=0,d=a;h<d.length;h++){var g=d[h];c.push(oO(r,t,g))}l={arrayValue:{values:c}}}else l=oO(r,t,a)}else s!=="in"&&s!=="not-in"&&s!=="array-contains-any"||sO(a,s),l=s4(n,e,a,s==="in"||s==="not-in");var v=fr.create(i,s,l);return function(y,_){if(_.hn()){var E=eI(y);if(E!==null&&!E.isEqual(_.field))throw new j(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+E.toString()+"' and '"+_.field.toString()+"'");var C=ZS(y);C!==null&&d4(y,_.field,C)}var b=function(I,T){for(var R=0,A=I.filters;R<A.length;R++){var L=A[R];if(T.indexOf(L.op)>=0)return L.op}return null}(y,function(I){switch(I){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_.op));if(b!==null)throw b===_.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+_.op.toString()+"' filter."):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+_.op.toString()+"' filters with '"+b.toString()+"' filters.")}(t,v),v}function QY(t,e,n){if(t.startAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(t.endAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vl(e,n);return function(i,s){if(ZS(i)===null){var a=eI(i);a!==null&&d4(i,a,s.field)}}(t,r),r}function oO(t,e,n){if(typeof n=="string"){if(n==="")throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tI(e)&&n.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(et.g(n));if(!ue.F(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fg(t,new ue(r))}if(n instanceof sp)return fg(t,n.f_);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ji(n)+".")}function sO(t,e){if(!Array.isArray(t)||t.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(e==="in"||e==="array-contains-any"){if(t.indexOf(null)>=0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(n){return Number.isNaN(n)}).length>0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function d4(t,e,n){if(!n.isEqual(e))throw new j(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function aO(t){if(vg(t)&&t.on.length===0)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Om=function(){function t(e,n,r){this.Ff=e,this.firestore=n,this.d_=r}return t.prototype.where=function(e,n,r){Je("Query.where",arguments,3),vx("Query.where",3,r);var i=YM("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),s=Th("Query.where",e),a=KY(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,s,i,r);return new t(function(l,c){var h=l.filters.concat([c]);return new Io(l.path,l.collectionGroup,l.on.slice(),h,l.limit,l.an,l.startAt,l.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(Fr("Query.orderBy",arguments,1,2),pl("Query.orderBy","non-empty string",2,n),n===void 0||n==="asc")r="asc";else{if(n!=="desc")throw new j(D.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Th("Query.orderBy",e),s=QY(this.Ff,i,r);return new t(function(a,l){var c=a.on.concat([l]);return new Io(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.an,a.startAt,a.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.limit=function(e){return Je("Query.limit",arguments,1),Rt("Query.limit","number",1,e),gx("Query.limit",1,e),new t(Px(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return Je("Query.limitToLast",arguments,1),Rt("Query.limitToLast","number",1,e),gx("Query.limitToLast",1,e),new t(Px(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];fi("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Dx(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];fi("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Dx(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];fi("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Lx(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];fi("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Lx(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw qa("isEqual","Query",1,e);return this.firestore===e.firestore&&rc(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(e,n,r,i){if(vx(e,1,n),n instanceof Ma)return Je(e,Xn([n],r),1),function(a,l,c,h,d){if(!h)throw new j(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var g=[],v=0,y=Ml(a);v<y.length;v++){var _=y[v];if(_.field.p())g.push(fg(l,h.key));else{var E=h.field(_.field);if(HS(E))throw new j(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var C=_.field.R();throw new j(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+C+"' (used as the orderBy) does not exist.")}g.push(E)}}return new Eh(g,d)}(this.Ff,this.firestore.__,e,n.Df,i);var s=[n].concat(r);return function(a,l,c,h,d,g){var v=a.on;if(d.length>v.length)throw new j(D.INVALID_ARGUMENT,"Too many arguments provided to "+h+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],_=0;_<d.length;_++){var E=d[_];if(v[_].field.p()){if(typeof E!="string")throw new j(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+h+"(), but got a "+typeof E);if(!tI(a)&&E.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+h+"() must be a plain document ID, but '"+E+"' contains a slash.");var C=a.path.child(et.g(E));if(!ue.F(C))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+h+"() must result in a valid document path, but '"+C+"' is not because it contains an odd number of segments.");var b=new ue(C);y.push(fg(l,b))}else{var I=s4(c,h,E);y.push(I)}}return new Eh(y,g)}(this.Ff,this.firestore.__,this.firestore.mf,e,s,i)},t.prototype.onSnapshot=function(){for(var e,n,r,i=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];Fr("Query.onSnapshot",arguments,1,4);var l={},c=0;if(typeof s[c]!="object"||Ch(s[c])||(Wa("Query.onSnapshot",l=s[c],["includeMetadataChanges"]),oi("Query.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),c++),Ch(s[c])){var h=s[c];s[c]=(e=h.next)===null||e===void 0?void 0:e.bind(h),s[c+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),s[c+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}else Rt("Query.onSnapshot","function",c,s[c]),pl("Query.onSnapshot","function",c+1,s[c+1]),pl("Query.onSnapshot","function",c+2,s[c+2]);var d={next:function(g){s[c]&&s[c](new x1(i.firestore,i.Ff,g,i.d_))},error:s[c+1],complete:s[c+2]};return aO(this.Ff),this.firestore.hf().listen(this.Ff,l,d)},t.prototype.get=function(e){var n=this;Fr("Query.get",arguments,0,1),v4("Query.get",e),aO(this.Ff);var r=this.firestore.hf();return(e&&e.source==="cache"?r.j_(this.Ff):r.K_(this.Ff,e)).then(function(i){return new x1(n.firestore,n.Ff,i,n.d_)})},t}(),x1=function(){function t(e,n,r,i){this.yf=e,this.$f=n,this.kf=r,this.d_=i,this.Mf=null,this.Of=null,this.metadata=new p4(r.hasPendingWrites,r.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;Fr("QuerySnapshot.forEach",arguments,1,2),Rt("QuerySnapshot.forEach","function",1,e),this.kf.docs.forEach(function(i){e.call(n,r.Lf(i,r.metadata.fromCache,r.kf.Wt.has(i.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Om(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){e&&(Wa("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),oi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var n=!(!e||!e.includeMetadataChanges);if(n&&this.kf.Kt)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===n||(this.Mf=function(r,i,s){if(r.Qt.m()){var a=0;return r.docChanges.map(function(c){var h=s(c.doc,r.fromCache,r.Wt.has(c.doc.key));return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}var l=r.Qt;return r.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var h=s(c.doc,r.fromCache,r.Wt.has(c.doc.key)),d=-1,g=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(g=(l=l.add(c.doc)).indexOf(c.doc.key)),{type:YY(c.type),doc:h,oldIndex:d,newIndex:g}})}(this.kf,n,this.Lf.bind(this)),this.Of=n),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw qa("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&rc(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(e,n,r){return new CI(this.yf,e.key,e,n,r,this.d_)},t}(),Cg=function(t){function e(n,r,i){var s=this;if((s=t.call(this,ip(n),r,i)||this).Bf=n,n.length%2!=1)throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n.R()+" has "+n.length);return s}return re(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.Ff.path.h();return n.m()?null:new ls(new ue(n),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){Fr("CollectionReference.doc",arguments,0,1),arguments.length===0&&(n=ZM.k()),Rt("CollectionReference.doc","non-empty string",1,n);var r=et.g(n);return ls.Rf(this.Ff.path.child(r),this.firestore,this.d_)},e.prototype.add=function(n){Je("CollectionReference.add",arguments,1);var r=this.d_?this.d_.toFirestore(n):n;Rt("CollectionReference.add","object",1,r);var i=this.doc();return new ls(i.f_,this.firestore,null).set(r).then(function(){return i})},e.prototype.withConverter=function(n){return new e(this.Bf,this.firestore,n)},e}(Om);function NI(t,e){if(e===void 0)return{merge:!1};if(Wa(t,e,["merge","mergeFields"]),oi(t,"boolean","merge",e.merge),function(n,r,i,s,a){s!==void 0&&function(l,c,h,d,g){if(!(d instanceof Array))throw new j(D.INVALID_ARGUMENT,"Function "+l+"() requires its "+c+" option to be an array, but it was: "+ji(d));for(var v=0;v<d.length;++v)if(!g(d[v]))throw new j(D.INVALID_ARGUMENT,"Function "+l+"() requires all "+c+" elements to be "+h+", but the value at index "+v+" was: "+ji(d[v]))}(n,r,i,s,a)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(n){return typeof n=="string"||n instanceof La}),e.mergeFields!==void 0&&e.merge!==void 0)throw new j(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uO(t,e){return e===void 0?{}:(Wa(t,e,["serverTimestamps"]),QM(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function v4(t,e){pl(t,"object",1,e),e&&(Wa(t,e,["source"]),QM(t,0,"source",e.source,["default","server","cache"]))}function so(t,e,n){if(e instanceof sp){if(e.firestore!==n)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw qa(t,"DocumentReference",1,e)}function YY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function kI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XY=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.serverTimestamp=function(){dx("FieldValue.serverTimestamp",arguments);var n=new UY("serverTimestamp");return n.e_="FieldValue.serverTimestamp",new e(n)},e.delete=function(){dx("FieldValue.delete",arguments);var n=new Ih("deleteField");return n.e_="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];fi("FieldValue.arrayUnion",arguments,1);var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return fi("arrayUnion()",arguments,1),new jY("arrayUnion",s)}.apply(void 0,n);return i.e_="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];fi("FieldValue.arrayRemove",arguments,1);var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return fi("arrayRemove()",arguments,1),new $Y("arrayRemove",s)}.apply(void 0,n);return i.e_="FieldValue.arrayRemove",new e(i)},e.increment=function(n){Rt("FieldValue.increment","number",1,n),Je("FieldValue.increment",arguments,1);var r=function(i){return new VY("increment",i)}(n);return r.e_="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.l_.isEqual(n.l_)},e}(xm),JY={Firestore:R1,GeoPoint:Rm,Timestamp:Jn,Blob:g1,Transaction:f4,WriteBatch:h4,DocumentReference:ls,DocumentSnapshot:Ma,Query:Om,QueryDocumentSnapshot:CI,QuerySnapshot:x1,CollectionReference:Cg,FieldPath:La,FieldValue:XY,setLogLevel:R1.setLogLevel,CACHE_SIZE_UNLIMITED:c4};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t){(function(e,n){e.INTERNAL.registerComponent(new mr("firestore",function(r){return function(i,s){var a=new Tg,l=new MY(a);return new R1(i,s,l,a)}(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},JY)))})(t),t.registerVersion("@firebase/firestore","1.18.0")}ZY(te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ml=function(t){re(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function eX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function tX(t,e,n){var r=eX(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var l=a.status;if(typeof l=="string"){if(!lO[l])return new ml("internal","internal");r=lO[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new ml(r,i,s)}var nX=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return O(this,void 0,void 0,function(){return x(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rX="type.googleapis.com/google.protobuf.Int64Value",iX="type.googleapis.com/google.protobuf.UInt64Value";function cO(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var oX=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return cO(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case rX:case iX:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?cO(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new ml("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var fO=function(){function t(e,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=e,this.fetchImpl=s,this.serializer=new oX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new nX(n,r),this.cancelAllRequests=new Promise(function(c){a.deleteService=function(){return c()}});try{var l=new URL(i);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return O(this,void 0,void 0,function(){var i,s;return x(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},t.prototype.call=function(e,n,r){return O(this,void 0,void 0,function(){var i,s,a,l,c,h,d,g,v,y,_,E;return x(this,function(C){switch(C.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=C.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=sX(c),d=h.timer,g=h.promise,[4,Promise.race([hO(d,this.postJSON(i,s,a)),g,hO(d,this.cancelAllRequests)])];case 2:if(v=C.sent(),!v)throw new ml("cancelled","Firebase Functions instance was deleted.");if(y=tX(v.status,v.json,this.serializer),y)throw y;if(!v.json)throw new ml("internal","Response is not valid JSON object.");if(_=v.json.data,typeof _=="undefined"&&(_=v.json.result),typeof _=="undefined")throw new ml("internal","Response is missing data field.");return E=this.serializer.decode(_),[2,{data:E}]}})})},t}();function hO(t,e){return O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aX="functions";function uX(t,e){var n={Functions:fO};function r(i,s){var a=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),c=i.getProvider("messaging");return new fO(a,l,c,s,e)}t.INTERNAL.registerComponent(new mr(aX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var lX="@firebase/functions",cX="0.5.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uX(te,fetch.bind(self));te.registerVersion(lX,cX);function fX(t){return Array.prototype.slice.call(t)}function g4(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Pm(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),g4(r).then(s,a)});return i.request=r,i}function hX(t,e,n){var r=Pm(t,e,n);return r.then(function(i){if(!!i)return new Nh(i,r.request)})}function sc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function AI(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Pm(this[e],i,arguments)})})}function Dm(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function m4(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return hX(this[e],i,arguments)})})}function Za(t){this._index=t}sc(Za,"_index",["name","keyPath","multiEntry","unique"]);AI(Za,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);m4(Za,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Nh(t,e){this._cursor=t,this._request=e}sc(Nh,"_cursor",["direction","key","primaryKey","value"]);AI(Nh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Nh.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),g4(e._request).then(function(r){if(!!r)return new Nh(r,e._request)})})})});function Wi(t){this._store=t}Wi.prototype.createIndex=function(){return new Za(this._store.createIndex.apply(this._store,arguments))};Wi.prototype.index=function(){return new Za(this._store.index.apply(this._store,arguments))};sc(Wi,"_store",["name","keyPath","indexNames","autoIncrement"]);AI(Wi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);m4(Wi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Dm(Wi,"_store",IDBObjectStore,["deleteIndex"]);function ap(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}ap.prototype.objectStore=function(){return new Wi(this._tx.objectStore.apply(this._tx,arguments))};sc(ap,"_tx",["objectStoreNames","mode"]);Dm(ap,"_tx",IDBTransaction,["abort"]);function Lm(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new ap(n)}Lm.prototype.createObjectStore=function(){return new Wi(this._db.createObjectStore.apply(this._db,arguments))};sc(Lm,"_db",["name","version","objectStoreNames"]);Dm(Lm,"_db",IDBDatabase,["deleteObjectStore","close"]);function Mm(t){this._db=t}Mm.prototype.transaction=function(){return new ap(this._db.transaction.apply(this._db,arguments))};sc(Mm,"_db",["name","version","objectStoreNames"]);Dm(Mm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Wi,Za].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=fX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Za,Wi].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function RI(t,e,n){var r=Pm(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Lm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Mm(s)})}function Ow(t){return Pm(indexedDB,"deleteDatabase",[t])}var pX="@firebase/installations",y4="0.4.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _4=1e4,w4="w:"+y4,E4="FIS_v2",dX="https://firebaseinstallations.googleapis.com/v1",vX=60*60*1e3,gX="installations",mX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo,yX=(Vo={},Vo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Vo["not-registered"]="Firebase Installation is not registered.",Vo["installation-not-found"]="Firebase Installation not found.",Vo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Vo["app-offline"]="Could not process request. Application offline.",Vo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Vo),To=new ks(gX,mX,yX);function b4(t){return t instanceof jh&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){var e=t.projectId;return dX+"/projects/"+e+"/installations"}function S4(t){return{token:t.token,requestStatus:2,expiresIn:_X(t.expiresIn),creationTime:Date.now()}}function OI(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,To.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function I4(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T4(t,e){var n=e.refreshToken,r=I4(t);return r.append("Authorization",wX(n)),r}function PI(t){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function _X(t){return Number(t.replace("s","000"))}function wX(t){return E4+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t,e){var n=e.fid;return O(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return x(this,function(d){switch(d.label){case 0:return r=xI(t),i=I4(t),s={fid:n,authVersion:E4,appId:t.appId,sdkVersion:w4},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,PI(function(){return fetch(r,a)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:S4(c.authToken)},[2,h];case 3:return[4,OI("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){var e=btoa(String.fromCharCode.apply(String,ko(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SX=/^[cdef][\w-]{21}$/,O1="";function IX(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=TX(t);return SX.test(n)?n:O1}catch{return O1}}function TX(t){var e=bX(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $l=new Map;function N4(t,e){var n=ac(t);k4(n,e),kX(n,e)}function CX(t,e){A4();var n=ac(t),r=$l.get(n);r||(r=new Set,$l.set(n,r)),r.add(e)}function NX(t,e){var n=ac(t),r=$l.get(n);!r||(r.delete(e),r.size===0&&$l.delete(n),R4())}function k4(t,e){var n,r,i=$l.get(t);if(!!i)try{for(var s=St(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function kX(t,e){var n=A4();n&&n.postMessage({key:t,fid:e}),R4()}var ha=null;function A4(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=function(t){k4(t.data.key,t.data.fid)}),ha}function R4(){$l.size===0&&ha&&(ha.close(),ha=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AX="firebase-installations-database",RX=1,Fa="firebase-installations-store",Pw=null;function DI(){return Pw||(Pw=RI(AX,RX,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Fa)}})),Pw}function Ng(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a;return x(this,function(l){switch(l.label){case 0:return n=ac(t),[4,DI()];case 1:return r=l.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(e,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==e.fid)&&N4(t,e.fid),[2,e]}})})}function LI(t){return O(this,void 0,void 0,function(){var e,n,r;return x(this,function(i){switch(i.label){case 0:return e=ac(t),[4,DI()];case 1:return n=i.sent(),r=n.transaction(Fa,"readwrite"),[4,r.objectStore(Fa).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function up(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l;return x(this,function(c){switch(c.label){case 0:return n=ac(t),[4,DI()];case 1:return r=c.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=c.sent(),l=e(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&N4(t,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){return O(this,void 0,void 0,function(){var e,n,r;return x(this,function(i){switch(i.label){case 0:return[4,up(t,function(s){var a=xX(s),l=OX(t,a);return e=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==O1?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function xX(t){var e=t||{fid:IX(),registrationStatus:0};return x4(e)}function OX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(To.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=PX(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DX(t)}:{installationEntry:e}}function PX(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,EX(t,e)];case 1:return n=i.sent(),[2,Ng(t,n)];case 2:return r=i.sent(),b4(r)&&r.serverCode===409?[4,LI(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Ng(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function DX(t){return O(this,void 0,void 0,function(){var e,n,r,i;return x(this,function(s){switch(s.label){case 0:return[4,pO(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,C4(100)];case 3:return s.sent(),[4,pO(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,MI(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function pO(t){return up(t,function(e){if(!e)throw To.create("installation-not-found");return x4(e)})}function x4(t){return LX(t)?{fid:t.fid,registrationStatus:0}:t}function LX(t){return t.registrationStatus===1&&t.registrationTime+_4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return O(this,void 0,void 0,function(){var i,s,a,l,c,h,d,g;return x(this,function(v){switch(v.label){case 0:return i=FX(n,e),s=T4(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:w4}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,PI(function(){return fetch(i,c)})];case 1:return h=v.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=v.sent(),g=S4(d),[2,g];case 3:return[4,OI("Generate Auth Token",h)];case 4:throw v.sent()}})})}function FX(t,e){var n=e.fid;return xI(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e){return e===void 0&&(e=!1),O(this,void 0,void 0,function(){var n,r,i,s;return x(this,function(a){switch(a.label){case 0:return[4,up(t.appConfig,function(l){if(!O4(l))throw To.create("not-registered");var c=l.authToken;if(!e&&$X(c))return l;if(c.requestStatus===1)return n=UX(t,e),l;if(!navigator.onLine)throw To.create("app-offline");var h=BX(l);return n=jX(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function UX(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return[4,dO(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,C4(100)];case 3:return i.sent(),[4,dO(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,FI(t,e)]:[2,r]}})})}function dO(t){return up(t,function(e){if(!O4(e))throw To.create("not-registered");var n=e.authToken;return zX(n)?nt(nt({},e),{authToken:{requestStatus:0}}):e})}function jX(t,e){return O(this,void 0,void 0,function(){var n,i,r,i;return x(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,MX(t,e)];case 1:return n=s.sent(),i=nt(nt({},e),{authToken:n}),[4,Ng(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),b4(r)&&(r.serverCode===401||r.serverCode===404)?[4,LI(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=nt(nt({},e),{authToken:{requestStatus:0}}),[4,Ng(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function O4(t){return t!==void 0&&t.registrationStatus===2}function $X(t){return t.requestStatus===2&&!VX(t)}function VX(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vX}function BX(t){var e={requestStatus:1,requestTime:Date.now()};return nt(nt({},t),{authToken:e})}function zX(t){return t.requestStatus===1&&t.requestTime+_4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){return O(this,void 0,void 0,function(){var e,n,r;return x(this,function(i){switch(i.label){case 0:return[4,MI(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):FI(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t,e){return e===void 0&&(e=!1),O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return[4,HX(t.appConfig)];case 1:return r.sent(),[4,FI(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function HX(t){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return[4,MI(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t,e){return O(this,void 0,void 0,function(){var n,r,i,s;return x(this,function(a){switch(a.label){case 0:return n=KX(t,e),r=T4(t,e),i={method:"DELETE",headers:r},[4,PI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,OI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function KX(t,e){var n=e.fid;return xI(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,up(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw To.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw To.create("app-offline");case 3:return[4,GX(e,n)];case 4:return r.sent(),[4,LI(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t,e){var n=t.appConfig;return CX(n,e),function(){NX(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){var e,n;if(!t||!t.options)throw Dw("App Configuration");if(!t.name)throw Dw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=St(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw Dw(a)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dw(t){return To.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(t){var e="installations";t.INTERNAL.registerComponent(new mr(e,function(n){var r=n.getProvider("app").getImmediate(),i=XX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return WX(a)},getToken:function(c){return qX(a,c)},delete:function(){return QX(a)},onIdChange:function(c){return YX(a,c)}};return l},"PUBLIC")),t.registerVersion(pX,y4)}JX(te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,ZX=(Lt={},Lt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Lt["only-available-in-window"]="This method is available in a Window context.",Lt["only-available-in-sw"]="This method is available in a service worker context.",Lt["permission-default"]="The notification permission was not granted and dismissed instead.",Lt["permission-blocked"]="The notification permission was not granted and blocked instead.",Lt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Lt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Lt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Lt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Lt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Lt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Lt["token-update-no-token"]="FCM returned no token when updating the user to push.",Lt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Lt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Lt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Lt["invalid-vapid-key"]="The public VAPID key must be a string.",Lt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Lt),je=new ks("messaging","Messaging",ZX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eJ="/firebase-messaging-sw.js",tJ="/firebase-cloud-messaging-push-scope",kg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nJ="https://fcmregistrations.googleapis.com/v1",P4="FCM_MSG",D4="google.c.a.c_id",rJ="google.c.a.c_l",iJ="google.c.a.ts",oJ="google.c.a.e",sJ="FirebaseMessaging: ";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ua;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,ko(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aJ(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lw="fcm_token_details_db",uJ=5,vO="fcm_token_object_Store";function lJ(t){return O(this,void 0,void 0,function(){var e,n,r,i,s=this;return x(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(l){return l.name}),!n.includes(Lw))return[2,null];a.label=2;case 2:return r=null,[4,RI(Lw,uJ,function(l){return O(s,void 0,void 0,function(){var c,h,d,d,d,g;return x(this,function(v){switch(v.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(vO)?(c=l.transaction.objectStore(vO),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return h=v.sent(),[4,c.clear()];case 2:if(v.sent(),!h)return[2];if(l.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(g=d.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:io(d.vapidKey)}}}else l.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}):l.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Ow(Lw)];case 4:return a.sent(),[4,Ow("fcm_vapid_details_db")];case 5:return a.sent(),[4,Ow("undefined")];case 6:return a.sent(),[2,cJ(r)?r:null]}})})}function cJ(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fJ="firebase-messaging-database",hJ=1,ja="firebase-messaging-store",Mw=null;function UI(){return Mw||(Mw=RI(fJ,hJ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(ja)}})),Mw}function Ag(t){return O(this,void 0,void 0,function(){var e,n,r,i;return x(this,function(s){switch(s.label){case 0:return e=$I(t),[4,UI()];case 1:return n=s.sent(),[4,n.transaction(ja).objectStore(ja).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,lJ(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,jI(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function jI(t,e){return O(this,void 0,void 0,function(){var n,r,i;return x(this,function(s){switch(s.label){case 0:return n=$I(t),[4,UI()];case 1:return r=s.sent(),i=r.transaction(ja,"readwrite"),[4,i.objectStore(ja).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function pJ(t){return O(this,void 0,void 0,function(){var e,n,r;return x(this,function(i){switch(i.label){case 0:return e=$I(t),[4,UI()];case 1:return n=i.sent(),r=n.transaction(ja,"readwrite"),[4,r.objectStore(ja).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function $I(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:return[4,BI(t)];case 1:n=h.sent(),r=M4(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(VI(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),je.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,je.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw je.create("token-subscribe-no-token");return[2,s.token]}})})}function vJ(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:return[4,BI(t)];case 1:n=h.sent(),r=M4(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(VI(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),je.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,je.create("token-update-failed",{errorInfo:c});if(!s.token)throw je.create("token-update-no-token");return[2,s.token]}})})}function L4(t,e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l;return x(this,function(c){switch(c.label){case 0:return[4,BI(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(VI(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,je.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),je.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function VI(t){var e=t.projectId;return nJ+"/projects/"+e+"/registrations"}function BI(t){var e=t.appConfig,n=t.installations;return O(this,void 0,void 0,function(){var r;return x(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function M4(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==kg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gJ=7*24*60*60*1e3;function P1(t,e,n){return O(this,void 0,void 0,function(){var r,i,s,a;return x(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw je.create("permission-blocked");return[4,yJ(e,n)];case 1:return r=l.sent(),[4,Ag(t)];case 2:return i=l.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:io(r.getKey("auth")),p256dh:io(r.getKey("p256dh"))},i?[3,3]:[2,gO(t,s)];case 3:if(_J(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,L4(t,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,gO(t,s)];case 8:return Date.now()>=i.createTime+gJ?[2,mJ({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function Mf(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return[4,Ag(t)];case 1:return n=i.sent(),n?[4,L4(t,n.token)]:[3,4];case 2:return i.sent(),[4,pJ(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function mJ(t,e,n){return O(this,void 0,void 0,function(){var r,i,s;return x(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,vJ(e,t)];case 1:return r=a.sent(),i=nt(nt({},t),{token:r,createTime:Date.now()}),[4,jI(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Mf(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function gO(t,e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return[4,dJ(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,jI(t,r)];case 2:return i.sent(),[2,r.token]}})})}function yJ(t,e){return O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aJ(e)})]}})})}function _J(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){var e={from:t.from,collapseKey:t.collapse_key};return EJ(e,t),bJ(e,t),SJ(e,t),e}function EJ(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function bJ(t,e){!e.data||(t.data=e.data)}function SJ(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){return typeof t=="object"&&!!t&&D4 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw je.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return O(this,void 0,void 0,function(){var r;return x(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Ag(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:kg,i.label=2;case 2:return[2,P1(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Mf(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw je.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw je.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw je.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw je.create("only-available-in-window")},t.prototype.onMessage=function(){throw je.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw je.create("only-available-in-window")},t.prototype.onPush=function(e){return O(this,void 0,void 0,function(){var n,r,i,s;return x(this,function(a){switch(a.label){case 0:return n=NJ(e),n?[4,U4()]:(console.debug(sJ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),AJ(r)?[2,RJ(r,n)]:(i=!1,n.notification?[4,xJ(CJ(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=wJ(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[2])}})})},t.prototype.onSubChange=function(e){var n,r;return O(this,void 0,void 0,function(){var i,s;return x(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Mf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Ag(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Mf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,P1(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:kg)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return O(this,void 0,void 0,function(){var i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[P4],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=OJ(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,kJ(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,IJ(3e3)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Ua.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function CJ(t){var e,n=nt({},t.notification);return n.data=(e={},e[P4]=t,e),n}function NJ(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function kJ(t){return O(this,void 0,void 0,function(){var e,n,r,i,s,a,l;return x(this,function(c){switch(c.label){case 0:return[4,U4()];case 1:e=c.sent();try{for(n=St(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function AJ(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function RJ(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Ua.PUSH_RECEIVED;try{for(var i=St(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function U4(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xJ(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function OJ(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(F4(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PJ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return O(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ua.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(LJ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,F4(r)&&r[oJ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return O(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw je.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,P1(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return O(this,void 0,void 0,function(){return x(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=kg),[2]})})},t.prototype.updateSwReg=function(e){return O(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw je.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(eJ,{scope:tJ})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),je.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return O(this,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Mf(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return O(this,void 0,void 0,function(){var e;return x(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?je.create("permission-blocked"):je.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw je.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw je.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw je.create("invalid-sw-registration");if(this.swRegistration)throw je.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw je.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw je.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return O(this,void 0,void 0,function(){var r,i;return x(this,function(s){switch(s.label){case 0:return r=DJ(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[D4],message_name:n[rJ],message_time:n[iJ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function DJ(t){switch(t){case Ua.NOTIFICATION_CLICKED:return"notification_open";case Ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function LJ(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t){var e,n;if(!t||!t.options)throw Fw("App Configuration Object");if(!t.name)throw Fw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=St(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw Fw(l)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Fw(t){return je.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FJ="messaging";function UJ(t){var e=t.getProvider("app").getImmediate(),n=MJ(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!j4())throw je.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new TJ(s):new PJ(s)}var jJ={isSupported:j4};te.INTERNAL.registerComponent(new mr(FJ,UJ,"PUBLIC").setServiceProps(jJ));function j4(){return self&&"ServiceWorkerGlobalScope"in self?VJ():$J()}function $J(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function VJ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $4="firebasestorage.googleapis.com",BJ="storageBucket",zJ=2*60*1e3,WJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt=function(){function t(e,n){this.code_=mO(e),this.message_="Firebase Storage: "+n,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(e){return mO(e)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+`
`+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),Ot={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function mO(t){return"storage/"+t}function zI(){var t="An unknown error occurred, please check the error payload for server response.";return new Jt(Ot.UNKNOWN,t)}function qJ(t){return new Jt(Ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HJ(t){return new Jt(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GJ(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Ot.UNAUTHENTICATED,t)}function KJ(t){return new Jt(Ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QJ(){return new Jt(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V4(){return new Jt(Ot.CANCELED,"User canceled the upload/download.")}function YJ(t){return new Jt(Ot.INVALID_URL,"Invalid URL '"+t+"'.")}function XJ(t){return new Jt(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function B4(){return new Jt(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JJ(){return new Jt(Ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ZJ(){return new Jt(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yO(t,e,n){return new Jt(Ot.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function eZ(t,e,n,r){var i,s;return t===e?(i=t,s=t===1?"argument":"arguments"):(i="between "+t+" and "+e,s="arguments"),new Jt(Ot.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+s+", received "+r+".")}function z4(){return new Jt(Ot.APP_DELETED,"The Firebase app was deleted.")}function tZ(t){return new Jt(Ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ff(t,e){return new Jt(Ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zd(t){throw new Jt(Ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function nZ(t){switch(t){case Nt.RAW:case Nt.BASE64:case Nt.BASE64URL:case Nt.DATA_URL:return;default:throw"Expected one of the event types: ["+Nt.RAW+", "+Nt.BASE64+", "+Nt.BASE64URL+", "+Nt.DATA_URL+"]."}}var Uw=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function W4(t,e){switch(t){case Nt.RAW:return new Uw(q4(e));case Nt.BASE64:case Nt.BASE64URL:return new Uw(H4(t,e));case Nt.DATA_URL:return new Uw(iZ(e),oZ(e))}throw zI()}function q4(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rZ(t){var e;try{e=decodeURIComponent(t)}catch{throw Ff(Nt.DATA_URL,"Malformed data URL.")}return q4(e)}function H4(t,e){switch(t){case Nt.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Ff(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Nt.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Ff(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(e)}catch{throw Ff(t,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var G4=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ff(Nt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=sZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function iZ(t){var e=new G4(t);return e.base64?H4(Nt.BASE64,e.rest):rZ(e.rest)}function oZ(t){var e=new G4(t);return e.contentType}function sZ(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1={STATE_CHANGED:"state_changed"},ye={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jw(t){switch(t){case ye.RUNNING:case ye.PAUSING:case ye.CANCELING:return xn.RUNNING;case ye.PAUSED:return xn.PAUSED;case ye.SUCCESS:return xn.SUCCESS;case ye.CANCELED:return xn.CANCELED;case ye.ERROR:return xn.ERROR;default:return xn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){return t!=null}function qo(t){return t!==void 0}function K4(t){return typeof t=="function"}function kh(t){return typeof t=="object"}function aZ(t){return kh(t)&&t!==null}function uZ(t){return kh(t)&&!Array.isArray(t)}function uc(t){return typeof t=="string"||t instanceof String}function lZ(t){return Q4(t)&&Number.isInteger(t)}function Q4(t){return typeof t=="number"||t instanceof Number}function _O(t){return Fm()&&t instanceof Blob}function Fm(){return typeof Blob!="undefined"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _a;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cZ=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=_a.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=_a.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw zd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),Di(i))for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return Di(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw zd("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw zd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw zd("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){Di(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){Di(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fZ=function(){function t(){}return t.prototype.createXhrIo=function(){return new cZ},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function pZ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hZ();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(Fm())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}}function dZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L1=function(){function t(e,n){var r=0,i="";_O(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(_O(this.data_)){var r=this.data_,i=dZ(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Fm()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(pZ.apply(null,r))}else{var i=e.map(function(c){return uc(c)?W4(Nt.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw XJ(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}for(var h="v[A-Za-z0-9_]+",d=$4.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+g,"i"),y={bucket:1,path:3},_="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",C=new RegExp("^https?://"+_+"/"+r+"/"+E,"i"),b={bucket:1,path:2},I=[{regex:a,indices:l,postModify:i},{regex:v,indices:y,postModify:c},{regex:C,indices:b,postModify:c}],T=0;T<I.length;T++){var R=I[T],A=R.regex.exec(e);if(A){var L=A[R.indices.bucket],F=A[R.indices.path];F||(F=""),n=new t(L,F),R.postModify(n);break}}if(n==null)throw YJ(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){var e;try{e=JSON.parse(t)}catch{return null}return uZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function gZ(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function Y4(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){return"https://"+$4+"/v0"+t}function X4(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t,e){return e}var kn=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mZ}return t}(),Wd=null;function yZ(t){return!uc(t)||t.length<2?t:Y4(t)}function _Z(){if(Wd)return Wd;var t=[];t.push(new kn("bucket")),t.push(new kn("generation")),t.push(new kn("metageneration")),t.push(new kn("name","fullPath",!0));function e(s,a){return yZ(a)}var n=new kn("name");n.xform=e,t.push(n);function r(s,a){return Di(a)?Number(a):a}var i=new kn("size");return i.xform=r,t.push(i),t.push(new kn("timeCreated")),t.push(new kn("updated")),t.push(new kn("md5Hash",null,!0)),t.push(new kn("cacheControl",null,!0)),t.push(new kn("contentDisposition",null,!0)),t.push(new kn("contentEncoding",null,!0)),t.push(new kn("contentLanguage",null,!0)),t.push(new kn("contentType",null,!0)),t.push(new kn("metadata","customMetadata",!0)),Wd=t,Wd}function wZ(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new ai(r,i);return e.makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function EZ(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return wZ(r,t),r}function J4(t,e,n){var r=WI(e);if(r===null)return null;var i=r;return EZ(t,i,n)}function bZ(t,e){var n=WI(e);if(n===null||!uc(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(l){var c=t.bucket,h=t.fullPath,d="/b/"+i(c)+"/o/"+i(h),g=Os(d),v=X4({alt:"media",token:l});return g+v});return a[0]}function qI(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}function SZ(t){if(!kh(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(e==="customMetadata"){if(!kh(n))throw"Expected object for 'customMetadata' mapping."}else if(aZ(n))throw"Mapping for '"+e+"' cannot be an object."}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd="maxResults",IZ=1e3,$w="pageToken",wO="prefixes",EO="items";function TZ(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wO])for(var i=0,s=n[wO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=t.makeStorageReference(new ai(e,l));r.prefixes.push(c)}if(n[EO])for(var h=0,d=n[EO];h<d.length;h++){var g=d[h],c=t.makeStorageReference(new ai(e,g.name));r.items.push(c)}return r}function CZ(t,e,n){var r=WI(n);if(r===null)return null;var i=r;return TZ(t,e,i)}function NZ(t){if(!kh(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===qd){if(!lZ(t[qd])||t[qd]<=0)throw"Expected maxResults to be a positive number.";if(t[qd]>1e3)throw"Expected maxResults to be less than or equal to "+IZ+"."}else if(e===$w){if(t[$w]&&!uc(t[$w]))throw"Expected pageToken to be string."}else throw"Unknown option: "+e}var Ao=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){if(!t)throw zI()}function Um(t,e){function n(r,i){var s=J4(t,i,e);return Ui(s!==null),s}return n}function kZ(t,e){function n(r,i){var s=CZ(t,e,i);return Ui(s!==null),s}return n}function AZ(t,e){function n(r,i){var s=J4(t,i,e);return Ui(s!==null),bZ(s,i)}return n}function lc(t){function e(n,r){var i;return n.getStatus()===401?i=GJ():n.getStatus()===402?i=HJ(t.bucket):n.getStatus()===403?i=KJ(t.path):i=r,i.setServerResponseProp(r.serverResponseProp()),i}return e}function jm(t){var e=lc(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=qJ(t.path)),s.setServerResponseProp(i.serverResponseProp()),s}return n}function Z4(t,e,n){var r=e.fullServerUrl(),i=Os(r),s="GET",a=t.maxOperationRetryTime,l=new Ao(i,s,Um(t,n),a);return l.errorHandler=jm(e),l}function RZ(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),l=Os(a),c="GET",h=t.maxOperationRetryTime,d=new Ao(l,c,kZ(t,e.bucket),h);return d.urlParams=s,d.errorHandler=lc(e),d}function xZ(t,e,n){var r=e.fullServerUrl(),i=Os(r),s="GET",a=t.maxOperationRetryTime,l=new Ao(i,s,AZ(t,n),a);return l.errorHandler=jm(e),l}function OZ(t,e,n,r){var i=e.fullServerUrl(),s=Os(i),a="PATCH",l=qI(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new Ao(s,a,Um(t,r),h);return d.headers=c,d.body=l,d.errorHandler=jm(e),d}function PZ(t,e){var n=e.fullServerUrl(),r=Os(n),i="DELETE",s=t.maxOperationRetryTime;function a(c,h){}var l=new Ao(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=jm(e),l}function DZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eU(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DZ(null,e)),r}function LZ(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var T="",R=0;R<2;R++)T=T+Math.random().toString().slice(2);return T}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=eU(e,r,i),d=qI(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+c+"--",y=L1.getBlob(g,r,v);if(y===null)throw B4();var _={name:h.fullPath},E=Os(s),C="POST",b=t.maxUploadRetryTime,I=new Ao(E,C,Um(t,n),b);return I.urlParams=_,I.headers=a,I.body=y.uploadData(),I.errorHandler=lc(e),I}var Rg=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function HI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ui(!1)}var r=e||["active"];return Ui(!!n&&r.indexOf(n)!==-1),n}function MZ(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=eU(e,r,i),l={name:a.fullPath},c=Os(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=qI(a,n),v=t.maxUploadRetryTime;function y(E){HI(E);var C;try{C=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ui(!1)}return Ui(uc(C)),C}var _=new Ao(c,h,y,v);return _.urlParams=l,_.headers=d,_.body=g,_.errorHandler=lc(e),_}function FZ(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=HI(h,["active","final"]),g=null;try{g=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ui(!1)}g||Ui(!1);var v=Number(g);return Ui(!isNaN(v)),new Rg(v,r.size(),d==="final")}var a="POST",l=t.maxUploadRetryTime,c=new Ao(n,a,s,l);return c.headers=i,c.errorHandler=lc(e),c}var bO=256*1024;function UZ(t,e,n,r,i,s,a,l){var c=new Rg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw JJ();var h=c.total-c.current,d=h;i>0&&(d=Math.min(d,i));var g=c.current,v=g+d,y=d===h?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},E=r.slice(g,v);if(E===null)throw B4();function C(R,A){var L=HI(R,["active","final"]),F=c.current+d,P=r.size(),N;return L==="final"?N=Um(e,s)(R,A):N=null,new Rg(F,P,L==="final",N)}var b="POST",I=e.maxUploadRetryTime,T=new Ao(n,b,C,I);return T.headers=_,T.body=E.uploadData(),T.progressCallback=l||null,T.errorHandler=lc(t),T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jZ=function(){function t(e,n,r){var i=K4(e)||Di(n)||Di(r);if(i)this.next=e,this.error=n||null,this.complete=r||null;else{var s=e;this.next=s.next||null,this.error=s.error||null,this.complete=s.complete||null}}return t}(),$Z=function(){function t(e,n,r,i,s,a){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e,n){for(var r=e.length,i=e.length,s=0;s<e.length;s++)if(e[s].optional){r=s;break}var a=r<=n.length&&n.length<=i;if(!a)throw eZ(r,i,t,n.length);for(var s=0;s<n.length;s++)try{e[s].validator(n[s])}catch(c){throw c instanceof Error?yO(s,t,c.message):yO(s,t,c)}}var eu=function(){function t(e,n){var r=this;this.validator=function(i){r.optional&&!qo(i)||e(i)},this.optional=!!n}return t}();function VZ(t,e){return function(n){t(n),e(n)}}function yl(t,e){function n(i){if(!uc(i))throw"Expected string."}var r;return t?r=VZ(n,t):r=n,new eu(r,e)}function BZ(){function t(e){var n=e instanceof Uint8Array||e instanceof ArrayBuffer||Fm()&&e instanceof Blob;if(!n)throw"Expected Blob or File."}return new eu(t)}function Vw(t){return new eu(SZ,t)}function zZ(t){return new eu(NZ,t)}function SO(){function t(e){var n=Q4(e)&&e>=0;if(!n)throw"Expected a number 0 or greater."}return new eu(t)}function Bw(t,e){function n(r){var i=r===null||Di(r)&&r instanceof Object;if(!i)throw"Expected an Object.";t!=null&&t(r)}return new eu(n,e)}function df(t){function e(n){var r=n===null||K4(n);if(!r)throw"Expected a Function."}return new eu(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IO=function(){function t(e,n,r,i,s,a){var l=this;a===void 0&&(a=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=n,this.location_=r,this.blob_=s,this.metadata_=a,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ye.RUNNING,this.errorHandler_=function(c){l.request_=null,l.chunkMultiplier_=1,c.codeEquals(Ot.CANCELED)?(l.needToFetchStatus_=!0,l.completeTransitions_()):(l.error_=c,l.transition_(ye.ERROR))},this.metadataErrorHandler_=function(c){l.request_=null,c.codeEquals(Ot.CANCELED)?l.completeTransitions_():(l.error_=c,l.transition_(ye.ERROR))},this.promise_=new Promise(function(c,h){l.resolve_=c,l.reject_=h,l.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var e=this,n=this.transferred_;return function(r){return e.updateProgress_(n+r)}},t.prototype.shouldDoResumable_=function(e){return e.size()>256*1024},t.prototype.start_=function(){this.state_===ye.RUNNING&&this.request_===null&&(this.resumable_?this.uploadUrl_===null?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(e){var n=this;this.service_.getAuthToken().then(function(r){switch(n.state_){case ye.RUNNING:e(r);break;case ye.CANCELING:n.transition_(ye.CANCELED);break;case ye.PAUSING:n.transition_(ye.PAUSED);break}})},t.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(n){var r=MZ(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(s){e.request_=null,e.uploadUrl_=s,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},t.prototype.fetchStatus_=function(){var e=this,n=this.uploadUrl_;this.resolveToken_(function(r){var i=FZ(e.service_,e.location_,n,e.blob_),s=e.service_.makeRequest(i,r);e.request_=s,s.getPromise().then(function(a){a=a,e.request_=null,e.updateProgress_(a.current),e.needToFetchStatus_=!1,a.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},t.prototype.continueUpload_=function(){var e=this,n=bO*this.chunkMultiplier_,r=new Rg(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(s){var a;try{a=UZ(e.location_,e.service_,i,e.blob_,n,e.mappings_,r,e.makeProgressCallback_())}catch(c){e.error_=c,e.transition_(ye.ERROR);return}var l=e.service_.makeRequest(a,s);e.request_=l,l.getPromise().then(function(c){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(c.current),c.finalized?(e.metadata_=c.metadata,e.transition_(ye.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},t.prototype.increaseMultiplier_=function(){var e=bO*this.chunkMultiplier_;e<32*1024*1024&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(n){var r=Z4(e.service_,e.location_,e.mappings_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(s){e.request_=null,e.metadata_=s,e.transition_(ye.SUCCESS)},e.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(n){var r=LZ(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(s){e.request_=null,e.metadata_=s,e.updateProgress_(e.blob_.size()),e.transition_(ye.SUCCESS)},e.errorHandler_)})},t.prototype.updateProgress_=function(e){var n=this.transferred_;this.transferred_=e,this.transferred_!==n&&this.notifyObservers_()},t.prototype.transition_=function(e){if(this.state_!==e)switch(e){case ye.CANCELING:this.state_=e,this.request_!==null&&this.request_.cancel();break;case ye.PAUSING:this.state_=e,this.request_!==null&&this.request_.cancel();break;case ye.RUNNING:var n=this.state_===ye.PAUSED;this.state_=e,n&&(this.notifyObservers_(),this.start_());break;case ye.PAUSED:this.state_=e,this.notifyObservers_();break;case ye.CANCELED:this.error_=V4(),this.state_=e,this.notifyObservers_();break;case ye.ERROR:this.state_=e,this.notifyObservers_();break;case ye.SUCCESS:this.state_=e,this.notifyObservers_();break}},t.prototype.completeTransitions_=function(){switch(this.state_){case ye.PAUSING:this.transition_(ye.PAUSED);break;case ye.CANCELING:this.transition_(ye.CANCELED);break;case ye.RUNNING:this.start_();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=jw(this.state_);return new $Z(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){function s(){if(e!==D1.STATE_CHANGED)throw"Expected one of the event types: ["+D1.STATE_CHANGED+"]."}var a="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=df(!0).validator,c=Bw(null,!0).validator;function h(C){try{l(C);return}catch{}try{c(C);var b=qo(C.next)||qo(C.error)||qo(C.complete);if(!b)throw"";return}catch{throw a}}var d=[yl(s),Bw(h,!0),df(!0),df(!0)];Mt("on",d,arguments);var g=this;function v(C){function b(I,T,R){C!==null&&Mt("on",C,arguments);var A=new jZ(I,T,i);return g.addObserver_(A),function(){g.removeObserver_(A)}}return b}function y(C){if(C===null)throw a;h(C)}var _=[Bw(y),df(!0),df(!0)],E=!(qo(n)||qo(r)||qo(i));return E?v(_):v(null)(n,r,i)},t.prototype.then=function(e,n){return this.promise_.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},t.prototype.removeObserver_=function(e){var n=this.observers_.indexOf(e);n!==-1&&this.observers_.splice(n,1)},t.prototype.notifyObservers_=function(){var e=this;this.finishPromise_();var n=this.observers_.slice();n.forEach(function(r){e.notifyObserver_(r)})},t.prototype.finishPromise_=function(){if(this.resolve_!==null){var e=!0;switch(jw(this.state_)){case xn.SUCCESS:Mu(this.resolve_.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:var n=this.reject_;Mu(n.bind(null,this.error_))();break;default:e=!1;break}e&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(e){var n=jw(this.state_);switch(n){case xn.RUNNING:case xn.PAUSED:e.next&&Mu(e.next.bind(e,this.snapshot))();break;case xn.SUCCESS:e.complete&&Mu(e.complete.bind(e))();break;case xn.CANCELED:case xn.ERROR:e.error&&Mu(e.error.bind(e,this.error_))();break;default:e.error&&Mu(e.error.bind(e,this.error_))()}},t.prototype.resume=function(){Mt("resume",[],arguments);var e=this.state_===ye.PAUSED||this.state_===ye.PAUSING;return e&&this.transition_(ye.RUNNING),e},t.prototype.pause=function(){Mt("pause",[],arguments);var e=this.state_===ye.RUNNING;return e&&this.transition_(ye.PAUSING),e},t.prototype.cancel=function(){Mt("cancel",[],arguments);var e=this.state_===ye.RUNNING||this.state_===ye.PAUSING;return e&&this.transition_(ye.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gv=function(){function t(e,n){this.service=e,n instanceof ai?this.location=n:this.location=ai.makeFromUrl(n)}return t.prototype.toString=function(){return Mt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return _Z()},t.prototype.child=function(e){Mt("child",[yl()],arguments);var n=gZ(this.location.path,e),r=new ai(this.location.bucket,n);return this.newRef(this.service,r)},Object.defineProperty(t.prototype,"parent",{get:function(){var e=vZ(this.location.path);if(e===null)return null;var n=new ai(this.location.bucket,e);return this.newRef(this.service,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=new ai(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Y4(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return n===void 0&&(n=null),Mt("put",[BZ(),Vw(!0)],arguments),this.throwIfRoot_("put"),new IO(this,this.service,this.location,this.mappings(),new L1(e),n)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Nt.RAW),Mt("putString",[yl(),yl(nZ,!0),Vw(!0)],arguments),this.throwIfRoot_("putString");var i=W4(n,e),s=Object.assign({},r);return!Di(s.contentType)&&Di(i.contentType)&&(s.contentType=i.contentType),new IO(this,this.service,this.location,this.mappings(),new L1(i.data,!0),s)},t.prototype.delete=function(){var e=this;return Mt("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(n){var r=PZ(e.service,e.location);return e.service.makeRequest(r,n).getPromise()})},t.prototype.listAll=function(){Mt("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},t.prototype.listAllHelper=function(e,n){return O(this,void 0,void 0,function(){var r,i,s,a;return x(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,this.list(r)];case 1:return i=l.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,this.listAllHelper(e,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.list=function(e){Mt("list",[zZ(!0)],arguments);var n=this;return this.service.getAuthToken().then(function(r){var i=e||{},s=RZ(n.service,n.location,"/",i.pageToken,i.maxResults);return n.service.makeRequest(s,r).getPromise()})},t.prototype.getMetadata=function(){var e=this;return Mt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(n){var r=Z4(e.service,e.location,e.mappings());return e.service.makeRequest(r,n).getPromise()})},t.prototype.updateMetadata=function(e){var n=this;return Mt("updateMetadata",[Vw()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(r){var i=OZ(n.service,n.location,e,n.mappings());return n.service.makeRequest(i,r).getPromise()})},t.prototype.getDownloadURL=function(){var e=this;return Mt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(n){var r=xZ(e.service,e.location,e.mappings());return e.service.makeRequest(r,n).getPromise().then(function(i){if(i===null)throw ZJ();return i})})},t.prototype.throwIfRoot_=function(e){if(this.location.path==="")throw tZ(e)},t}(),WZ=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(t,e,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(function(){i=null,t(g,l())},_)}function g(_){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];if(!c){if(_){h.call.apply(h,Xn([null,_],E));return}var b=l()||s;if(b){h.call.apply(h,Xn([null,_],E));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}}var v=!1;function y(_){v||(v=!0,!c&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function HZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GZ=function(){function t(e,n,r,i,s,a,l,c,h,d,g){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=h,this.pool_=g,this.promise_=new Promise(function(y,_){v.resolve_=y,v.reject_=_,v.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new Hd(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function l(c){var h=c.loaded,d=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(c){e.progressCallback_!==null&&c.removeUploadProgressListener(l),e.pendingXhr_=null,c=c;var h=c.getErrorCode()===_a.NO_ERROR,d=c.getStatus();if(!h||e.isRetryStatusCode_(d)){var g=c.getErrorCode()===_a.ABORT;i(!1,new Hd(!1,null,g));return}var v=e.successCodes_.indexOf(d)!==-1;i(!0,new Hd(v,c))})}function r(i,s){var a=e.resolve_,l=e.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=e.callback_(c,c.getResponseText());qo(h)?a(h):a()}catch(g){l(g)}else if(c!==null){var d=zI();d.setServerResponseProp(c.getResponseText()),e.errorCallback_?l(e.errorCallback_(c,d)):l(d)}else if(s.canceled){var d=e.appDelete_?z4():V4();l(d)}else{var d=QJ();l(d)}}this.canceled_?r(!1,new Hd(!1,null,!0)):this.backoffId_=qZ(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HZ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),Hd=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function KZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QZ(t){var e=typeof te!="undefined"?te.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function YZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XZ(t,e,n,r){var i=X4(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return YZ(a,e),KZ(a,n),QZ(a),new GZ(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tU=function(){function t(e,n,r,i){var s;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=zJ,this.maxUploadRetryTime_=WJ,this.requests_=new Set,this.pool_=r,i!=null?this.bucket_=ai.makeFromBucketSpec(i):this.bucket_=t.extractBucket_((s=this.app_)===null||s===void 0?void 0:s.options),this.internals_=new JZ(this)}return t.extractBucket_=function(e){var n=e==null?void 0:e[BJ];return n==null?null:ai.makeFromBucketSpec(n)},t.prototype.getAuthToken=function(){return O(this,void 0,void 0,function(){var e,n;return x(this,function(r){switch(r.label){case 0:return e=this.authProvider_.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(e){return e.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(e){return new gv(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this.deleted_)return new WZ(z4());var i=XZ(e,this.appId_,n,this.pool_);return this.requests_.add(i),i.getPromise().then(function(){return r.requests_.delete(i)},function(){return r.requests_.delete(i)}),i},t.prototype.ref=function(e){function n(i){if(typeof i!="string")throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(i))throw"Expected child path but got a URL, use refFromURL instead."}if(Mt("ref",[yl(n,!0)],arguments),this.bucket_==null)throw new Error("No Storage Bucket defined in Firebase Options.");var r=new gv(this,this.bucket_);return e!=null?r.child(e):r},t.prototype.refFromURL=function(e){function n(r){if(typeof r!="string")throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(r))throw"Expected full URL but got a child path, use ref instead.";try{ai.makeFromUrl(r)}catch{throw"Expected valid full URL but got an invalid one."}}return Mt("refFromURL",[yl(n,!1)],arguments),new gv(this,e)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(e){Mt("setMaxUploadRetryTime",[SO()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(e){Mt("setMaxOperationRetryTime",[SO()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),JZ=function(){function t(e){this.service_=e}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}(),ZZ="@firebase/storage",eee="0.3.43";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tee="storage";function nee(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new tU(n,r,new fZ,e)}function ree(t){var e={TaskState:xn,TaskEvent:D1,StringFormat:Nt,Storage:tU,Reference:gv};t.INTERNAL.registerComponent(new mr(tee,nee,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(ZZ,eee)}ree(te);var iee="@firebase/performance",nU="0.4.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rU=nU,oee="FB-PERF-TRACE-START",see="FB-PERF-TRACE-STOP",M1="FB-PERF-TRACE-MEASURE",iU="_wt_",oU="_fp",sU="_fcp",aU="_fid",uU="@firebase/performance/config",lU="@firebase/performance/configexpire",aee="performance",cU="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,uee=(tn={},tn["trace started"]="Trace {$traceName} was started before.",tn["trace stopped"]="Trace {$traceName} is not running.",tn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",tn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",tn["no window"]="Window is not available.",tn["no app id"]="App id is not available.",tn["no project id"]="Project id is not available.",tn["no api key"]="Api key is not available.",tn["invalid cc log"]="Attempted to queue invalid cc event",tn["FB not default"]="Performance can only start when Firebase app instance is the default one.",tn["RC response not ok"]="RC response is not ok",tn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",tn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",tn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",tn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",tn),pn=new ks(aee,cU,uee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co=new Ql(cU);Co.logLevel=pe.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zw,fU,wn=function(){function t(e){if(this.window=e,!e)throw pn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Co.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):nS()?!0:(Co.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return zw===void 0&&(zw=new t(fU)),zw},t}();function lee(t){fU=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){var n=t.length-e.length;if(n<0||n>1)throw pn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ww,$t=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=TO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=TO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw pn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw pn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw pn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return Ww===void 0&&(Ww=new t),Ww},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hU;function cee(){var t=$t.getInstance().installationsService.getId();return t.then(function(e){hU=e}),t}function GI(){return hU}function fee(){var t=$t.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(_l||(_l={}));var hee=["firebase_","google_","ga_"],pee=new RegExp("^[a-zA-Z]\\w*$"),dee=40,vee=100;function gee(){var t=wn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function pU(){var t=wn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return _l.VISIBLE;case"hidden":return _l.HIDDEN;default:return _l.UNKNOWN}}function mee(){var t=wn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function yee(t){if(t.length===0||t.length>dee)return!1;var e=hee.some(function(n){return t.startsWith(n)});return!e&&!!t.match(pee)}function _ee(t){return t.length!==0&&t.length<=vee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wee="0.0.1",Eee={loggingEnabled:!0},bee="FIREBASE_INSTALLATIONS_AUTH";function See(t){var e=Iee();return e?(CO(e),Promise.resolve()):Nee(t).then(CO).then(function(n){return Tee(n)},function(){})}function Iee(){var t=wn.getInstance().localStorage;if(!!t){var e=t.getItem(lU);if(!(!e||!kee(e))){var n=t.getItem(uU);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function Tee(t){var e=wn.getInstance().localStorage;!t||!e||(e.setItem(uU,JSON.stringify(t)),e.setItem(lU,String(Date.now()+$t.getInstance().configTimeToLive*60*60*1e3)))}var Cee="Could not fetch config, will use default configs";function Nee(t){return fee().then(function(e){var n=$t.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+$t.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:bee+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:$t.getInstance().getAppId(),app_version:rU,sdk_version:wee})});return fetch(i).then(function(s){if(s.ok)return s.json();throw pn.create("RC response not ok")})}).catch(function(){Co.info(Cee)})}function CO(t){if(!t)return t;var e=$t.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=Eee.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=NO(e.tracesSamplingRate),e.logNetworkAfterSampling=NO(e.networkRequestsSamplingRate),t}function kee(t){return Number(t)>Date.now()}function NO(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KI=1,qw;function dU(){return KI=2,qw=qw||Ree(),qw}function Aee(){return KI===3}function Ree(){return xee().then(function(){return cee()}).then(function(t){return See(t)}).then(function(){return kO()},function(){return kO()})}function xee(){var t=wn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function kO(){KI=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QI=10*1e3,Oee=5.5*1e3,vU=3,xg=vU,vo=[],AO=!1;function Pee(){AO||($m(Oee),AO=!0)}function $m(t){setTimeout(function(){if(xg!==0){if(!vo.length)return $m(QI);Dee()}},t)}function Dee(){var t=Xn(vo);vo=[];var e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$t.getInstance().logSource,log_event:e};Lee(n,t).catch(function(){vo=Xn(t,vo),xg--,Co.info("Tries left: "+xg+"."),$m(QI)})}function Lee(t,e){return Mee(t).then(function(n){return n.ok||Co.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=QI;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(vo=Xn(e,vo),Co.info("Retry transport request later.")),xg=vU,$m(i)})}function Mee(t){var e=$t.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Fee(t){if(!t.eventTime||!t.message)throw pn.create("invalid cc log");vo=Xn(vo,[t])}function Uee(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Fee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hw;function gU(t,e){Hw||(Hw=Uee($ee)),Hw(t,e)}function Gd(t){var e=$t.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!wn.getInstance().requiredApisAvailable()||t.isAuto&&pU()!==_l.VISIBLE||(Aee()?Gw(t):dU().then(function(){return Gw(t)},function(){return Gw(t)}))}function Gw(t){if(!!GI()){var e=$t.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return gU(t,1)},0)}}function jee(t){var e=$t.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return gU(t,0)},0)}}function $ee(t,e){return e===0?Vee(t):Bee(t)}function Vee(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:mU(),network_request_metric:e};return JSON.stringify(n)}function Bee(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:mU(),trace_metric:e};return JSON.stringify(r)}function mU(){return{google_app_id:$t.getInstance().getAppId(),app_instance_id:GI(),web_app_info:{sdk_version:rU,page_url:wn.getInstance().getUrl(),service_worker_status:gee(),visibility_state:pU(),effective_connection_type:mee()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zee=100,Wee="_",qee=[oU,sU,aU];function Hee(t,e){return t.length===0||t.length>zee?!1:e&&e.startsWith(iU)&&qee.indexOf(t)>-1||!t.startsWith(Wee)}function Gee(t){var e=Math.floor(t);return e<t&&Co.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=wn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=oee+"-"+this.randomId+"-"+this.name,this.traceStopMark=see+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||M1+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw pn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw pn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Gd(this)},t.prototype.record=function(e,n,r){if(e<=0)throw pn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw pn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=nt({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Gd(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(Hee(e,this.name))this.counters[e]=Gee(n);else throw pn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=yee(e),i=_ee(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw pn.create("invalid attribute name",{attributeName:e});if(!i)throw pn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return nt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=wn.getInstance().getUrl();if(!!i){var s=new t(iU+i,!0),a=Math.floor(wn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(g){return g.name===l});h&&h.startTime&&s.putMetric(oU,Math.floor(h.startTime*1e3));var d=n.find(function(g){return g.name===c});d&&d.startTime&&s.putMetric(sU,Math.floor(d.startTime*1e3)),r&&s.putMetric(aU,Math.floor(r*1e3))}Gd(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);Gd(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=wn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],l={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};jee(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kee=5e3;function xO(){!GI()||(setTimeout(function(){return Yee()},0),setTimeout(function(){return Qee()},0),setTimeout(function(){return Xee()},0))}function Qee(){for(var t=wn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];RO(i)}t.setupObserver("resource",RO)}function Yee(){var t=wn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Uf.createOobTrace(e,n),r=void 0},Kee);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Uf.createOobTrace(e,n,i))})}else Uf.createOobTrace(e,n)}function Xee(){for(var t=wn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];OO(i)}t.setupObserver("measure",OO)}function OO(t){var e=t.name;e.substring(0,M1.length)!==M1&&Uf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jee=function(){function t(e){this.app=e,wn.getInstance().requiredApisAvailable()&&rS().then(function(n){n&&(Pee(),dU().then(xO,xO))}).catch(function(n){Co.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Uf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return $t.getInstance().instrumentationEnabled},set:function(e){$t.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return $t.getInstance().dataCollectionEnabled},set:function(e){$t.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zee="[DEFAULT]";function ete(t){var e=function(n,r){if(n.name!==Zee)throw pn.create("FB not default");if(typeof window=="undefined")throw pn.create("no window");return lee(window),$t.getInstance().firebaseAppInstance=n,$t.getInstance().installationsService=r,new Jee(n)};t.INTERNAL.registerComponent(new mr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(iee,nU)}ete(te);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tte="firebase_id",nte="origin",rte=60*1e3,ite="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yU="https://www.googletagmanager.com/gtag/js",En;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(En||(En={}));var F1;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(F1||(F1={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t,e,n,r,i){return O(this,void 0,void 0,function(){var s,a;return x(this,function(l){switch(l.label){case 0:return i&&i.global?(t(En.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=l.sent(),a=nt(nt({},r),{send_to:s}),t(En.EVENT,n,a),l.label=3;case 3:return[2]}})})}function ste(t,e,n,r){return O(this,void 0,void 0,function(){var i;return x(this,function(s){switch(s.label){case 0:return r&&r.global?(t(En.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(En.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function ate(t,e,n,r){return O(this,void 0,void 0,function(){var i;return x(this,function(s){switch(s.label){case 0:return r&&r.global?(t(En.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(En.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function ute(t,e,n,r){return O(this,void 0,void 0,function(){var i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return t(En.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=h.sent(),t(En.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function lte(t,e){return O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=new Ql("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(t){var e=document.createElement("script");e.src=yU+"?l="+t,e.async=!0,document.head.appendChild(e)}function fte(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function hte(t,e,n,r,i,s){return O(this,void 0,void 0,function(){var a,l,c,h;return x(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=d.sent(),c=l.find(function(g){return g.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),rn.error(h),[3,8];case 8:return t(En.CONFIG,i,s),[2]}})})}function pte(t,e,n,r,i){return O(this,void 0,void 0,function(){var s,a,l,c,h,d,g,v,y;return x(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=_.sent(),c=function(E){var C=l.find(function(I){return I.measurementId===E}),b=C&&e[C.appId];if(b)s.push(b);else return s=[],"break"},h=0,d=a;h<d.length&&(g=d[h],v=c(g),v!=="break");h++);_.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return _.sent(),t(En.EVENT,r,i||{}),[3,5];case 4:return y=_.sent(),rn.error(y),[3,5];case 5:return[2]}})})}function dte(t,e,n,r){function i(s,a,l){return O(this,void 0,void 0,function(){var c;return x(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==En.EVENT?[3,2]:[4,pte(t,e,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==En.CONFIG?[3,4]:[4,hte(t,e,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:t(En.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),rn.error(c),[3,7];case 7:return[2]}})})}return i}function vte(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=dte(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function gte(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(yU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,mte=(ei={},ei["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ei["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ei["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ei["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ei["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ei["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ei["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ei),Ur=new ks("analytics","Analytics",mte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yte=30,_te=1e3,wte=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=_te),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),_U=new wte;function Ete(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function bte(t){var e;return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return x(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Ete(r)},s=ite.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Ur.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Ste(t,e,n){return e===void 0&&(e=_U),O(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return x(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Ur.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Ur.create("no-api-key")}return l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Cte,setTimeout(function(){return O(h,void 0,void 0,function(){return x(this,function(g){return c.abort(),[2]})})},n!==void 0?n:rte),[2,wU({appId:i,apiKey:s,measurementId:a},l,c,e)]})})}function wU(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=_U),O(this,void 0,void 0,function(){var a,l,c,h,d,g,v;return x(this,function(y){switch(y.label){case 0:a=t.appId,l=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Ite(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return rn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,bte(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Tte(d)){if(r.deleteThrottleMetadata(a),l)return rn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:l}];throw d}return g=Number(d.httpStatus)===503?YE(s,r.intervalMillis,yte):YE(s,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,v),rn.debug("Calling attemptFetch again in "+g+" millis"),[2,wU(t,v,n,r)];case 7:return[2]}})})}function Ite(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Tte(t){if(!(t instanceof jh))return!1;var e=Number(t.httpStatus);return e===429||e===500||e===503||e===504}var Cte=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(){return O(this,void 0,void 0,function(){var t;return x(this,function(e){switch(e.label){case 0:return nS()?[3,1]:(rn.warn(Ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,rS()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),rn.warn(Ur.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function kte(t,e,n,r,i){return O(this,void 0,void 0,function(){var s,a,l,c,h,d,g;return x(this,function(v){switch(v.label){case 0:return s=Ste(t),s.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&rn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return rn.error(y)}),e.push(s),a=Nte().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return l=v.sent(),c=l[0],h=l[1],i("js",new Date),d=(g={},g[nte]="firebase",g.update=!0,g),h!=null&&(d[tte]=h),i(En.CONFIG,c.measurementId,d),[2,c.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to={},PO=[],DO={},mv="dataLayer",EU="gtag",LO,vf,U1=!1;function Ate(t){if(U1)throw Ur.create("already-initialized");t.dataLayerName&&(mv=t.dataLayerName),t.gtagName&&(EU=t.gtagName)}function Rte(){var t=[];if(tS()&&t.push("This is a browser extension environment."),JD()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Ur.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function xte(t,e){Rte();var n=t.options.appId;if(!n)throw Ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ur.create("no-api-key");if(to[n]!=null)throw Ur.create("already-exists",{id:n});if(!U1){gte()||cte(mv),fte(mv);var r=vte(to,PO,DO,mv,EU),i=r.wrappedGtag,s=r.gtagCore;vf=i,LO=s,U1=!0}to[n]=kte(t,PO,DO,e,LO);var a={app:t,logEvent:function(l,c,h){ote(vf,to[n],l,c,h).catch(function(d){return rn.error(d)})},setCurrentScreen:function(l,c){ste(vf,to[n],l,c).catch(function(h){return rn.error(h)})},setUserId:function(l,c){ate(vf,to[n],l,c).catch(function(h){return rn.error(h)})},setUserProperties:function(l,c){ute(vf,to[n],l,c).catch(function(h){return rn.error(h)})},setAnalyticsCollectionEnabled:function(l){lte(to[n],l).catch(function(c){return rn.error(c)})},INTERNAL:{delete:function(){return delete to[n],Promise.resolve()}}};return a}var Ote="@firebase/analytics",Pte="0.6.0",MO="analytics";function Dte(t){t.INTERNAL.registerComponent(new mr(MO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return xte(r,i)},"PUBLIC").setServiceProps({settings:Ate,EventName:F1,isSupported:Lte})),t.INTERNAL.registerComponent(new mr("analytics-internal",e,"PRIVATE")),t.registerVersion(Ote,Pte);function e(n){try{var r=n.getProvider(MO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ur.create("interop-component-reg-failed",{reason:i})}}}Dte(te);function Lte(){return O(this,void 0,void 0,function(){var t;return x(this,function(e){switch(e.label){case 0:if(tS())return[2,!1];if(!JD())return[2,!1];if(!nS())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,rS()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mte=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return O(this,void 0,void 0,function(){var n,r,i,s,a;return x(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,Fte=(An={},An["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",An["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",An["registration-api-key"]="Undefined API key. Check Firebase app initialization.",An["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",An["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",An["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",An["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",An["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",An["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",An["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',An["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',An["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",An["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",An),Dr=new ks("remoteconfig","Remote Config",Fte);function Ute(t,e){return t instanceof jh&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $te=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return O(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,g,v,y,_,E,C,b,I,T,R;return x(this,function(A){switch(A.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=A.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:jte()},h={method:"POST",headers:l,body:JSON.stringify(c)},d=fetch(a,h),g=new Promise(function(L,F){e.signal.addEventListener(function(){var P=new Error("The operation was aborted.");P.name="AbortError",F(P)})}),A.label=2;case 2:return A.trys.push([2,5,,6]),[4,Promise.race([d,g])];case 3:return A.sent(),[4,d];case 4:return v=A.sent(),[3,6];case 5:throw y=A.sent(),_="fetch-client-network",y.name==="AbortError"&&(_="fetch-timeout"),Dr.create(_,{originalErrorMessage:y.message});case 6:if(E=v.status,C=v.headers.get("ETag")||void 0,v.status!==200)return[3,11];T=void 0,A.label=7;case 7:return A.trys.push([7,9,,10]),[4,v.json()];case 8:return T=A.sent(),[3,10];case 9:throw R=A.sent(),Dr.create("fetch-client-parse",{originalErrorMessage:R.message});case 10:b=T.entries,I=T.state,A.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?E=500:I==="NO_CHANGE"?E=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(b={}),E!==304&&E!==200)throw Dr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:C,config:b}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vte=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bte=!1,zte="",FO=0,Wte=["1","true","t","yes","y","on"],Kw=function(){function t(e,n){n===void 0&&(n=zte),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Bte:Wte.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return FO;var e=Number(this._value);return isNaN(e)&&(e=FO),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qte=60*1e3,Hte=12*60*60*1e3,Gte=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:qte,minimumFetchIntervalMillis:Hte},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=pe.DEBUG;break;case"silent":this._logger.logLevel=pe.SILENT;break;default:this._logger.logLevel=pe.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return O(this,void 0,void 0,function(){var e,n,r;return x(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return O(this,void 0,void 0,function(){var e,n,r,i=this;return x(this,function(s){switch(s.label){case 0:e=new Vte,setTimeout(function(){return O(i,void 0,void 0,function(){return x(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=Ute(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return O(this,void 0,void 0,function(){return x(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Kte(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new Kw("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new Kw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Kw("static"))},t}();function Kte(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(nt(nt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){var n=t.target.error||void 0;return Dr.create(e,{originalErrorMessage:n&&n.message})}var ra="app_namespace_store",Qte="firebase_remote_config",Yte=1;function Xte(){return new Promise(function(t,e){var n=indexedDB.open(Qte,Yte);n.onerror=function(r){e(yv(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ra,{keyPath:"compositeKey"})}}})}var Jte=function(){function t(e,n,r,i){i===void 0&&(i=Xte()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([ra],"readonly"),c=l.objectStore(ra),h=r.createCompositeKey(e);try{var d=c.get(h);d.onerror=function(g){a(yv(g,"storage-get"))},d.onsuccess=function(g){var v=g.target.result;s(v?v.value:void 0)}}catch(g){a(Dr.create("storage-get",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.set=function(e,n){return O(this,void 0,void 0,function(){var r,i=this;return x(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([ra],"readwrite"),h=c.objectStore(ra),d=i.createCompositeKey(e);try{var g=h.put({compositeKey:d,value:n});g.onerror=function(v){l(yv(v,"storage-set"))},g.onsuccess=function(){a()}}catch(v){l(Dr.create("storage-set",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.delete=function(e){return O(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([ra],"readwrite"),c=l.objectStore(ra),h=r.createCompositeKey(e);try{var d=c.delete(h);d.onerror=function(g){a(yv(g,"storage-delete"))},d.onsuccess=function(){s()}}catch(g){a(Dr.create("storage-delete",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zte=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return O(this,void 0,void 0,function(){var e,n,r,i,s,a;return x(this,function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tne(t){if(!(t instanceof jh))return!1;var e=Number(t.httpStatus);return e===429||e===500||e===503||e===504}var nne=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return O(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return O(this,void 0,void 0,function(){var s,a,l;return x(this,function(c){switch(c.label){case 0:return[4,ene(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!tne(a))throw a;return l={throttleEndTimeMillis:Date.now()+YE(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}})})},t}(),UO="@firebase/remote-config",rne="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t){t.INTERNAL.registerComponent(new mr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(UO,rne);function e(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw Dr.create("registration-window");var a=i.options,l=a.projectId,c=a.apiKey,h=a.appId;if(!l)throw Dr.create("registration-project-id");if(!c)throw Dr.create("registration-api-key");if(!h)throw Dr.create("registration-app-id");r=r||"firebase";var d=new Jte(h,i.name,r),g=new Zte(d),v=new Ql(UO);v.logLevel=pe.ERROR;var y=new $te(s,t.SDK_VERSION,r,l,c,h),_=new nne(y,d),E=new Mte(_,d,g,v),C=new Gte(i,E,g,d,v);return C.ensureInitialized(),C}}ine(te);var one="firebase",sne="7.24.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */te.registerVersion(one,sne,"app");var ane="firebase",une="7.24.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import * as firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);te.registerVersion(ane,une);const lne={apiKey:"AIzaSyCDjoTMal1sMijkRbQkDaPR1Nyf0GWre4g",authDomain:"messenger-15c25.firebaseapp.com",projectId:"messenger-15c25",storageBucket:"messenger-15c25.appspot.com",messagingSenderId:"70308539568",appId:"1:70308539568:web:b4557719e93243d1dbdf75",measurementId:"G-9EVR8H3QML"};te.initializeApp(lne);const wl=te.firestore(),cne=te.auth(),fne=new te.auth.GoogleAuthProvider,jO=te.storage();var pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pa||(pa={}));var $O=function(t){return t},VO="beforeunload",hne="hashchange",pne="popstate";function dne(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var P=Es(r.location.hash.substr(1)),N=P.pathname,B=N===void 0?"/":N,oe=P.search,_e=oe===void 0?"":oe,Ne=P.hash,Oe=Ne===void 0?"":Ne,qe=i.state||{};return[qe.idx,$O({pathname:B,search:_e,hash:Oe,state:qe.usr||null,key:qe.key||"default"})]}var a=null;function l(){if(a)y.call(a),a=null;else{var P=pa.Pop,N=s(),B=N[0],oe=N[1];if(y.length){if(B!=null){var _e=d-B;_e&&(a={action:P,location:oe,retry:function(){L(_e*-1)}},L(_e))}}else T(P)}}r.addEventListener(pne,l),r.addEventListener(hne,function(){var P=s(),N=P[1];jf(N)!==jf(g)&&l()});var c=pa.Pop,h=s(),d=h[0],g=h[1],v=zO(),y=zO();d==null&&(d=0,i.replaceState(ie({},i.state,{idx:d}),""));function _(){var P=document.querySelector("base"),N="";if(P&&P.getAttribute("href")){var B=r.location.href,oe=B.indexOf("#");N=oe===-1?B:B.slice(0,oe)}return N}function E(P){return _()+"#"+(typeof P=="string"?P:jf(P))}function C(P,N){return N===void 0&&(N=null),$O(ie({pathname:g.pathname,hash:"",search:""},typeof P=="string"?Es(P):P,{state:N,key:vne()}))}function b(P,N){return[{usr:P.state,key:P.key,idx:N},E(P)]}function I(P,N,B){return!y.length||(y.call({action:P,location:N,retry:B}),!1)}function T(P){c=P;var N=s();d=N[0],g=N[1],v.call({action:c,location:g})}function R(P,N){var B=pa.Push,oe=C(P,N);function _e(){R(P,N)}if(I(B,oe,_e)){var Ne=b(oe,d+1),Oe=Ne[0],qe=Ne[1];try{i.pushState(Oe,"",qe)}catch{r.location.assign(qe)}T(B)}}function A(P,N){var B=pa.Replace,oe=C(P,N);function _e(){A(P,N)}if(I(B,oe,_e)){var Ne=b(oe,d),Oe=Ne[0],qe=Ne[1];i.replaceState(Oe,"",qe),T(B)}}function L(P){i.go(P)}var F={get action(){return c},get location(){return g},createHref:E,push:R,replace:A,go:L,back:function(){L(-1)},forward:function(){L(1)},listen:function(N){return v.push(N)},block:function(N){var B=y.push(N);return y.length===1&&r.addEventListener(VO,BO),function(){B(),y.length||r.removeEventListener(VO,BO)}}};return F}function BO(t){t.preventDefault(),t.returnValue=""}function zO(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function vne(){return Math.random().toString(36).substr(2,8)}function jf(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,a=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Es(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const YI=U.exports.createContext(null),XI=U.exports.createContext(null),lp=U.exports.createContext({outlet:null,matches:[]});function Bi(t,e){if(!t)throw new Error(e)}function gne(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Es(e):e,i=IU(r.pathname||"/",n);if(i==null)return null;let s=bU(t);mne(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=Cne(s[l],i);return a}function bU(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let a={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Bi(!1),a.relativePath=a.relativePath.slice(r.length));let l=cs([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(i.index===!0&&Bi(!1),bU(i.children,e,c,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:Ine(l,i.index),routesMeta:c})}),e}function mne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yne=/^:\w+$/,_ne=3,wne=2,Ene=1,bne=10,Sne=-2,WO=t=>t==="*";function Ine(t,e){let n=t.split("/"),r=n.length;return n.some(WO)&&(r+=Sne),e&&(r+=wne),n.filter(i=>!WO(i)).reduce((i,s)=>i+(yne.test(s)?_ne:s===""?Ene:bne),r)}function Tne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Cne(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Nne({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(r,d.params);let g=l.route;s.push({params:r,pathname:cs([i,d.pathname]),pathnameBase:TU(cs([i,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(i=cs([i,d.pathnameBase]))}return s}function Nne(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,g)=>{if(d==="*"){let v=l[g]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return h[d]=Ane(l[g]||""),h},{}),pathname:s,pathnameBase:a,pattern:t}}function kne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,l)=>(r.push(l),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function Ane(t,e){try{return decodeURIComponent(t)}catch{return t}}function Rne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Es(t):t;return{pathname:n?n.startsWith("/")?n:xne(n,e):e,search:Pne(r),hash:Dne(i)}}function xne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function SU(t,e,n){let r=typeof t=="string"?Es(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let l=e.length-1;if(i.startsWith("..")){let c=i.split("/");for(;c[0]==="..";)c.shift(),l-=1;r.pathname=c.join("/")}s=l>=0?e[l]:"/"}let a=Rne(r,s);return i&&i!=="/"&&i.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function One(t){return t===""||t.pathname===""?"/":typeof t=="string"?Es(t).pathname:t.pathname}function IU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const cs=t=>t.join("/").replace(/\/\/+/g,"/"),TU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lne(t){cp()||Bi(!1);let{basename:e,navigator:n}=U.exports.useContext(YI),{hash:r,pathname:i,search:s}=NU(t),a=i;if(e!=="/"){let l=One(t),c=l!=null&&l.endsWith("/");a=i==="/"?e+(c?"/":""):cs([e,i])}return n.createHref({pathname:a,search:s,hash:r})}function cp(){return U.exports.useContext(XI)!=null}function Vm(){return cp()||Bi(!1),U.exports.useContext(XI).location}function CU(){cp()||Bi(!1);let{basename:t,navigator:e}=U.exports.useContext(YI),{matches:n}=U.exports.useContext(lp),{pathname:r}=Vm(),i=JSON.stringify(n.map(l=>l.pathnameBase)),s=U.exports.useRef(!1);return U.exports.useEffect(()=>{s.current=!0}),U.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let h=SU(l,JSON.parse(i),r);t!=="/"&&(h.pathname=cs([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state)},[t,e,i,r])}function Mne(){let{matches:t}=U.exports.useContext(lp),e=t[t.length-1];return e?e.params:{}}function NU(t){let{matches:e}=U.exports.useContext(lp),{pathname:n}=Vm(),r=JSON.stringify(e.map(i=>i.pathnameBase));return U.exports.useMemo(()=>SU(t,JSON.parse(r),n),[t,r,n])}function Fne(t,e){cp()||Bi(!1);let{matches:n}=U.exports.useContext(lp),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=Vm(),l;if(e){var c;let v=typeof e=="string"?Es(e):e;s==="/"||((c=v.pathname)==null?void 0:c.startsWith(s))||Bi(!1),l=v}else l=a;let h=l.pathname||"/",d=s==="/"?h:h.slice(s.length)||"/",g=gne(t,{pathname:d});return Une(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:cs([s,v.pathname]),pathnameBase:v.pathnameBase==="/"?s:cs([s,v.pathnameBase])})),n)}function Une(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>U.exports.createElement(lp.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function j1(t){Bi(!1)}function jne(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pa.Pop,navigator:s,static:a=!1}=t;cp()&&Bi(!1);let l=TU(e),c=U.exports.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=Es(r));let{pathname:h="/",search:d="",hash:g="",state:v=null,key:y="default"}=r,_=U.exports.useMemo(()=>{let E=IU(h,l);return E==null?null:{pathname:E,search:d,hash:g,state:v,key:y}},[l,h,d,g,v,y]);return _==null?null:U.exports.createElement(YI.Provider,{value:c},U.exports.createElement(XI.Provider,{children:n,value:{location:_,navigationType:i}}))}function $ne(t){let{children:e,location:n}=t;return Fne($1(e),n)}function $1(t){let e=[];return U.exports.Children.forEach(t,n=>{if(!U.exports.isValidElement(n))return;if(n.type===U.exports.Fragment){e.push.apply(e,$1(n.props.children));return}n.type!==j1&&Bi(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=$1(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V1(){return V1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(this,arguments)}function Vne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Bne=["onClick","reloadDocument","replace","state","target","to"];function zne(t){let{basename:e,children:n,window:r}=t,i=U.exports.useRef();i.current==null&&(i.current=dne({window:r}));let s=i.current,[a,l]=U.exports.useState({action:s.action,location:s.location});return U.exports.useLayoutEffect(()=>s.listen(l),[s]),U.exports.createElement(jne,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}function Wne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const kU=U.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:a,target:l,to:c}=e,h=Vne(e,Bne),d=Lne(c),g=qne(c,{replace:s,state:a,target:l});function v(y){r&&r(y),!y.defaultPrevented&&!i&&g(y)}return U.exports.createElement("a",V1({},h,{href:d,onClick:v,ref:n,target:l}))});function qne(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=CU(),a=Vm(),l=NU(t);return U.exports.useCallback(c=>{if(c.button===0&&(!n||n==="_self")&&!Wne(c)){c.preventDefault();let h=!!r||jf(a)===jf(l);s(t,{replace:h,state:i})}},[a,s,l,r,i,n,t])}const qO=({addNewChat:t,id:e,name:n})=>{var c;const[r,i]=U.exports.useState(""),[s,a]=U.exports.useState("");return U.exports.useEffect(()=>{i(Math.floor(Math.random()*5e3).toString())},[]),U.exports.useEffect(()=>{e&&wl.collection("rooms").doc(e).collection("messages").orderBy("timestamp","desc").onSnapshot(h=>a(h.docs.map(d=>d.data())))},[e]),t?H("div",{onClick:()=>{const h=prompt("please enter name for chat");h&&wl.collection("rooms").add({name:h})},className:"sidebarChat",children:H("h2",{children:"Add new chat"})}):H(kU,{to:`/rooms/${e}`,children:Ge("div",{className:"sidebarChat",children:[H(Jb,{src:`https://avatars.dicebear.com/api/human/${r}.svg`}),Ge("div",{className:"sidebarChat_info",children:[H("h2",{children:n}),H("p",{children:(c=s[0])==null?void 0:c.message})]})]})})};const AU=U.exports.createContext(),Hne=({reducer:t,initialState:e,children:n})=>H(AU.Provider,{value:U.exports.useReducer(t,e),children:n}),Bm=()=>U.exports.useContext(AU);function Gne(){const[t,e]=U.exports.useState([]),[{user:n},r]=Bm();return U.exports.useEffect(()=>{wl.collection("rooms").onSnapshot(i=>e(i.docs.map(s=>({id:s.id,data:s.data()}))))},[]),Ge("div",{className:"sidebar",children:[Ge("div",{className:"sidebar__header",children:[H(Jb,{src:n==null?void 0:n.photoURL}),Ge("div",{className:"sidebar__headerRight",children:[H(Ko,{children:H(SH,{})}),H(Ko,{children:H(bH,{})}),H(Ko,{children:H(zD,{})})]})]}),H("div",{className:"sidebar__search",children:Ge("div",{className:"sidebar__searchContainer",children:[H(WD,{}),H("input",{placeholder:"Search",type:"text"})]})}),Ge("div",{className:"sidebar__chats",children:[H(qO,{addNewChat:!0}),t.map(i=>H(qO,{id:i.id,name:i.data.name},i.id))]})]})}var JI={},zm={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(zm);var Wm={},Kne=HO(wH);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Kne})(Wm);var ZI=HO(bz),Qne=zm.exports;Object.defineProperty(JI,"__esModule",{value:!0});var RU=JI.default=void 0,Yne=Qne(Wm),Xne=ZI,Jne=(0,Yne.default)((0,Xne.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");RU=JI.default=Jne;var eT={},Zne=zm.exports;Object.defineProperty(eT,"__esModule",{value:!0});var xU=eT.default=void 0,ere=Zne(Wm),tre=ZI,nre=(0,ere.default)((0,tre.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");xU=eT.default=nre;var tT={},rre=zm.exports;Object.defineProperty(tT,"__esModule",{value:!0});var OU=tT.default=void 0,ire=rre(Wm),ore=ZI,sre=(0,ire.default)((0,ore.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");OU=tT.default=sre;const are=()=>{let{roomId:t}=Mne();const[e,n]=U.exports.useState(""),[r,i]=U.exports.useState(""),[s,a]=U.exports.useState([]);Bm();const[l,c]=U.exports.useState(0),[h,d]=U.exports.useState(null);U.exports.useEffect(()=>{if(t&&(wl.collection("rooms").doc(t).onSnapshot(C=>i(C.data().name)),wl.collection("rooms").doc(t).collection("messages").orderBy("timestamp","asc").onSnapshot(C=>{c(C.docs.length),a(C.docs.map(b=>b.data()))})),s.length!==l){let C=document.getElementById("chat-body");C==null||C.scrollTo(0,1e3)}},[t]);let g=document.getElementById("chat-body");U.exports.useEffect(()=>{n(Math.floor(Math.random()*5e3).toString())},[]);const[v,y]=U.exports.useState("");U.exports.useEffect(()=>{g==null||g.scrollTo(0,1e3*s.length)},[s]);const _=async C=>{if(C.preventDefault(),(v==null?void 0:v.length)===0&&!h)return;let b=null;h&&(b=await E()),d(null),wl.collection("rooms").doc(t).collection("messages").add({message:v,name:localStorage.getItem("USER_NAME"),senderId:localStorage.getItem("USER_ID"),imageUrl:b,timestamp:te.firestore.FieldValue.serverTimestamp()}),g==null||g.scrollTo(0,-1e3),y("")},E=async()=>h?(await jO.ref(`images/${h.name}`).put(h),await jO.ref("images").child(h.name).getDownloadURL()):void 0;return Ge("div",{className:"chat",children:[Ge("div",{className:"chat__header",children:[H(Jb,{src:`https://avatars.dicebear.com/api/human/${e}.svg`}),Ge("div",{className:"chat__headerInfo",children:[H("h3",{children:r}),H("p",{})]}),Ge("div",{className:"chat__headerRight",children:[Ge(Ko,{children:[H(WD,{})," "]}),H(Ko,{children:H(EH,{})}),H(Ko,{children:H(zD,{})})]})]}),H("div",{id:"chat-body",className:"chat__body",children:s.map(C=>{var A;const b=new Date((A=C.timestamp)==null?void 0:A.toDate()).toUTCString(),I=b.slice(17,22),T=b.slice(5,7),R=b.slice(8,11);return C.imageUrl?Ge("div",{className:`chat__with__image ${C.senderId===localStorage.getItem("USER_ID")&&"chat__reciever"}`,children:[H("span",{className:"chat__name",children:C.name}),H("img",{width:"100%",src:C.imageUrl}),Ge("p",{children:[C.message,H("span",{className:"chat__timestamp",children:`${R} ${T}, ${I} `})]})]}):Ge("p",{className:`chat__message ${C.senderId===localStorage.getItem("USER_ID")&&"chat__reciever"}`,children:[H("span",{className:"chat__name",children:C.name}),C.message,H("span",{className:"chat__timestamp",children:`${R} ${T}, ${I} `})]},C.id)})}),Ge("div",{className:"chat__footer",children:[Ge(Ko,{children:[H("label",{style:{cursor:"pointer"},htmlFor:"textImage",children:H(RU,{})}),H("input",{id:"textImage",type:"file",style:{display:"none"},onChange:C=>{d(C.target.files[0])}})]}),Ge("form",{children:[!h&&H("textarea",{value:v,onChange:C=>y(C.target.value),placeholder:"Type a message",onKeyDown:C=>{C.key==="Enter"&&_(C)}}),h&&Ge("div",{className:"text-with-image",children:[H("textarea",{value:v,onChange:C=>{y(C.target.value),console.log(h)},placeholder:"Type a message",onKeyDown:C=>{C.key==="Enter"&&_(C)}}),Ge("div",{className:"image-container",children:[H(xU,{onClick:()=>d(null)}),H("img",{height:"80%",src:URL.createObjectURL(h)})]})]}),H("button",{onClick:_,type:"submit",children:"Send a message"})]}),H(Ko,{onClick:_,children:H(OU,{})})]})]})},ure={user:null},PU={SET_USER:"SET_USER"},lre=(t,e)=>{switch(e.type){case PU.SET_USER:return Uk(Fk({},t),{user:e.user});default:return t}},cre=()=>{const[{},t]=Bm();let e=CU();return H("div",{className:"login",children:H("div",{className:"login__container",children:H(bG,{onClick:()=>{cne.signInWithPopup(fne).then(r=>{var i,s;localStorage.setItem("USER_ID",(i=r.additionalUserInfo)==null?void 0:i.profile.id),localStorage.setItem("USER_NAME",(s=r.additionalUserInfo)==null?void 0:s.profile.name),t({type:PU.SET_USER,user:r.user}),e("../rooms/50OkbmJUkuWtIH2KJTiA",{replace:!0})}).catch(r=>alert(r.message))},children:"Sign in"})})})};function fre(){Bm();const t=localStorage.getItem("USER_ID");return H("div",{className:"App",children:!t||t.length===0?H(cre,{}):Ge("div",{className:"app__body",children:[H(Gne,{}),Ge($ne,{children:[H(j1,{path:"/",element:H(kU,{to:"/rooms/50OkbmJUkuWtIH2KJTiA",children:"Room"})}),H(j1,{path:"/rooms/:roomId",element:H(are,{})})]})]})})}Qw.createRoot(document.getElementById("root")).render(H(zne,{children:H(Hne,{initialState:ure,reducer:lre,children:H(sa.StrictMode,{children:H(fre,{})})})}));
